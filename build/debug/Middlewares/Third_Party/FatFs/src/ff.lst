ARM GAS  /tmp/ccSjSmmD.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ff.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
  20              		.section	.text.ld_word,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	ld_word:
  27              	.LVL0:
  28              	.LFB134:
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:Middlewares/Third_Party/FatFs/src/ff.c **** 
  24:Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 2


  31:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
  32:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
  33:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
  40:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  81:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
ARM GAS  /tmp/ccSjSmmD.s 			page 3


  88:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  89:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  90:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
  97:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 138:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
ARM GAS  /tmp/ccSjSmmD.s 			page 4


 145:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
 146:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 147:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
ARM GAS  /tmp/ccSjSmmD.s 			page 5


 202:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 203:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 204:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 211:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
ARM GAS  /tmp/ccSjSmmD.s 			page 6


 259:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
 260:Middlewares/Third_Party/FatFs/src/ff.c **** 
 261:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
ARM GAS  /tmp/ccSjSmmD.s 			page 7


 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 318:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
 325:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 8


 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
 374:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
 375:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 9


 430:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
 431:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
 432:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:Middlewares/Third_Party/FatFs/src/ff.c **** 
 480:Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
ARM GAS  /tmp/ccSjSmmD.s 			page 10


 487:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 496:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
 537:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 11


 544:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 546:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 553:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
 594:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 12


 601:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 602:Middlewares/Third_Party/FatFs/src/ff.c **** 
 603:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 610:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:Middlewares/Third_Party/FatFs/src/ff.c **** {
  29              		.loc 1 614 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 615:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
  34              		.loc 1 615 2 view .LVU1
 616:Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  35              		.loc 1 617 2 view .LVU2
  36              		.loc 1 617 10 is_stmt 0 view .LVU3
  37 0000 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  38              	.LVL1:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  39              		.loc 1 618 2 is_stmt 1 view .LVU4
  40              		.loc 1 618 20 is_stmt 0 view .LVU5
  41 0002 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  42              	.LVL2:
 619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  43              		.loc 1 619 2 is_stmt 1 view .LVU6
 620:Middlewares/Third_Party/FatFs/src/ff.c **** }
  44              		.loc 1 620 1 is_stmt 0 view .LVU7
  45 0004 40EA0220 		orr	r0, r0, r2, lsl #8
  46              	.LVL3:
  47              		.loc 1 620 1 view .LVU8
  48 0008 7047     		bx	lr
  49              		.cfi_endproc
  50              	.LFE134:
  52              		.section	.text.ld_dword,"ax",%progbits
  53              		.align	1
  54              		.syntax unified
  55              		.thumb
  56              		.thumb_func
  58              	ld_dword:
  59              	.LVL4:
  60              	.LFB135:
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:Middlewares/Third_Party/FatFs/src/ff.c **** {
  61              		.loc 1 624 1 is_stmt 1 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccSjSmmD.s 			page 13


  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65              		@ link register save eliminated.
 625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
  66              		.loc 1 625 2 view .LVU10
 626:Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
  67              		.loc 1 627 2 view .LVU11
  68              		.loc 1 627 10 is_stmt 0 view .LVU12
  69 0000 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  70              	.LVL5:
 628:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
  71              		.loc 1 628 2 is_stmt 1 view .LVU13
  72              		.loc 1 628 20 is_stmt 0 view .LVU14
  73 0002 8278     		ldrb	r2, [r0, #2]	@ zero_extendqisi2
  74              		.loc 1 628 5 view .LVU15
  75 0004 42EA0322 		orr	r2, r2, r3, lsl #8
  76              	.LVL6:
 629:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
  77              		.loc 1 629 2 is_stmt 1 view .LVU16
  78              		.loc 1 629 20 is_stmt 0 view .LVU17
  79 0008 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  80              		.loc 1 629 5 view .LVU18
  81 000a 43EA0223 		orr	r3, r3, r2, lsl #8
  82              	.LVL7:
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  83              		.loc 1 630 2 is_stmt 1 view .LVU19
  84              		.loc 1 630 20 is_stmt 0 view .LVU20
  85 000e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  86              	.LVL8:
 631:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  87              		.loc 1 631 2 is_stmt 1 view .LVU21
 632:Middlewares/Third_Party/FatFs/src/ff.c **** }
  88              		.loc 1 632 1 is_stmt 0 view .LVU22
  89 0010 40EA0320 		orr	r0, r0, r3, lsl #8
  90              	.LVL9:
  91              		.loc 1 632 1 view .LVU23
  92 0014 7047     		bx	lr
  93              		.cfi_endproc
  94              	.LFE135:
  96              		.section	.text.st_word,"ax",%progbits
  97              		.align	1
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 102              	st_word:
 103              	.LVL10:
 104              	.LFB136:
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
 642:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
ARM GAS  /tmp/ccSjSmmD.s 			page 14


 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:Middlewares/Third_Party/FatFs/src/ff.c **** static
 654:Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 105              		.loc 1 655 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              		@ link register save eliminated.
 656:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 110              		.loc 1 656 2 view .LVU25
 111              		.loc 1 656 9 is_stmt 0 view .LVU26
 112 0000 0170     		strb	r1, [r0]
 113              		.loc 1 656 22 is_stmt 1 view .LVU27
 114              	.LVL11:
 657:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 115              		.loc 1 657 2 view .LVU28
 116              		.loc 1 657 11 is_stmt 0 view .LVU29
 117 0002 090A     		lsrs	r1, r1, #8
 118              		.loc 1 657 9 view .LVU30
 119 0004 4170     		strb	r1, [r0, #1]
 658:Middlewares/Third_Party/FatFs/src/ff.c **** }
 120              		.loc 1 658 1 view .LVU31
 121 0006 7047     		bx	lr
 122              		.cfi_endproc
 123              	.LFE136:
 125              		.section	.text.st_dword,"ax",%progbits
 126              		.align	1
 127              		.syntax unified
 128              		.thumb
 129              		.thumb_func
 131              	st_dword:
 132              	.LVL12:
 133              	.LFB137:
 659:Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:Middlewares/Third_Party/FatFs/src/ff.c **** {
 134              		.loc 1 662 1 is_stmt 1 view -0
 135              		.cfi_startproc
 136              		@ args = 0, pretend = 0, frame = 0
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              		@ link register save eliminated.
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 139              		.loc 1 663 2 view .LVU33
 140              		.loc 1 663 9 is_stmt 0 view .LVU34
 141 0000 0170     		strb	r1, [r0]
 142              		.loc 1 663 22 is_stmt 1 view .LVU35
ARM GAS  /tmp/ccSjSmmD.s 			page 15


 143              	.LVL13:
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 144              		.loc 1 664 2 view .LVU36
 145              		.loc 1 664 11 is_stmt 0 view .LVU37
 146 0002 C1F30723 		ubfx	r3, r1, #8, #8
 147              		.loc 1 664 9 view .LVU38
 148 0006 4370     		strb	r3, [r0, #1]
 149              		.loc 1 664 22 is_stmt 1 view .LVU39
 150              	.LVL14:
 665:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 151              		.loc 1 665 2 view .LVU40
 152              		.loc 1 665 11 is_stmt 0 view .LVU41
 153 0008 C1F30743 		ubfx	r3, r1, #16, #8
 154              		.loc 1 665 9 view .LVU42
 155 000c 8370     		strb	r3, [r0, #2]
 156              		.loc 1 665 22 is_stmt 1 view .LVU43
 157              	.LVL15:
 666:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 158              		.loc 1 666 2 view .LVU44
 159              		.loc 1 666 11 is_stmt 0 view .LVU45
 160 000e 090E     		lsrs	r1, r1, #24
 161              	.LVL16:
 162              		.loc 1 666 9 view .LVU46
 163 0010 C170     		strb	r1, [r0, #3]
 667:Middlewares/Third_Party/FatFs/src/ff.c **** }
 164              		.loc 1 667 1 view .LVU47
 165 0012 7047     		bx	lr
 166              		.cfi_endproc
 167              	.LFE137:
 169              		.section	.text.mem_cpy,"ax",%progbits
 170              		.align	1
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 175              	mem_cpy:
 176              	.LVL17:
 177              	.LFB138:
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:Middlewares/Third_Party/FatFs/src/ff.c **** static
 671:Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
 684:Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccSjSmmD.s 			page 16


 688:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 178              		.loc 1 693 53 is_stmt 1 view -0
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
 182              		@ link register save eliminated.
 694:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 183              		.loc 1 694 2 view .LVU49
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 184              		.loc 1 695 2 view .LVU50
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 185              		.loc 1 697 2 view .LVU51
 186              		.loc 1 697 5 is_stmt 0 view .LVU52
 187 0000 9446     		mov	ip, r2
 188 0002 32B1     		cbz	r2, .L5
 189              	.LVL18:
 190              	.L7:
 698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 191              		.loc 1 698 3 is_stmt 1 view .LVU53
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 192              		.loc 1 699 4 view .LVU54
 193              		.loc 1 699 11 is_stmt 0 view .LVU55
 194 0004 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 195 0006 0131     		adds	r1, r1, #1
 196              	.LVL19:
 197              		.loc 1 699 9 view .LVU56
 198 0008 0270     		strb	r2, [r0]
 199 000a 0130     		adds	r0, r0, #1
 200              	.LVL20:
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 201              		.loc 1 700 12 is_stmt 1 discriminator 1 view .LVU57
 202              		.loc 1 700 12 is_stmt 0 discriminator 1 view .LVU58
 203 000c BCF1010C 		subs	ip, ip, #1
 204              	.LVL21:
 205              		.loc 1 700 12 discriminator 1 view .LVU59
 206 0010 F8D1     		bne	.L7
 207              	.LVL22:
 208              	.L5:
 701:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:Middlewares/Third_Party/FatFs/src/ff.c **** }
 209              		.loc 1 702 1 view .LVU60
 210 0012 7047     		bx	lr
 211              		.cfi_endproc
 212              	.LFE138:
 214              		.section	.text.mem_set,"ax",%progbits
 215              		.align	1
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 220              	mem_set:
 221              	.LFB139:
ARM GAS  /tmp/ccSjSmmD.s 			page 17


 703:Middlewares/Third_Party/FatFs/src/ff.c **** 
 704:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 222              		.loc 1 706 45 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226              		@ link register save eliminated.
 227              	.LVL23:
 228              	.L9:
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 229              		.loc 1 709 2 view .LVU62
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 230              		.loc 1 710 3 view .LVU63
 231              		.loc 1 710 8 is_stmt 0 view .LVU64
 232 0000 0170     		strb	r1, [r0]
 233 0002 0130     		adds	r0, r0, #1
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 234              		.loc 1 711 11 is_stmt 1 discriminator 1 view .LVU65
 235              	.LVL24:
 236              		.loc 1 711 11 is_stmt 0 discriminator 1 view .LVU66
 237 0004 013A     		subs	r2, r2, #1
 238              	.LVL25:
 239              		.loc 1 711 11 discriminator 1 view .LVU67
 240 0006 FBD1     		bne	.L9
 712:Middlewares/Third_Party/FatFs/src/ff.c **** }
 241              		.loc 1 712 1 view .LVU68
 242 0008 7047     		bx	lr
 243              		.cfi_endproc
 244              	.LFE139:
 246              		.section	.text.mem_cmp,"ax",%progbits
 247              		.align	1
 248              		.syntax unified
 249              		.thumb
 250              		.thumb_func
 252              	mem_cmp:
 253              	.LVL26:
 254              	.LFB140:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 255              		.loc 1 716 58 is_stmt 1 view -0
 256              		.cfi_startproc
 257              		@ args = 0, pretend = 0, frame = 0
 258              		@ frame_needed = 0, uses_anonymous_args = 0
 259              		@ link register save eliminated.
 260              		.loc 1 716 58 is_stmt 0 view .LVU70
 261 0000 8446     		mov	ip, r0
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 262              		.loc 1 717 2 is_stmt 1 view .LVU71
 263              	.LVL27:
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 264              		.loc 1 718 2 view .LVU72
ARM GAS  /tmp/ccSjSmmD.s 			page 18


 265              	.L12:
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 266              		.loc 1 720 2 view .LVU73
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 267              		.loc 1 721 3 view .LVU74
 268              		.loc 1 721 7 is_stmt 0 view .LVU75
 269 0002 9CF80000 		ldrb	r0, [ip]	@ zero_extendqisi2
 270 0006 0CF1010C 		add	ip, ip, #1
 271              	.LVL28:
 272              		.loc 1 721 14 view .LVU76
 273 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 274 000c 0131     		adds	r1, r1, #1
 275              	.LVL29:
 276              		.loc 1 721 5 view .LVU77
 277 000e C01A     		subs	r0, r0, r3
 278              	.LVL30:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 279              		.loc 1 722 17 is_stmt 1 discriminator 2 view .LVU78
 280              		.loc 1 722 17 is_stmt 0 discriminator 2 view .LVU79
 281 0010 013A     		subs	r2, r2, #1
 282              	.LVL31:
 283              		.loc 1 722 17 discriminator 2 view .LVU80
 284 0012 01D0     		beq	.L10
 285              		.loc 1 722 17 discriminator 1 view .LVU81
 286 0014 0028     		cmp	r0, #0
 287 0016 F4D0     		beq	.L12
 288              	.L10:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 725:Middlewares/Third_Party/FatFs/src/ff.c **** }
 289              		.loc 1 725 1 view .LVU82
 290 0018 7047     		bx	lr
 291              		.cfi_endproc
 292              	.LFE140:
 294              		.section	.text.chk_chr,"ax",%progbits
 295              		.align	1
 296              		.syntax unified
 297              		.thumb
 298              		.thumb_func
 300              	chk_chr:
 301              	.LVL32:
 302              	.LFB141:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 303              		.loc 1 729 40 is_stmt 1 view -0
 304              		.cfi_startproc
 305              		@ args = 0, pretend = 0, frame = 0
 306              		@ frame_needed = 0, uses_anonymous_args = 0
 307              		@ link register save eliminated.
 308              		.loc 1 729 40 is_stmt 0 view .LVU84
 309 0000 0346     		mov	r3, r0
 730:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 310              		.loc 1 730 2 is_stmt 1 view .LVU85
 311              		.loc 1 730 8 is_stmt 0 view .LVU86
ARM GAS  /tmp/ccSjSmmD.s 			page 19


 312 0002 00E0     		b	.L14
 313              	.LVL33:
 314              	.L16:
 315              		.loc 1 730 30 is_stmt 1 discriminator 3 view .LVU87
 316              		.loc 1 730 33 is_stmt 0 discriminator 3 view .LVU88
 317 0004 0133     		adds	r3, r3, #1
 318              	.LVL34:
 319              	.L14:
 320              		.loc 1 730 14 is_stmt 1 discriminator 1 view .LVU89
 321              		.loc 1 730 9 is_stmt 0 discriminator 1 view .LVU90
 322 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 323              		.loc 1 730 14 discriminator 1 view .LVU91
 324 0008 08B1     		cbz	r0, .L15
 325              		.loc 1 730 14 discriminator 2 view .LVU92
 326 000a 8842     		cmp	r0, r1
 327 000c FAD1     		bne	.L16
 328              	.L15:
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 329              		.loc 1 731 2 is_stmt 1 view .LVU93
 732:Middlewares/Third_Party/FatFs/src/ff.c **** }
 330              		.loc 1 732 1 is_stmt 0 view .LVU94
 331 000e 7047     		bx	lr
 332              		.cfi_endproc
 333              	.LFE141:
 335              		.section	.text.chk_lock,"ax",%progbits
 336              		.align	1
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 341              	chk_lock:
 342              	.LVL35:
 343              	.LFB142:
 733:Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 750:Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
ARM GAS  /tmp/ccSjSmmD.s 			page 20


 758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 759:Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:Middlewares/Third_Party/FatFs/src/ff.c **** {
 344              		.loc 1 775 1 is_stmt 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 348              		@ link register save eliminated.
 349              		.loc 1 775 1 is_stmt 0 view .LVU96
 350 0000 30B4     		push	{r4, r5}
 351              		.cfi_def_cfa_offset 8
 352              		.cfi_offset 4, -8
 353              		.cfi_offset 5, -4
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 354              		.loc 1 776 2 is_stmt 1 view .LVU97
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 355              		.loc 1 779 2 view .LVU98
 356              	.LVL36:
 357              		.loc 1 779 14 is_stmt 0 view .LVU99
 358 0002 0025     		movs	r5, #0
 359              		.loc 1 779 9 view .LVU100
 360 0004 2B46     		mov	r3, r5
 361              		.loc 1 779 2 view .LVU101
 362 0006 01E0     		b	.L18
 363              	.LVL37:
 364              	.L25:
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 365              		.loc 1 785 7 view .LVU102
 366 0008 0125     		movs	r5, #1
 367              	.LVL38:
 368              	.L19:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 369              		.loc 1 779 34 is_stmt 1 discriminator 2 view .LVU103
 370 000a 0133     		adds	r3, r3, #1
 371              	.LVL39:
ARM GAS  /tmp/ccSjSmmD.s 			page 21


 372              	.L18:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 373              		.loc 1 779 21 discriminator 1 view .LVU104
 374 000c 012B     		cmp	r3, #1
 375 000e 15D8     		bhi	.L20
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 376              		.loc 1 780 3 view .LVU105
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 377              		.loc 1 780 15 is_stmt 0 view .LVU106
 378 0010 1A01     		lsls	r2, r3, #4
 379 0012 174C     		ldr	r4, .L34
 380 0014 A258     		ldr	r2, [r4, r2]
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 381              		.loc 1 780 6 view .LVU107
 382 0016 002A     		cmp	r2, #0
 383 0018 F6D0     		beq	.L25
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 384              		.loc 1 781 4 is_stmt 1 view .LVU108
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 385              		.loc 1 781 30 is_stmt 0 view .LVU109
 386 001a 0468     		ldr	r4, [r0]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 387              		.loc 1 781 7 view .LVU110
 388 001c A242     		cmp	r2, r4
 389 001e F4D1     		bne	.L19
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 390              		.loc 1 782 13 view .LVU111
 391 0020 134A     		ldr	r2, .L34
 392 0022 02EB0312 		add	r2, r2, r3, lsl #4
 393 0026 5468     		ldr	r4, [r2, #4]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 394              		.loc 1 782 28 view .LVU112
 395 0028 8268     		ldr	r2, [r0, #8]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 396              		.loc 1 781 34 discriminator 1 view .LVU113
 397 002a 9442     		cmp	r4, r2
 398 002c EDD1     		bne	.L19
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 399              		.loc 1 783 13 view .LVU114
 400 002e 104A     		ldr	r2, .L34
 401 0030 02EB0312 		add	r2, r2, r3, lsl #4
 402 0034 9468     		ldr	r4, [r2, #8]
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 403              		.loc 1 783 23 view .LVU115
 404 0036 4269     		ldr	r2, [r0, #20]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 405              		.loc 1 782 36 view .LVU116
 406 0038 9442     		cmp	r4, r2
 407 003a E6D1     		bne	.L19
 408              	.L20:
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 409              		.loc 1 788 2 is_stmt 1 view .LVU117
 410              		.loc 1 788 5 is_stmt 0 view .LVU118
 411 003c 022B     		cmp	r3, #2
 412 003e 0AD0     		beq	.L31
ARM GAS  /tmp/ccSjSmmD.s 			page 22


 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 413              		.loc 1 793 2 is_stmt 1 view .LVU119
 414              		.loc 1 793 52 is_stmt 0 view .LVU120
 415 0040 A1B9     		cbnz	r1, .L28
 416              		.loc 1 793 25 discriminator 2 view .LVU121
 417 0042 0B4A     		ldr	r2, .L34
 418 0044 02EB0313 		add	r3, r2, r3, lsl #4
 419              	.LVL40:
 420              		.loc 1 793 25 discriminator 2 view .LVU122
 421 0048 9B89     		ldrh	r3, [r3, #12]
 422              		.loc 1 793 14 discriminator 2 view .LVU123
 423 004a B3F5807F 		cmp	r3, #256
 424 004e 0BD0     		beq	.L32
 425              		.loc 1 793 52 discriminator 4 view .LVU124
 426 0050 0020     		movs	r0, #0
 427              	.LVL41:
 428              	.L24:
 794:Middlewares/Third_Party/FatFs/src/ff.c **** }
 429              		.loc 1 794 1 view .LVU125
 430 0052 30BC     		pop	{r4, r5}
 431              		.cfi_remember_state
 432              		.cfi_restore 5
 433              		.cfi_restore 4
 434              		.cfi_def_cfa_offset 0
 435              	.LVL42:
 436              		.loc 1 794 1 view .LVU126
 437 0054 7047     		bx	lr
 438              	.LVL43:
 439              	.L31:
 440              		.cfi_restore_state
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 441              		.loc 1 789 3 is_stmt 1 view .LVU127
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 442              		.loc 1 789 35 is_stmt 0 view .LVU128
 443 0056 2DB9     		cbnz	r5, .L26
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 444              		.loc 1 789 14 discriminator 2 view .LVU129
 445 0058 0229     		cmp	r1, #2
 446 005a 01D0     		beq	.L33
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 447              		.loc 1 789 35 discriminator 4 view .LVU130
 448 005c 1220     		movs	r0, #18
 449              	.LVL44:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 450              		.loc 1 789 35 view .LVU131
 451 005e F8E7     		b	.L24
 452              	.LVL45:
 453              	.L33:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 454              		.loc 1 789 35 discriminator 3 view .LVU132
 455 0060 0020     		movs	r0, #0
 456              	.LVL46:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
ARM GAS  /tmp/ccSjSmmD.s 			page 23


 457              		.loc 1 789 35 discriminator 3 view .LVU133
 458 0062 F6E7     		b	.L24
 459              	.LVL47:
 460              	.L26:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 461              		.loc 1 789 35 discriminator 3 view .LVU134
 462 0064 0020     		movs	r0, #0
 463              	.LVL48:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 464              		.loc 1 789 35 discriminator 3 view .LVU135
 465 0066 F4E7     		b	.L24
 466              	.LVL49:
 467              	.L32:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 468              		.loc 1 793 52 discriminator 3 view .LVU136
 469 0068 1020     		movs	r0, #16
 470              	.LVL50:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 471              		.loc 1 793 52 discriminator 3 view .LVU137
 472 006a F2E7     		b	.L24
 473              	.LVL51:
 474              	.L28:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 475              		.loc 1 793 52 discriminator 3 view .LVU138
 476 006c 1020     		movs	r0, #16
 477              	.LVL52:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 478              		.loc 1 793 52 discriminator 3 view .LVU139
 479 006e F0E7     		b	.L24
 480              	.L35:
 481              		.align	2
 482              	.L34:
 483 0070 00000000 		.word	Files
 484              		.cfi_endproc
 485              	.LFE142:
 487              		.section	.text.enq_lock,"ax",%progbits
 488              		.align	1
 489              		.syntax unified
 490              		.thumb
 491              		.thumb_func
 493              	enq_lock:
 494              	.LFB143:
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:Middlewares/Third_Party/FatFs/src/ff.c **** {
 495              		.loc 1 799 1 is_stmt 1 view -0
 496              		.cfi_startproc
 497              		@ args = 0, pretend = 0, frame = 0
 498              		@ frame_needed = 0, uses_anonymous_args = 0
 499              		@ link register save eliminated.
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 500              		.loc 1 800 2 view .LVU141
 801:Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 501              		.loc 1 802 2 view .LVU142
ARM GAS  /tmp/ccSjSmmD.s 			page 24


 502              	.LVL53:
 503              		.loc 1 802 9 is_stmt 0 view .LVU143
 504 0000 0020     		movs	r0, #0
 505              		.loc 1 802 2 view .LVU144
 506 0002 00E0     		b	.L37
 507              	.LVL54:
 508              	.L39:
 509              		.loc 1 802 44 is_stmt 1 discriminator 4 view .LVU145
 510 0004 0130     		adds	r0, r0, #1
 511              	.LVL55:
 512              	.L37:
 513              		.loc 1 802 27 discriminator 1 view .LVU146
 514 0006 0128     		cmp	r0, #1
 515 0008 04D8     		bhi	.L38
 516              		.loc 1 802 38 is_stmt 0 discriminator 3 view .LVU147
 517 000a 0301     		lsls	r3, r0, #4
 518 000c 034A     		ldr	r2, .L40
 519 000e D358     		ldr	r3, [r2, r3]
 520              		.loc 1 802 27 discriminator 3 view .LVU148
 521 0010 002B     		cmp	r3, #0
 522 0012 F7D1     		bne	.L39
 523              	.L38:
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 524              		.loc 1 803 2 is_stmt 1 view .LVU149
 804:Middlewares/Third_Party/FatFs/src/ff.c **** }
 525              		.loc 1 804 1 is_stmt 0 view .LVU150
 526 0014 0238     		subs	r0, r0, #2
 527              	.LVL56:
 528              		.loc 1 804 1 view .LVU151
 529 0016 18BF     		it	ne
 530 0018 0120     		movne	r0, #1
 531              	.LVL57:
 532              		.loc 1 804 1 view .LVU152
 533 001a 7047     		bx	lr
 534              	.L41:
 535              		.align	2
 536              	.L40:
 537 001c 00000000 		.word	Files
 538              		.cfi_endproc
 539              	.LFE143:
 541              		.section	.text.inc_lock,"ax",%progbits
 542              		.align	1
 543              		.syntax unified
 544              		.thumb
 545              		.thumb_func
 547              	inc_lock:
 548              	.LVL58:
 549              	.LFB144:
 805:Middlewares/Third_Party/FatFs/src/ff.c **** 
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:Middlewares/Third_Party/FatFs/src/ff.c **** {
 550              		.loc 1 812 1 is_stmt 1 view -0
ARM GAS  /tmp/ccSjSmmD.s 			page 25


 551              		.cfi_startproc
 552              		@ args = 0, pretend = 0, frame = 0
 553              		@ frame_needed = 0, uses_anonymous_args = 0
 554              		@ link register save eliminated.
 555              		.loc 1 812 1 is_stmt 0 view .LVU154
 556 0000 70B4     		push	{r4, r5, r6}
 557              		.cfi_def_cfa_offset 12
 558              		.cfi_offset 4, -12
 559              		.cfi_offset 5, -8
 560              		.cfi_offset 6, -4
 813:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 561              		.loc 1 813 2 is_stmt 1 view .LVU155
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 562              		.loc 1 816 2 view .LVU156
 563              	.LVL59:
 564              		.loc 1 816 9 is_stmt 0 view .LVU157
 565 0002 0023     		movs	r3, #0
 566              		.loc 1 816 2 view .LVU158
 567 0004 00E0     		b	.L43
 568              	.LVL60:
 569              	.L44:
 570              		.loc 1 816 29 is_stmt 1 discriminator 2 view .LVU159
 571 0006 0133     		adds	r3, r3, #1
 572              	.LVL61:
 573              	.L43:
 574              		.loc 1 816 16 discriminator 1 view .LVU160
 575 0008 012B     		cmp	r3, #1
 576 000a 13D8     		bhi	.L45
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 577              		.loc 1 817 3 view .LVU161
 578              		.loc 1 817 15 is_stmt 0 view .LVU162
 579 000c 1A01     		lsls	r2, r3, #4
 580 000e 234C     		ldr	r4, .L59
 581 0010 A458     		ldr	r4, [r4, r2]
 582              		.loc 1 817 29 view .LVU163
 583 0012 0268     		ldr	r2, [r0]
 584              		.loc 1 817 6 view .LVU164
 585 0014 9442     		cmp	r4, r2
 586 0016 F6D1     		bne	.L44
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 587              		.loc 1 818 12 view .LVU165
 588 0018 204A     		ldr	r2, .L59
 589 001a 02EB0312 		add	r2, r2, r3, lsl #4
 590 001e 5468     		ldr	r4, [r2, #4]
 591              		.loc 1 818 27 view .LVU166
 592 0020 8268     		ldr	r2, [r0, #8]
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 593              		.loc 1 817 33 discriminator 1 view .LVU167
 594 0022 9442     		cmp	r4, r2
 595 0024 EFD1     		bne	.L44
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 596              		.loc 1 819 12 view .LVU168
 597 0026 1D4A     		ldr	r2, .L59
 598 0028 02EB0312 		add	r2, r2, r3, lsl #4
 599 002c 9468     		ldr	r4, [r2, #8]
ARM GAS  /tmp/ccSjSmmD.s 			page 26


 600              		.loc 1 819 22 view .LVU169
 601 002e 4269     		ldr	r2, [r0, #20]
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 602              		.loc 1 818 35 view .LVU170
 603 0030 9442     		cmp	r4, r2
 604 0032 E8D1     		bne	.L44
 605              	.L45:
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 606              		.loc 1 822 2 is_stmt 1 view .LVU171
 607              		.loc 1 822 5 is_stmt 0 view .LVU172
 608 0034 022B     		cmp	r3, #2
 609 0036 08D0     		beq	.L58
 610              	.LVL62:
 611              	.L48:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 829:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 612              		.loc 1 831 2 is_stmt 1 view .LVU173
 613              		.loc 1 831 5 is_stmt 0 view .LVU174
 614 0038 F9B1     		cbz	r1, .L52
 615              		.loc 1 831 21 discriminator 1 view .LVU175
 616 003a 184A     		ldr	r2, .L59
 617 003c 02EB0312 		add	r2, r2, r3, lsl #4
 618 0040 9289     		ldrh	r2, [r2, #12]
 619              		.loc 1 831 10 discriminator 1 view .LVU176
 620 0042 4ABB     		cbnz	r2, .L56
 832:Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 621              		.loc 1 833 15 discriminator 2 view .LVU177
 622 0044 4FF48072 		mov	r2, #256
 623 0048 1DE0     		b	.L53
 624              	.LVL63:
 625              	.L58:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 626              		.loc 1 823 10 view .LVU178
 627 004a 0023     		movs	r3, #0
 628              	.LVL64:
 629              	.L47:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 630              		.loc 1 823 28 is_stmt 1 discriminator 1 view .LVU179
 631 004c 012B     		cmp	r3, #1
 632 004e 05D8     		bhi	.L49
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 633              		.loc 1 823 39 is_stmt 0 discriminator 3 view .LVU180
 634 0050 1A01     		lsls	r2, r3, #4
 635 0052 124C     		ldr	r4, .L59
 636 0054 A258     		ldr	r2, [r4, r2]
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 637              		.loc 1 823 28 discriminator 3 view .LVU181
ARM GAS  /tmp/ccSjSmmD.s 			page 27


 638 0056 0AB1     		cbz	r2, .L49
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 639              		.loc 1 823 45 is_stmt 1 discriminator 4 view .LVU182
 640 0058 0133     		adds	r3, r3, #1
 641              	.LVL65:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 642              		.loc 1 823 45 is_stmt 0 discriminator 4 view .LVU183
 643 005a F7E7     		b	.L47
 644              	.L49:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 645              		.loc 1 824 3 is_stmt 1 view .LVU184
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 646              		.loc 1 824 6 is_stmt 0 view .LVU185
 647 005c 022B     		cmp	r3, #2
 648 005e 19D0     		beq	.L55
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 649              		.loc 1 825 3 is_stmt 1 view .LVU186
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 650              		.loc 1 825 15 is_stmt 0 view .LVU187
 651 0060 0E4D     		ldr	r5, .L59
 652 0062 1C01     		lsls	r4, r3, #4
 653 0064 05EB0312 		add	r2, r5, r3, lsl #4
 654 0068 0668     		ldr	r6, [r0]
 655 006a 2E51     		str	r6, [r5, r4]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 656              		.loc 1 826 3 is_stmt 1 view .LVU188
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 657              		.loc 1 826 25 is_stmt 0 view .LVU189
 658 006c 8468     		ldr	r4, [r0, #8]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 659              		.loc 1 826 16 view .LVU190
 660 006e 5460     		str	r4, [r2, #4]
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 661              		.loc 1 827 3 is_stmt 1 view .LVU191
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 662              		.loc 1 827 20 is_stmt 0 view .LVU192
 663 0070 4069     		ldr	r0, [r0, #20]
 664              	.LVL66:
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 665              		.loc 1 827 16 view .LVU193
 666 0072 9060     		str	r0, [r2, #8]
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 667              		.loc 1 828 3 is_stmt 1 view .LVU194
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 668              		.loc 1 828 16 is_stmt 0 view .LVU195
 669 0074 0020     		movs	r0, #0
 670 0076 9081     		strh	r0, [r2, #12]	@ movhi
 671 0078 DEE7     		b	.L48
 672              	.L52:
 673              		.loc 1 833 39 discriminator 1 view .LVU196
 674 007a 084A     		ldr	r2, .L59
 675 007c 02EB0312 		add	r2, r2, r3, lsl #4
 676 0080 9289     		ldrh	r2, [r2, #12]
 677              		.loc 1 833 15 discriminator 1 view .LVU197
 678 0082 0132     		adds	r2, r2, #1
 679 0084 92B2     		uxth	r2, r2
 680              	.L53:
ARM GAS  /tmp/ccSjSmmD.s 			page 28


 681              		.loc 1 833 15 discriminator 4 view .LVU198
 682 0086 0549     		ldr	r1, .L59
 683              	.LVL67:
 684              		.loc 1 833 15 discriminator 4 view .LVU199
 685 0088 01EB0311 		add	r1, r1, r3, lsl #4
 686 008c 8A81     		strh	r2, [r1, #12]	@ movhi
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 
 835:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 687              		.loc 1 835 2 is_stmt 1 view .LVU200
 688              		.loc 1 835 11 is_stmt 0 view .LVU201
 689 008e 581C     		adds	r0, r3, #1
 690              	.L42:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** }
 691              		.loc 1 836 1 view .LVU202
 692 0090 70BC     		pop	{r4, r5, r6}
 693              		.cfi_remember_state
 694              		.cfi_restore 6
 695              		.cfi_restore 5
 696              		.cfi_restore 4
 697              		.cfi_def_cfa_offset 0
 698 0092 7047     		bx	lr
 699              	.LVL68:
 700              	.L55:
 701              		.cfi_restore_state
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 702              		.loc 1 824 29 discriminator 1 view .LVU203
 703 0094 0020     		movs	r0, #0
 704              	.LVL69:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 705              		.loc 1 824 29 discriminator 1 view .LVU204
 706 0096 FBE7     		b	.L42
 707              	.L56:
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 
 708              		.loc 1 831 34 discriminator 2 view .LVU205
 709 0098 0020     		movs	r0, #0
 710 009a F9E7     		b	.L42
 711              	.L60:
 712              		.align	2
 713              	.L59:
 714 009c 00000000 		.word	Files
 715              		.cfi_endproc
 716              	.LFE144:
 718              		.section	.text.dec_lock,"ax",%progbits
 719              		.align	1
 720              		.syntax unified
 721              		.thumb
 722              		.thumb_func
 724              	dec_lock:
 725              	.LVL70:
 726              	.LFB145:
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccSjSmmD.s 			page 29


 727              		.loc 1 843 1 is_stmt 1 view -0
 728              		.cfi_startproc
 729              		@ args = 0, pretend = 0, frame = 0
 730              		@ frame_needed = 0, uses_anonymous_args = 0
 731              		@ link register save eliminated.
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 732              		.loc 1 844 2 view .LVU207
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 733              		.loc 1 845 2 view .LVU208
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 734              		.loc 1 848 2 view .LVU209
 735              		.loc 1 848 5 is_stmt 0 view .LVU210
 736 0000 0138     		subs	r0, r0, #1
 737              	.LVL71:
 738              		.loc 1 848 5 view .LVU211
 739 0002 0128     		cmp	r0, #1
 740 0004 15D8     		bhi	.L65
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 741              		.loc 1 849 3 is_stmt 1 view .LVU212
 742              		.loc 1 849 5 is_stmt 0 view .LVU213
 743 0006 0D4B     		ldr	r3, .L68
 744 0008 03EB0013 		add	r3, r3, r0, lsl #4
 745 000c 9B89     		ldrh	r3, [r3, #12]
 746              	.LVL72:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 747              		.loc 1 850 3 is_stmt 1 view .LVU214
 748              		.loc 1 850 6 is_stmt 0 view .LVU215
 749 000e B3F5807F 		cmp	r3, #256
 750 0012 03D0     		beq	.L66
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 751              		.loc 1 851 3 is_stmt 1 view .LVU216
 752              		.loc 1 851 6 is_stmt 0 view .LVU217
 753 0014 43B1     		cbz	r3, .L64
 754              		.loc 1 851 14 is_stmt 1 discriminator 1 view .LVU218
 755              		.loc 1 851 15 is_stmt 0 discriminator 1 view .LVU219
 756 0016 013B     		subs	r3, r3, #1
 757              	.LVL73:
 758              		.loc 1 851 15 discriminator 1 view .LVU220
 759 0018 9BB2     		uxth	r3, r3
 760              	.LVL74:
 761              		.loc 1 851 15 discriminator 1 view .LVU221
 762 001a 00E0     		b	.L63
 763              	.L66:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 764              		.loc 1 850 21 discriminator 1 view .LVU222
 765 001c 0023     		movs	r3, #0
 766              	.LVL75:
 767              	.L63:
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 768              		.loc 1 852 3 is_stmt 1 view .LVU223
 769              		.loc 1 852 16 is_stmt 0 view .LVU224
 770 001e 074A     		ldr	r2, .L68
 771 0020 02EB0012 		add	r2, r2, r0, lsl #4
 772 0024 9381     		strh	r3, [r2, #12]	@ movhi
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
ARM GAS  /tmp/ccSjSmmD.s 			page 30


 773              		.loc 1 853 3 is_stmt 1 view .LVU225
 774              		.loc 1 853 6 is_stmt 0 view .LVU226
 775 0026 33B9     		cbnz	r3, .L67
 776              	.L64:
 777              	.LVL76:
 778              		.loc 1 853 15 is_stmt 1 discriminator 1 view .LVU227
 779              		.loc 1 853 27 is_stmt 0 discriminator 1 view .LVU228
 780 0028 0301     		lsls	r3, r0, #4
 781 002a 0020     		movs	r0, #0
 782              	.LVL77:
 783              		.loc 1 853 27 discriminator 1 view .LVU229
 784 002c 034A     		ldr	r2, .L68
 785 002e D050     		str	r0, [r2, r3]
 786 0030 7047     		bx	lr
 787              	.LVL78:
 788              	.L65:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 789              		.loc 1 856 7 view .LVU230
 790 0032 0220     		movs	r0, #2
 791              	.LVL79:
 792              		.loc 1 856 7 view .LVU231
 793 0034 7047     		bx	lr
 794              	.LVL80:
 795              	.L67:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 796              		.loc 1 854 7 view .LVU232
 797 0036 0020     		movs	r0, #0
 798              	.LVL81:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 799              		.loc 1 858 2 is_stmt 1 view .LVU233
 859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 800              		.loc 1 859 1 is_stmt 0 view .LVU234
 801 0038 7047     		bx	lr
 802              	.L69:
 803 003a 00BF     		.align	2
 804              	.L68:
 805 003c 00000000 		.word	Files
 806              		.cfi_endproc
 807              	.LFE145:
 809              		.section	.text.clear_lock,"ax",%progbits
 810              		.align	1
 811              		.syntax unified
 812              		.thumb
 813              		.thumb_func
 815              	clear_lock:
 816              	.LVL82:
 817              	.LFB146:
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccSjSmmD.s 			page 31


 818              		.loc 1 866 1 is_stmt 1 view -0
 819              		.cfi_startproc
 820              		@ args = 0, pretend = 0, frame = 0
 821              		@ frame_needed = 0, uses_anonymous_args = 0
 822              		@ link register save eliminated.
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 823              		.loc 1 867 2 view .LVU236
 868:Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 824              		.loc 1 869 2 view .LVU237
 825              		.loc 1 869 9 is_stmt 0 view .LVU238
 826 0000 0023     		movs	r3, #0
 827              		.loc 1 869 2 view .LVU239
 828 0002 03E0     		b	.L75
 829              	.LVL83:
 830              	.L82:
 831              		.cfi_def_cfa_offset 4
 832              		.cfi_offset 4, -4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 833              		.loc 1 872 1 view .LVU240
 834 0004 5DF8044B 		ldr	r4, [sp], #4
 835              		.cfi_restore 4
 836              		.cfi_def_cfa_offset 0
 837 0008 7047     		bx	lr
 838              	.L81:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 839              		.loc 1 869 29 is_stmt 1 discriminator 2 view .LVU241
 840 000a 0133     		adds	r3, r3, #1
 841              	.LVL84:
 842              	.L75:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 843              		.loc 1 869 16 discriminator 1 view .LVU242
 844 000c 012B     		cmp	r3, #1
 845 000e 11D8     		bhi	.L80
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 846              		.loc 1 870 3 view .LVU243
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 847              		.loc 1 870 15 is_stmt 0 view .LVU244
 848 0010 1A01     		lsls	r2, r3, #4
 849 0012 0949     		ldr	r1, .L83
 850 0014 8A58     		ldr	r2, [r1, r2]
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 851              		.loc 1 870 6 view .LVU245
 852 0016 8242     		cmp	r2, r0
 853 0018 F7D1     		bne	.L81
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 854              		.loc 1 866 1 view .LVU246
 855 001a 10B4     		push	{r4}
 856              		.cfi_def_cfa_offset 4
 857              		.cfi_offset 4, -4
 858              	.L76:
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 859              		.loc 1 870 26 is_stmt 1 discriminator 1 view .LVU247
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 860              		.loc 1 870 38 is_stmt 0 discriminator 1 view .LVU248
ARM GAS  /tmp/ccSjSmmD.s 			page 32


 861 001c 1A01     		lsls	r2, r3, #4
 862 001e 0024     		movs	r4, #0
 863 0020 8C50     		str	r4, [r1, r2]
 864              	.L72:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 865              		.loc 1 869 29 is_stmt 1 discriminator 2 view .LVU249
 866 0022 0133     		adds	r3, r3, #1
 867              	.LVL85:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 868              		.loc 1 869 16 discriminator 1 view .LVU250
 869 0024 012B     		cmp	r3, #1
 870 0026 EDD8     		bhi	.L82
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871              		.loc 1 870 3 view .LVU251
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 872              		.loc 1 870 15 is_stmt 0 view .LVU252
 873 0028 1A01     		lsls	r2, r3, #4
 874 002a 0349     		ldr	r1, .L83
 875 002c 8A58     		ldr	r2, [r1, r2]
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 876              		.loc 1 870 6 view .LVU253
 877 002e 8242     		cmp	r2, r0
 878 0030 F7D1     		bne	.L72
 879 0032 F3E7     		b	.L76
 880              	.L80:
 881              		.cfi_def_cfa_offset 0
 882              		.cfi_restore 4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 883              		.loc 1 870 6 view .LVU254
 884 0034 7047     		bx	lr
 885              	.L84:
 886 0036 00BF     		.align	2
 887              	.L83:
 888 0038 00000000 		.word	Files
 889              		.cfi_endproc
 890              	.LFE146:
 892              		.section	.text.clust2sect,"ax",%progbits
 893              		.align	1
 894              		.syntax unified
 895              		.thumb
 896              		.thumb_func
 898              	clust2sect:
 899              	.LVL86:
 900              	.LFB150:
 873:Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 879:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:Middlewares/Third_Party/FatFs/src/ff.c **** static
 883:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/ccSjSmmD.s 			page 33


 886:Middlewares/Third_Party/FatFs/src/ff.c **** {
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 907:Middlewares/Third_Party/FatFs/src/ff.c **** }
 908:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:Middlewares/Third_Party/FatFs/src/ff.c **** {
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 921:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 933:Middlewares/Third_Party/FatFs/src/ff.c **** }
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 34


 943:Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:Middlewares/Third_Party/FatFs/src/ff.c **** {
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 972:Middlewares/Third_Party/FatFs/src/ff.c **** }
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 974:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:Middlewares/Third_Party/FatFs/src/ff.c **** )
 987:Middlewares/Third_Party/FatFs/src/ff.c **** {
 901              		.loc 1 987 1 is_stmt 1 view -0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 0
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 905              		@ link register save eliminated.
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 906              		.loc 1 988 2 view .LVU256
 907              		.loc 1 988 7 is_stmt 0 view .LVU257
 908 0000 0239     		subs	r1, r1, #2
 909              	.LVL87:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 910              		.loc 1 989 2 is_stmt 1 view .LVU258
ARM GAS  /tmp/ccSjSmmD.s 			page 35


 911              		.loc 1 989 16 is_stmt 0 view .LVU259
 912 0002 8369     		ldr	r3, [r0, #24]
 913              		.loc 1 989 27 view .LVU260
 914 0004 023B     		subs	r3, r3, #2
 915              		.loc 1 989 5 view .LVU261
 916 0006 8B42     		cmp	r3, r1
 917 0008 04D9     		bls	.L87
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 918              		.loc 1 990 2 is_stmt 1 view .LVU262
 919              		.loc 1 990 18 is_stmt 0 view .LVU263
 920 000a 4389     		ldrh	r3, [r0, #10]
 921              		.loc 1 990 30 view .LVU264
 922 000c C06A     		ldr	r0, [r0, #44]
 923              	.LVL88:
 924              		.loc 1 990 26 view .LVU265
 925 000e 01FB0300 		mla	r0, r1, r3, r0
 926 0012 7047     		bx	lr
 927              	.LVL89:
 928              	.L87:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 929              		.loc 1 989 39 discriminator 1 view .LVU266
 930 0014 0020     		movs	r0, #0
 931              	.LVL90:
 991:Middlewares/Third_Party/FatFs/src/ff.c **** }
 932              		.loc 1 991 1 view .LVU267
 933 0016 7047     		bx	lr
 934              		.cfi_endproc
 935              	.LFE150:
 937              		.section	.text.clmt_clust,"ax",%progbits
 938              		.align	1
 939              		.syntax unified
 940              		.thumb
 941              		.thumb_func
 943              	clmt_clust:
 944              	.LVL91:
 945              	.LFB155:
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 999:Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:Middlewares/Third_Party/FatFs/src/ff.c **** {
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1009:Middlewares/Third_Party/FatFs/src/ff.c **** 
1010:Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
ARM GAS  /tmp/ccSjSmmD.s 			page 36


1013:Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1037:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1061:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
ARM GAS  /tmp/ccSjSmmD.s 			page 37


1070:Middlewares/Third_Party/FatFs/src/ff.c **** }
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 
1075:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:Middlewares/Third_Party/FatFs/src/ff.c **** static
1081:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** )
1086:Middlewares/Third_Party/FatFs/src/ff.c **** {
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1113:Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccSjSmmD.s 			page 38


1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1128:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1129:Middlewares/Third_Party/FatFs/src/ff.c **** }
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1138:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
1143:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** )
1151:Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
ARM GAS  /tmp/ccSjSmmD.s 			page 39


1184:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
1201:Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1208:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:Middlewares/Third_Party/FatFs/src/ff.c **** {
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1238:Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 40


1241:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:Middlewares/Third_Party/FatFs/src/ff.c **** {
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1280:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
ARM GAS  /tmp/ccSjSmmD.s 			page 41


1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1304:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1308:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1309:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
1312:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
1329:Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1342:Middlewares/Third_Party/FatFs/src/ff.c **** }
1343:Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/ccSjSmmD.s 			page 42


1355:Middlewares/Third_Party/FatFs/src/ff.c **** {
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
1398:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
1406:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
1411:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccSjSmmD.s 			page 43


1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
1427:Middlewares/Third_Party/FatFs/src/ff.c **** }
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 
1434:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1436:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:Middlewares/Third_Party/FatFs/src/ff.c **** {
 946              		.loc 1 1444 1 is_stmt 1 view -0
 947              		.cfi_startproc
 948              		@ args = 0, pretend = 0, frame = 0
 949              		@ frame_needed = 0, uses_anonymous_args = 0
 950              		@ link register save eliminated.
1445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 951              		.loc 1 1445 2 view .LVU269
1446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 952              		.loc 1 1446 2 view .LVU270
 953              		.loc 1 1446 9 is_stmt 0 view .LVU271
 954 0000 0268     		ldr	r2, [r0]
 955              	.LVL92:
1447:Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 956              		.loc 1 1449 2 is_stmt 1 view .LVU272
 957              		.loc 1 1449 10 is_stmt 0 view .LVU273
 958 0002 C36A     		ldr	r3, [r0, #44]
 959              		.loc 1 1449 6 view .LVU274
 960 0004 0433     		adds	r3, r3, #4
 961              	.LVL93:
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 962              		.loc 1 1450 2 is_stmt 1 view .LVU275
 963              		.loc 1 1450 19 is_stmt 0 view .LVU276
ARM GAS  /tmp/ccSjSmmD.s 			page 44


 964 0006 490A     		lsrs	r1, r1, #9
 965              	.LVL94:
 966              		.loc 1 1450 32 view .LVU277
 967 0008 5289     		ldrh	r2, [r2, #10]
 968              	.LVL95:
 969              		.loc 1 1450 5 view .LVU278
 970 000a B1FBF2F1 		udiv	r1, r1, r2
 971 000e 01E0     		b	.L91
 972              	.LVL96:
 973              	.L92:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1455:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 974              		.loc 1 1455 3 is_stmt 1 view .LVU279
 975              		.loc 1 1455 6 is_stmt 0 view .LVU280
 976 0010 091A     		subs	r1, r1, r0
 977              	.LVL97:
 978              		.loc 1 1455 14 is_stmt 1 view .LVU281
 979              		.loc 1 1455 17 is_stmt 0 view .LVU282
 980 0012 0833     		adds	r3, r3, #8
 981              	.LVL98:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 982              		.loc 1 1451 2 is_stmt 1 view .LVU283
 983              	.L91:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 984              		.loc 1 1451 2 view .LVU284
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 985              		.loc 1 1452 3 view .LVU285
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 986              		.loc 1 1452 7 is_stmt 0 view .LVU286
 987 0014 1868     		ldr	r0, [r3]
 988              	.LVL99:
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 989              		.loc 1 1453 3 is_stmt 1 view .LVU287
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 990              		.loc 1 1453 6 is_stmt 0 view .LVU288
 991 0016 18B1     		cbz	r0, .L88
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 992              		.loc 1 1454 3 is_stmt 1 view .LVU289
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 993              		.loc 1 1454 6 is_stmt 0 view .LVU290
 994 0018 8142     		cmp	r1, r0
 995 001a F9D2     		bcs	.L92
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 996              		.loc 1 1457 2 is_stmt 1 view .LVU291
 997              		.loc 1 1457 14 is_stmt 0 view .LVU292
 998 001c 5868     		ldr	r0, [r3, #4]
 999              	.LVL100:
 1000              		.loc 1 1457 12 view .LVU293
 1001 001e 0844     		add	r0, r0, r1
 1002              	.L88:
1458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1003              		.loc 1 1458 1 view .LVU294
 1004 0020 7047     		bx	lr
ARM GAS  /tmp/ccSjSmmD.s 			page 45


 1005              		.cfi_endproc
 1006              	.LFE155:
 1008              		.section	.text.ld_clust,"ax",%progbits
 1009              		.align	1
 1010              		.syntax unified
 1011              		.thumb
 1012              		.thumb_func
 1014              	ld_clust:
 1015              	.LVL101:
 1016              	.LFB159:
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:Middlewares/Third_Party/FatFs/src/ff.c **** {
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
ARM GAS  /tmp/ccSjSmmD.s 			page 46


1506:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
1507:Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1509:Middlewares/Third_Party/FatFs/src/ff.c **** }
1510:Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1516:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:Middlewares/Third_Party/FatFs/src/ff.c **** 
1518:Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:Middlewares/Third_Party/FatFs/src/ff.c **** {
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1526:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
1547:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
1550:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccSjSmmD.s 			page 47


1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
1564:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
1571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1578:Middlewares/Third_Party/FatFs/src/ff.c **** }
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1605:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
1609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
ARM GAS  /tmp/ccSjSmmD.s 			page 48


1620:Middlewares/Third_Party/FatFs/src/ff.c **** }
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:Middlewares/Third_Party/FatFs/src/ff.c **** static
1632:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1017              		.loc 1 1636 1 is_stmt 1 view -0
 1018              		.cfi_startproc
 1019              		@ args = 0, pretend = 0, frame = 0
 1020              		@ frame_needed = 0, uses_anonymous_args = 0
 1021              		.loc 1 1636 1 is_stmt 0 view .LVU296
 1022 0000 70B5     		push	{r4, r5, r6, lr}
 1023              		.cfi_def_cfa_offset 16
 1024              		.cfi_offset 4, -16
 1025              		.cfi_offset 5, -12
 1026              		.cfi_offset 6, -8
 1027              		.cfi_offset 14, -4
 1028 0002 0646     		mov	r6, r0
 1029 0004 0D46     		mov	r5, r1
1637:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 1030              		.loc 1 1637 2 is_stmt 1 view .LVU297
1638:Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 1031              		.loc 1 1639 2 view .LVU298
 1032              		.loc 1 1639 7 is_stmt 0 view .LVU299
 1033 0006 01F11A00 		add	r0, r1, #26
 1034              	.LVL102:
 1035              		.loc 1 1639 7 view .LVU300
 1036 000a FFF7FEFF 		bl	ld_word
 1037              	.LVL103:
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1038              		.loc 1 1640 2 is_stmt 1 view .LVU301
 1039              		.loc 1 1640 8 is_stmt 0 view .LVU302
 1040 000e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1041              		.loc 1 1640 5 view .LVU303
 1042 0010 032B     		cmp	r3, #3
 1043 0012 00D0     		beq	.L96
 1044              	.LVL104:
 1045              	.L93:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1046              		.loc 1 1645 1 view .LVU304
 1047 0014 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccSjSmmD.s 			page 49


 1048              	.LVL105:
 1049              	.L96:
 1050              		.loc 1 1645 1 view .LVU305
 1051 0016 0446     		mov	r4, r0
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1052              		.loc 1 1641 3 is_stmt 1 view .LVU306
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1053              		.loc 1 1641 16 is_stmt 0 view .LVU307
 1054 0018 05F11400 		add	r0, r5, #20
 1055              	.LVL106:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1056              		.loc 1 1641 16 view .LVU308
 1057 001c FFF7FEFF 		bl	ld_word
 1058              	.LVL107:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1059              		.loc 1 1641 6 discriminator 1 view .LVU309
 1060 0020 44EA0040 		orr	r0, r4, r0, lsl #16
 1061              	.LVL108:
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1062              		.loc 1 1644 2 is_stmt 1 view .LVU310
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1063              		.loc 1 1644 9 is_stmt 0 view .LVU311
 1064 0024 F6E7     		b	.L93
 1065              		.cfi_endproc
 1066              	.LFE159:
 1068              		.section	.text.st_clust,"ax",%progbits
 1069              		.align	1
 1070              		.syntax unified
 1071              		.thumb
 1072              		.thumb_func
 1074              	st_clust:
 1075              	.LVL109:
 1076              	.LFB160:
1646:Middlewares/Third_Party/FatFs/src/ff.c **** 
1647:Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1649:Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1077              		.loc 1 1655 1 is_stmt 1 view -0
 1078              		.cfi_startproc
 1079              		@ args = 0, pretend = 0, frame = 0
 1080              		@ frame_needed = 0, uses_anonymous_args = 0
 1081              		.loc 1 1655 1 is_stmt 0 view .LVU313
 1082 0000 70B5     		push	{r4, r5, r6, lr}
 1083              		.cfi_def_cfa_offset 16
 1084              		.cfi_offset 4, -16
 1085              		.cfi_offset 5, -12
 1086              		.cfi_offset 6, -8
 1087              		.cfi_offset 14, -4
 1088 0002 0646     		mov	r6, r0
 1089 0004 0C46     		mov	r4, r1
 1090 0006 1546     		mov	r5, r2
ARM GAS  /tmp/ccSjSmmD.s 			page 50


1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
 1091              		.loc 1 1656 2 is_stmt 1 view .LVU314
 1092 0008 91B2     		uxth	r1, r2
 1093              	.LVL110:
 1094              		.loc 1 1656 2 is_stmt 0 view .LVU315
 1095 000a 04F11A00 		add	r0, r4, #26
 1096              	.LVL111:
 1097              		.loc 1 1656 2 view .LVU316
 1098 000e FFF7FEFF 		bl	st_word
 1099              	.LVL112:
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1100              		.loc 1 1657 2 is_stmt 1 view .LVU317
 1101              		.loc 1 1657 8 is_stmt 0 view .LVU318
 1102 0012 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1103              		.loc 1 1657 5 view .LVU319
 1104 0014 032B     		cmp	r3, #3
 1105 0016 00D0     		beq	.L100
 1106              	.L97:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1107              		.loc 1 1660 1 view .LVU320
 1108 0018 70BD     		pop	{r4, r5, r6, pc}
 1109              	.LVL113:
 1110              	.L100:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 1111              		.loc 1 1658 3 is_stmt 1 view .LVU321
 1112 001a 290C     		lsrs	r1, r5, #16
 1113 001c 04F11400 		add	r0, r4, #20
 1114 0020 FFF7FEFF 		bl	st_word
 1115              	.LVL114:
 1116              		.loc 1 1660 1 is_stmt 0 view .LVU322
 1117 0024 F8E7     		b	.L97
 1118              		.cfi_endproc
 1119              	.LFE160:
 1121              		.section	.text.pick_lfn,"ax",%progbits
 1122              		.align	1
 1123              		.syntax unified
 1124              		.thumb
 1125              		.thumb_func
 1127              	pick_lfn:
 1128              	.LVL115:
 1129              	.LFB162:
1661:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
1668:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1669:Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
ARM GAS  /tmp/ccSjSmmD.s 			page 51


1675:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:Middlewares/Third_Party/FatFs/src/ff.c **** )
1681:Middlewares/Third_Party/FatFs/src/ff.c **** {
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
1705:Middlewares/Third_Party/FatFs/src/ff.c **** }
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1130              		.loc 1 1717 1 is_stmt 1 view -0
 1131              		.cfi_startproc
 1132              		@ args = 0, pretend = 0, frame = 0
 1133              		@ frame_needed = 0, uses_anonymous_args = 0
 1134              		.loc 1 1717 1 is_stmt 0 view .LVU324
 1135 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1136              		.cfi_def_cfa_offset 24
 1137              		.cfi_offset 4, -24
 1138              		.cfi_offset 5, -20
 1139              		.cfi_offset 6, -16
 1140              		.cfi_offset 7, -12
 1141              		.cfi_offset 8, -8
 1142              		.cfi_offset 14, -4
 1143 0004 8046     		mov	r8, r0
ARM GAS  /tmp/ccSjSmmD.s 			page 52


 1144 0006 0E46     		mov	r6, r1
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 1145              		.loc 1 1718 2 is_stmt 1 view .LVU325
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
 1146              		.loc 1 1719 2 view .LVU326
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
 1147              		.loc 1 1722 2 view .LVU327
 1148              		.loc 1 1722 6 is_stmt 0 view .LVU328
 1149 0008 01F11A00 		add	r0, r1, #26
 1150              	.LVL116:
 1151              		.loc 1 1722 6 view .LVU329
 1152 000c FFF7FEFF 		bl	ld_word
 1153              	.LVL117:
 1154              		.loc 1 1722 5 discriminator 1 view .LVU330
 1155 0010 50BB     		cbnz	r0, .L107
1723:Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
 1156              		.loc 1 1724 2 is_stmt 1 view .LVU331
 1157              		.loc 1 1724 11 is_stmt 0 view .LVU332
 1158 0012 3578     		ldrb	r5, [r6]	@ zero_extendqisi2
 1159              		.loc 1 1724 22 view .LVU333
 1160 0014 25F04005 		bic	r5, r5, #64
 1161              		.loc 1 1724 31 view .LVU334
 1162 0018 013D     		subs	r5, r5, #1
 1163              		.loc 1 1724 36 view .LVU335
 1164 001a 05EB4503 		add	r3, r5, r5, lsl #1
 1165              		.loc 1 1724 4 view .LVU336
 1166 001e 05EB8305 		add	r5, r5, r3, lsl #2
 1167              	.LVL118:
1725:Middlewares/Third_Party/FatFs/src/ff.c **** 
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
 1168              		.loc 1 1726 2 is_stmt 1 view .LVU337
 1169              		.loc 1 1726 10 is_stmt 0 view .LVU338
 1170 0022 0127     		movs	r7, #1
 1171              		.loc 1 1726 17 view .LVU339
 1172 0024 0024     		movs	r4, #0
 1173              		.loc 1 1726 2 view .LVU340
 1174 0026 04E0     		b	.L103
 1175              	.LVL119:
 1176              	.L104:
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1731:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
 1177              		.loc 1 1732 4 is_stmt 1 view .LVU341
 1178              		.loc 1 1732 7 is_stmt 0 view .LVU342
 1179 0028 4FF6FF73 		movw	r3, #65535
 1180 002c 9842     		cmp	r0, r3
 1181 002e 20D1     		bne	.L109
 1182              	.LVL120:
 1183              	.L105:
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1184              		.loc 1 1726 31 is_stmt 1 discriminator 2 view .LVU343
ARM GAS  /tmp/ccSjSmmD.s 			page 53


 1185 0030 0134     		adds	r4, r4, #1
 1186              	.LVL121:
 1187              	.L103:
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1188              		.loc 1 1726 24 discriminator 1 view .LVU344
 1189 0032 0C2C     		cmp	r4, #12
 1190 0034 0DD8     		bhi	.L113
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1191              		.loc 1 1727 3 view .LVU345
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1192              		.loc 1 1727 28 is_stmt 0 view .LVU346
 1193 0036 124B     		ldr	r3, .L114
 1194 0038 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1195              		.loc 1 1727 8 view .LVU347
 1196 003a 3044     		add	r0, r0, r6
 1197 003c FFF7FEFF 		bl	ld_word
 1198              	.LVL122:
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
 1199              		.loc 1 1728 3 is_stmt 1 view .LVU348
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
 1200              		.loc 1 1728 6 is_stmt 0 view .LVU349
 1201 0040 002F     		cmp	r7, #0
 1202 0042 F1D0     		beq	.L104
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1203              		.loc 1 1729 4 is_stmt 1 view .LVU350
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1204              		.loc 1 1729 7 is_stmt 0 view .LVU351
 1205 0044 FE2D     		cmp	r5, #254
 1206 0046 12D8     		bhi	.L108
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1207              		.loc 1 1730 4 is_stmt 1 view .LVU352
 1208              	.LVL123:
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1209              		.loc 1 1730 16 is_stmt 0 view .LVU353
 1210 0048 28F81500 		strh	r0, [r8, r5, lsl #1]	@ movhi
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1211              		.loc 1 1730 21 view .LVU354
 1212 004c 0746     		mov	r7, r0
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1213              		.loc 1 1730 12 view .LVU355
 1214 004e 0135     		adds	r5, r5, #1
 1215              	.LVL124:
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1216              		.loc 1 1730 12 view .LVU356
 1217 0050 EEE7     		b	.L105
 1218              	.LVL125:
 1219              	.L113:
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
 1220              		.loc 1 1736 2 is_stmt 1 view .LVU357
 1221              		.loc 1 1736 9 is_stmt 0 view .LVU358
 1222 0052 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1223              		.loc 1 1736 5 view .LVU359
 1224 0054 13F0400F 		tst	r3, #64
ARM GAS  /tmp/ccSjSmmD.s 			page 54


 1225 0058 0DD0     		beq	.L110
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
 1226              		.loc 1 1737 3 is_stmt 1 view .LVU360
 1227              		.loc 1 1737 6 is_stmt 0 view .LVU361
 1228 005a FE2D     		cmp	r5, #254
 1229 005c 0DD8     		bhi	.L111
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
 1230              		.loc 1 1738 3 is_stmt 1 view .LVU362
 1231              		.loc 1 1738 13 is_stmt 0 view .LVU363
 1232 005e 0023     		movs	r3, #0
 1233 0060 28F81530 		strh	r3, [r8, r5, lsl #1]	@ movhi
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
 1234              		.loc 1 1741 9 view .LVU364
 1235 0064 0120     		movs	r0, #1
 1236 0066 00E0     		b	.L101
 1237              	.LVL126:
 1238              	.L107:
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1239              		.loc 1 1722 49 discriminator 1 view .LVU365
 1240 0068 0020     		movs	r0, #0
 1241              	.L101:
1742:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1242              		.loc 1 1742 1 view .LVU366
 1243 006a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1244              	.LVL127:
 1245              	.L108:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1246              		.loc 1 1729 30 discriminator 1 view .LVU367
 1247 006e 0020     		movs	r0, #0
 1248              	.LVL128:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1249              		.loc 1 1729 30 discriminator 1 view .LVU368
 1250 0070 FBE7     		b	.L101
 1251              	.LVL129:
 1252              	.L109:
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1253              		.loc 1 1732 29 discriminator 1 view .LVU369
 1254 0072 0020     		movs	r0, #0
 1255              	.LVL130:
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1256              		.loc 1 1732 29 discriminator 1 view .LVU370
 1257 0074 F9E7     		b	.L101
 1258              	.LVL131:
 1259              	.L110:
1741:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1260              		.loc 1 1741 9 view .LVU371
 1261 0076 0120     		movs	r0, #1
 1262 0078 F7E7     		b	.L101
 1263              	.L111:
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
 1264              		.loc 1 1737 29 discriminator 1 view .LVU372
 1265 007a 0020     		movs	r0, #0
 1266 007c F5E7     		b	.L101
 1267              	.L115:
 1268 007e 00BF     		.align	2
ARM GAS  /tmp/ccSjSmmD.s 			page 55


 1269              	.L114:
 1270 0080 00000000 		.word	LfnOfs
 1271              		.cfi_endproc
 1272              	.LFE162:
 1274              		.section	.text.put_lfn,"ax",%progbits
 1275              		.align	1
 1276              		.syntax unified
 1277              		.thumb
 1278              		.thumb_func
 1280              	put_lfn:
 1281              	.LVL132:
 1282              	.LFB163:
1743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1283              		.loc 1 1757 1 is_stmt 1 view -0
 1284              		.cfi_startproc
 1285              		@ args = 0, pretend = 0, frame = 0
 1286              		@ frame_needed = 0, uses_anonymous_args = 0
 1287              		.loc 1 1757 1 is_stmt 0 view .LVU374
 1288 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1289              		.cfi_def_cfa_offset 32
 1290              		.cfi_offset 3, -32
 1291              		.cfi_offset 4, -28
 1292              		.cfi_offset 5, -24
 1293              		.cfi_offset 6, -20
 1294              		.cfi_offset 7, -16
 1295              		.cfi_offset 8, -12
 1296              		.cfi_offset 9, -8
 1297              		.cfi_offset 14, -4
 1298 0004 8046     		mov	r8, r0
 1299 0006 0F46     		mov	r7, r1
 1300 0008 9146     		mov	r9, r2
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 1301              		.loc 1 1758 2 is_stmt 1 view .LVU375
1759:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
 1302              		.loc 1 1759 2 view .LVU376
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
 1303              		.loc 1 1762 2 view .LVU377
 1304              		.loc 1 1762 19 is_stmt 0 view .LVU378
 1305 000a 4B73     		strb	r3, [r1, #13]
1763:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
 1306              		.loc 1 1763 2 is_stmt 1 view .LVU379
ARM GAS  /tmp/ccSjSmmD.s 			page 56


 1307              		.loc 1 1763 17 is_stmt 0 view .LVU380
 1308 000c 0F23     		movs	r3, #15
 1309              	.LVL133:
 1310              		.loc 1 1763 17 view .LVU381
 1311 000e CB72     		strb	r3, [r1, #11]
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
 1312              		.loc 1 1764 2 is_stmt 1 view .LVU382
 1313              		.loc 1 1764 17 is_stmt 0 view .LVU383
 1314 0010 0024     		movs	r4, #0
 1315 0012 0C73     		strb	r4, [r1, #12]
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
 1316              		.loc 1 1765 2 is_stmt 1 view .LVU384
 1317 0014 2146     		mov	r1, r4
 1318              	.LVL134:
 1319              		.loc 1 1765 2 is_stmt 0 view .LVU385
 1320 0016 07F11A00 		add	r0, r7, #26
 1321              	.LVL135:
 1322              		.loc 1 1765 2 view .LVU386
 1323 001a FFF7FEFF 		bl	st_word
 1324              	.LVL136:
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
 1325              		.loc 1 1767 2 is_stmt 1 view .LVU387
 1326              		.loc 1 1767 11 is_stmt 0 view .LVU388
 1327 001e 09F1FF36 		add	r6, r9, #-1
 1328              		.loc 1 1767 16 view .LVU389
 1329 0022 06EB4603 		add	r3, r6, r6, lsl #1
 1330              		.loc 1 1767 4 view .LVU390
 1331 0026 06EB8306 		add	r6, r6, r3, lsl #2
 1332              	.LVL137:
1768:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
 1333              		.loc 1 1768 2 is_stmt 1 view .LVU391
 1334              		.loc 1 1768 9 is_stmt 0 view .LVU392
 1335 002a 2546     		mov	r5, r4
 1336 002c 02E0     		b	.L119
 1337              	.LVL138:
 1338              	.L118:
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
1773:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1339              		.loc 1 1773 15 is_stmt 1 view .LVU393
 1340 002e 0134     		adds	r4, r4, #1
 1341              	.LVL139:
 1342              		.loc 1 1773 15 is_stmt 0 view .LVU394
 1343 0030 0C2C     		cmp	r4, #12
 1344 0032 11D8     		bhi	.L124
 1345              	.LVL140:
 1346              	.L119:
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 1347              		.loc 1 1769 2 is_stmt 1 view .LVU395
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1348              		.loc 1 1770 3 view .LVU396
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1349              		.loc 1 1770 6 is_stmt 0 view .LVU397
 1350 0034 4FF6FF73 		movw	r3, #65535
ARM GAS  /tmp/ccSjSmmD.s 			page 57


 1351 0038 9D42     		cmp	r5, r3
 1352 003a 02D0     		beq	.L117
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1353              		.loc 1 1770 21 is_stmt 1 discriminator 1 view .LVU398
 1354              	.LVL141:
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1355              		.loc 1 1770 24 is_stmt 0 discriminator 1 view .LVU399
 1356 003c 38F81650 		ldrh	r5, [r8, r6, lsl #1]
 1357              	.LVL142:
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1358              		.loc 1 1770 31 discriminator 1 view .LVU400
 1359 0040 0136     		adds	r6, r6, #1
 1360              	.LVL143:
 1361              	.L117:
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1362              		.loc 1 1771 3 is_stmt 1 view .LVU401
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1363              		.loc 1 1771 23 is_stmt 0 view .LVU402
 1364 0042 0C4B     		ldr	r3, .L125
 1365 0044 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1366              		.loc 1 1771 3 view .LVU403
 1367 0046 2946     		mov	r1, r5
 1368 0048 3844     		add	r0, r0, r7
 1369 004a FFF7FEFF 		bl	st_word
 1370              	.LVL144:
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1371              		.loc 1 1772 3 is_stmt 1 view .LVU404
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1372              		.loc 1 1772 6 is_stmt 0 view .LVU405
 1373 004e 002D     		cmp	r5, #0
 1374 0050 EDD1     		bne	.L118
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1375              		.loc 1 1772 19 discriminator 1 view .LVU406
 1376 0052 4FF6FF75 		movw	r5, #65535
 1377              	.LVL145:
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1378              		.loc 1 1772 19 discriminator 1 view .LVU407
 1379 0056 EAE7     		b	.L118
 1380              	.LVL146:
 1381              	.L124:
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
 1382              		.loc 1 1774 2 is_stmt 1 view .LVU408
 1383              		.loc 1 1774 5 is_stmt 0 view .LVU409
 1384 0058 4FF6FF73 		movw	r3, #65535
 1385 005c 9D42     		cmp	r5, r3
 1386 005e 02D0     		beq	.L120
 1387              		.loc 1 1774 26 discriminator 2 view .LVU410
 1388 0060 38F81630 		ldrh	r3, [r8, r6, lsl #1]
 1389              		.loc 1 1774 19 discriminator 2 view .LVU411
 1390 0064 0BB9     		cbnz	r3, .L121
 1391              	.L120:
 1392              		.loc 1 1774 31 is_stmt 1 discriminator 3 view .LVU412
 1393              		.loc 1 1774 35 is_stmt 0 discriminator 3 view .LVU413
 1394 0066 49F04009 		orr	r9, r9, #64
 1395              	.LVL147:
 1396              	.L121:
ARM GAS  /tmp/ccSjSmmD.s 			page 58


1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
 1397              		.loc 1 1775 2 is_stmt 1 view .LVU414
 1398              		.loc 1 1775 16 is_stmt 0 view .LVU415
 1399 006a 87F80090 		strb	r9, [r7]
1776:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1400              		.loc 1 1776 1 view .LVU416
 1401 006e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1402              	.LVL148:
 1403              	.L126:
 1404              		.loc 1 1776 1 view .LVU417
 1405 0072 00BF     		.align	2
 1406              	.L125:
 1407 0074 00000000 		.word	LfnOfs
 1408              		.cfi_endproc
 1409              	.LFE163:
 1411              		.section	.text.gen_numname,"ax",%progbits
 1412              		.align	1
 1413              		.syntax unified
 1414              		.thumb
 1415              		.thumb_func
 1417              	gen_numname:
 1418              	.LVL149:
 1419              	.LFB164:
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:Middlewares/Third_Party/FatFs/src/ff.c **** 
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1420              		.loc 1 1795 1 is_stmt 1 view -0
 1421              		.cfi_startproc
 1422              		@ args = 0, pretend = 0, frame = 8
 1423              		@ frame_needed = 0, uses_anonymous_args = 0
 1424              		.loc 1 1795 1 is_stmt 0 view .LVU419
 1425 0000 70B5     		push	{r4, r5, r6, lr}
 1426              		.cfi_def_cfa_offset 16
 1427              		.cfi_offset 4, -16
 1428              		.cfi_offset 5, -12
 1429              		.cfi_offset 6, -8
 1430              		.cfi_offset 14, -4
 1431 0002 82B0     		sub	sp, sp, #8
 1432              		.cfi_def_cfa_offset 24
 1433 0004 0546     		mov	r5, r0
 1434 0006 1646     		mov	r6, r2
ARM GAS  /tmp/ccSjSmmD.s 			page 59


 1435 0008 1C46     		mov	r4, r3
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
 1436              		.loc 1 1796 2 is_stmt 1 view .LVU420
1797:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 1437              		.loc 1 1797 2 view .LVU421
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
 1438              		.loc 1 1798 2 view .LVU422
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
 1439              		.loc 1 1799 2 view .LVU423
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
 1440              		.loc 1 1802 2 view .LVU424
 1441 000a 0B22     		movs	r2, #11
 1442              	.LVL150:
 1443              		.loc 1 1802 2 is_stmt 0 view .LVU425
 1444 000c FFF7FEFF 		bl	mem_cpy
 1445              	.LVL151:
1803:Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
 1446              		.loc 1 1804 2 is_stmt 1 view .LVU426
 1447              		.loc 1 1804 5 is_stmt 0 view .LVU427
 1448 0010 052C     		cmp	r4, #5
 1449 0012 11D8     		bhi	.L128
 1450              	.LVL152:
 1451              	.L129:
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1452              		.loc 1 1808 11 view .LVU428
 1453 0014 0723     		movs	r3, #7
 1454 0016 1FE0     		b	.L135
 1455              	.LVL153:
 1456              	.L131:
 1457              		.loc 1 1808 25 is_stmt 1 discriminator 2 view .LVU429
 1458 0018 0131     		adds	r1, r1, #1
 1459              	.LVL154:
 1460              	.L130:
 1461              		.loc 1 1808 18 discriminator 1 view .LVU430
 1462 001a 0F29     		cmp	r1, #15
 1463 001c 0CD8     		bhi	.L128
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1464              		.loc 1 1809 5 view .LVU431
 1465              		.loc 1 1809 26 is_stmt 0 view .LVU432
 1466 001e 03F0010C 		and	ip, r3, #1
 1467              		.loc 1 1809 8 view .LVU433
 1468 0022 0CEB4404 		add	r4, ip, r4, lsl #1
 1469              	.LVL155:
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
 1470              		.loc 1 1810 5 is_stmt 1 view .LVU434
 1471              		.loc 1 1810 8 is_stmt 0 view .LVU435
 1472 0026 5B08     		lsrs	r3, r3, #1
 1473              	.LVL156:
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
 1474              		.loc 1 1811 5 is_stmt 1 view .LVU436
 1475              		.loc 1 1811 8 is_stmt 0 view .LVU437
ARM GAS  /tmp/ccSjSmmD.s 			page 60


 1476 0028 14F4803F 		tst	r4, #65536
 1477 002c F4D0     		beq	.L131
 1478              		.loc 1 1811 23 is_stmt 1 discriminator 1 view .LVU438
 1479              		.loc 1 1811 26 is_stmt 0 discriminator 1 view .LVU439
 1480 002e 84F48834 		eor	r4, r4, #69632
 1481              	.LVL157:
 1482              		.loc 1 1811 26 discriminator 1 view .LVU440
 1483 0032 84F02104 		eor	r4, r4, #33
 1484              	.LVL158:
 1485              		.loc 1 1811 26 discriminator 1 view .LVU441
 1486 0036 EFE7     		b	.L131
 1487              	.LVL159:
 1488              	.L128:
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 1489              		.loc 1 1806 10 is_stmt 1 view .LVU442
 1490 0038 3388     		ldrh	r3, [r6]
 1491 003a 002B     		cmp	r3, #0
 1492 003c EAD0     		beq	.L129
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1493              		.loc 1 1807 4 view .LVU443
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1494              		.loc 1 1807 13 is_stmt 0 view .LVU444
 1495 003e 0236     		adds	r6, r6, #2
 1496              	.LVL160:
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1497              		.loc 1 1808 4 is_stmt 1 view .LVU445
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1498              		.loc 1 1808 11 is_stmt 0 view .LVU446
 1499 0040 0021     		movs	r1, #0
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1500              		.loc 1 1808 4 view .LVU447
 1501 0042 EAE7     		b	.L130
 1502              	.LVL161:
 1503              	.L134:
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1504              		.loc 1 1822 3 is_stmt 1 view .LVU448
 1505              		.loc 1 1822 7 is_stmt 0 view .LVU449
 1506 0044 5A1E     		subs	r2, r3, #1
 1507              	.LVL162:
 1508              		.loc 1 1822 11 view .LVU450
 1509 0046 0833     		adds	r3, r3, #8
 1510 0048 6B44     		add	r3, sp, r3
 1511 004a 03F8081C 		strb	r1, [r3, #-8]
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1512              		.loc 1 1823 3 is_stmt 1 view .LVU451
 1513              		.loc 1 1823 7 is_stmt 0 view .LVU452
 1514 004e 2109     		lsrs	r1, r4, #4
ARM GAS  /tmp/ccSjSmmD.s 			page 61


 1515              	.LVL163:
1824:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
 1516              		.loc 1 1824 11 is_stmt 1 view .LVU453
 1517 0050 0F2C     		cmp	r4, #15
 1518 0052 0AD9     		bls	.L145
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1519              		.loc 1 1822 7 is_stmt 0 view .LVU454
 1520 0054 1346     		mov	r3, r2
 1521              	.LVL164:
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1522              		.loc 1 1823 7 view .LVU455
 1523 0056 0C46     		mov	r4, r1
 1524              	.LVL165:
 1525              	.L135:
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
 1526              		.loc 1 1819 2 is_stmt 1 view .LVU456
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1527              		.loc 1 1820 3 view .LVU457
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1528              		.loc 1 1820 7 is_stmt 0 view .LVU458
 1529 0058 04F00F02 		and	r2, r4, #15
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1530              		.loc 1 1820 5 view .LVU459
 1531 005c 02F13001 		add	r1, r2, #48
 1532              	.LVL166:
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1533              		.loc 1 1821 3 is_stmt 1 view .LVU460
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1534              		.loc 1 1821 6 is_stmt 0 view .LVU461
 1535 0060 3929     		cmp	r1, #57
 1536 0062 EFD9     		bls	.L134
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1537              		.loc 1 1821 16 is_stmt 1 discriminator 1 view .LVU462
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1538              		.loc 1 1821 18 is_stmt 0 discriminator 1 view .LVU463
 1539 0064 02F13701 		add	r1, r2, #55
 1540              	.LVL167:
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1541              		.loc 1 1821 18 discriminator 1 view .LVU464
 1542 0068 ECE7     		b	.L134
 1543              	.LVL168:
 1544              	.L145:
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
 1545              		.loc 1 1825 2 is_stmt 1 view .LVU465
 1546              		.loc 1 1825 8 is_stmt 0 view .LVU466
 1547 006a 7E21     		movs	r1, #126
 1548              	.LVL169:
 1549              		.loc 1 1825 8 view .LVU467
 1550 006c 02F10803 		add	r3, r2, #8
 1551              	.LVL170:
 1552              		.loc 1 1825 8 view .LVU468
 1553 0070 6B44     		add	r3, sp, r3
 1554 0072 03F8081C 		strb	r1, [r3, #-8]
 1555              	.LVL171:
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
ARM GAS  /tmp/ccSjSmmD.s 			page 62


 1556              		.loc 1 1828 2 is_stmt 1 view .LVU469
 1557              		.loc 1 1828 9 is_stmt 0 view .LVU470
 1558 0076 0023     		movs	r3, #0
 1559              		.loc 1 1828 2 view .LVU471
 1560 0078 00E0     		b	.L136
 1561              	.LVL172:
 1562              	.L138:
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1563              		.loc 1 1829 3 is_stmt 1 view .LVU472
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1564              		.loc 1 1828 39 discriminator 2 view .LVU473
 1565 007a 0133     		adds	r3, r3, #1
 1566              	.LVL173:
 1567              	.L136:
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1568              		.loc 1 1828 20 discriminator 1 view .LVU474
 1569 007c 9342     		cmp	r3, r2
 1570 007e 09D2     		bcs	.L140
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1571              		.loc 1 1828 26 is_stmt 0 discriminator 3 view .LVU475
 1572 0080 E95C     		ldrb	r1, [r5, r3]	@ zero_extendqisi2
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1573              		.loc 1 1828 20 discriminator 3 view .LVU476
 1574 0082 2029     		cmp	r1, #32
 1575 0084 F9D1     		bne	.L138
 1576 0086 05E0     		b	.L140
 1577              	.L142:
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
 1578              		.loc 1 1835 12 discriminator 2 view .LVU477
 1579 0088 2020     		movs	r0, #32
 1580              	.L139:
 1581              		.loc 1 1835 8 discriminator 4 view .LVU478
 1582 008a 591C     		adds	r1, r3, #1
 1583              	.LVL174:
 1584              		.loc 1 1835 12 discriminator 4 view .LVU479
 1585 008c E854     		strb	r0, [r5, r3]
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1586              		.loc 1 1836 13 is_stmt 1 view .LVU480
 1587 008e 0729     		cmp	r1, #7
 1588 0090 09D8     		bhi	.L146
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1589              		.loc 1 1835 8 is_stmt 0 discriminator 4 view .LVU481
 1590 0092 0B46     		mov	r3, r1
 1591              	.LVL175:
 1592              	.L140:
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
 1593              		.loc 1 1834 2 is_stmt 1 view .LVU482
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1594              		.loc 1 1835 3 view .LVU483
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1595              		.loc 1 1835 12 is_stmt 0 view .LVU484
 1596 0094 072A     		cmp	r2, #7
ARM GAS  /tmp/ccSjSmmD.s 			page 63


 1597 0096 F7D8     		bhi	.L142
 1598              	.LVL176:
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1599              		.loc 1 1835 12 discriminator 1 view .LVU485
 1600 0098 02F10801 		add	r1, r2, #8
 1601 009c 6944     		add	r1, sp, r1
 1602 009e 11F8080C 		ldrb	r0, [r1, #-8]	@ zero_extendqisi2
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1603              		.loc 1 1835 28 discriminator 1 view .LVU486
 1604 00a2 0132     		adds	r2, r2, #1
 1605              	.LVL177:
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1606              		.loc 1 1835 28 discriminator 1 view .LVU487
 1607 00a4 F1E7     		b	.L139
 1608              	.LVL178:
 1609              	.L146:
1837:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1610              		.loc 1 1837 1 view .LVU488
 1611 00a6 02B0     		add	sp, sp, #8
 1612              		.cfi_def_cfa_offset 16
 1613              		@ sp needed
 1614 00a8 70BD     		pop	{r4, r5, r6, pc}
 1615              		.loc 1 1837 1 view .LVU489
 1616              		.cfi_endproc
 1617              	.LFE164:
 1619              		.section	.text.sum_sfn,"ax",%progbits
 1620              		.align	1
 1621              		.syntax unified
 1622              		.thumb
 1623              		.thumb_func
 1625              	sum_sfn:
 1626              	.LVL179:
 1627              	.LFB165:
1838:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
1839:Middlewares/Third_Party/FatFs/src/ff.c **** 
1840:Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1844:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1628              		.loc 1 1851 1 is_stmt 1 view -0
 1629              		.cfi_startproc
 1630              		@ args = 0, pretend = 0, frame = 0
 1631              		@ frame_needed = 0, uses_anonymous_args = 0
 1632              		@ link register save eliminated.
 1633              		.loc 1 1851 1 is_stmt 0 view .LVU491
 1634 0000 0146     		mov	r1, r0
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
 1635              		.loc 1 1852 2 is_stmt 1 view .LVU492
 1636              	.LVL180:
ARM GAS  /tmp/ccSjSmmD.s 			page 64


1853:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
 1637              		.loc 1 1853 2 view .LVU493
 1638              		.loc 1 1853 7 is_stmt 0 view .LVU494
 1639 0002 4FF00B0C 		mov	ip, #11
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
 1640              		.loc 1 1852 7 view .LVU495
 1641 0006 0020     		movs	r0, #0
 1642              	.LVL181:
 1643              	.L148:
1854:Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 1644              		.loc 1 1855 2 is_stmt 1 view .LVU496
1856:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
 1645              		.loc 1 1856 3 view .LVU497
 1646              		.loc 1 1856 20 is_stmt 0 view .LVU498
 1647 0008 C301     		lsls	r3, r0, #7
 1648 000a 43EA5003 		orr	r3, r3, r0, lsr #1
 1649              		.loc 1 1856 35 view .LVU499
 1650 000e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1651 0010 0131     		adds	r1, r1, #1
 1652              	.LVL182:
 1653              		.loc 1 1856 7 view .LVU500
 1654 0012 52FA83F3 		uxtab	r3, r2, r3
 1655 0016 D8B2     		uxtb	r0, r3
 1656              	.LVL183:
1857:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
 1657              		.loc 1 1857 11 is_stmt 1 discriminator 1 view .LVU501
 1658              		.loc 1 1857 11 is_stmt 0 discriminator 1 view .LVU502
 1659 0018 BCF1010C 		subs	ip, ip, #1
 1660              	.LVL184:
 1661              		.loc 1 1857 11 discriminator 1 view .LVU503
 1662 001c F4D1     		bne	.L148
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
 1663              		.loc 1 1858 2 is_stmt 1 view .LVU504
1859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1664              		.loc 1 1859 1 is_stmt 0 view .LVU505
 1665 001e 7047     		bx	lr
 1666              		.cfi_endproc
 1667              	.LFE165:
 1669              		.section	.text.get_ldnumber,"ax",%progbits
 1670              		.align	1
 1671              		.syntax unified
 1672              		.thumb
 1673              		.thumb_func
 1675              	get_ldnumber:
 1676              	.LVL185:
 1677              	.LFB173:
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 65


1870:Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:Middlewares/Third_Party/FatFs/src/ff.c **** )
1874:Middlewares/Third_Party/FatFs/src/ff.c **** {
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** )
1896:Middlewares/Third_Party/FatFs/src/ff.c **** {
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
ARM GAS  /tmp/ccSjSmmD.s 			page 66


1927:Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
1942:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
ARM GAS  /tmp/ccSjSmmD.s 			page 67


1984:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2020:Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
ARM GAS  /tmp/ccSjSmmD.s 			page 68


2041:Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:Middlewares/Third_Party/FatFs/src/ff.c **** static
2056:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
2077:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 69


2098:Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
2114:Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** 
2125:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2134:Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:Middlewares/Third_Party/FatFs/src/ff.c **** {
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
2139:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2141:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
ARM GAS  /tmp/ccSjSmmD.s 			page 70


2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
2183:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2191:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** }
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
ARM GAS  /tmp/ccSjSmmD.s 			page 71


2212:Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:Middlewares/Third_Party/FatFs/src/ff.c **** {
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2223:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2228:Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2238:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
2251:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
2252:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2266:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
ARM GAS  /tmp/ccSjSmmD.s 			page 72


2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2271:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2275:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
2276:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2281:Middlewares/Third_Party/FatFs/src/ff.c **** }
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:Middlewares/Third_Party/FatFs/src/ff.c **** )
2295:Middlewares/Third_Party/FatFs/src/ff.c **** {
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2298:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 
2306:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
ARM GAS  /tmp/ccSjSmmD.s 			page 73


2326:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2378:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 74


2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2384:Middlewares/Third_Party/FatFs/src/ff.c **** }
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
2398:Middlewares/Third_Party/FatFs/src/ff.c **** )
2399:Middlewares/Third_Party/FatFs/src/ff.c **** {
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
2415:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2432:Middlewares/Third_Party/FatFs/src/ff.c **** }
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccSjSmmD.s 			page 75


2440:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2455:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
2471:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
2472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
2495:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
ARM GAS  /tmp/ccSjSmmD.s 			page 76


2497:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
2526:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
2528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
2534:Middlewares/Third_Party/FatFs/src/ff.c **** }
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
ARM GAS  /tmp/ccSjSmmD.s 			page 77


2554:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
2559:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:Middlewares/Third_Party/FatFs/src/ff.c **** static
2570:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:Middlewares/Third_Party/FatFs/src/ff.c **** {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 78


2611:Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:Middlewares/Third_Party/FatFs/src/ff.c **** {
2623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
2648:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2654:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
ARM GAS  /tmp/ccSjSmmD.s 			page 79


2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
2697:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2717:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
ARM GAS  /tmp/ccSjSmmD.s 			page 80


2725:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 
2741:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
2743:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
2745:Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
2750:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2776:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2778:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccSjSmmD.s 			page 81


2782:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2793:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
2797:Middlewares/Third_Party/FatFs/src/ff.c **** 
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:Middlewares/Third_Party/FatFs/src/ff.c **** }
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:Middlewares/Third_Party/FatFs/src/ff.c **** 
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:Middlewares/Third_Party/FatFs/src/ff.c **** {
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 82


2839:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2894:Middlewares/Third_Party/FatFs/src/ff.c **** }
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 83


2896:Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2900:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** )
2907:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1678              		.loc 1 2907 1 is_stmt 1 view -0
 1679              		.cfi_startproc
 1680              		@ args = 0, pretend = 0, frame = 0
 1681              		@ frame_needed = 0, uses_anonymous_args = 0
 1682              		@ link register save eliminated.
 1683              		.loc 1 2907 1 is_stmt 0 view .LVU507
 1684 0000 0146     		mov	r1, r0
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1685              		.loc 1 2908 2 is_stmt 1 view .LVU508
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1686              		.loc 1 2909 2 view .LVU509
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1687              		.loc 1 2910 2 view .LVU510
 1688              	.LVL186:
2911:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1689              		.loc 1 2919 2 view .LVU511
 1690              		.loc 1 2919 6 is_stmt 0 view .LVU512
 1691 0002 0068     		ldr	r0, [r0]
 1692              	.LVL187:
 1693              		.loc 1 2919 5 view .LVU513
 1694 0004 38B1     		cbz	r0, .L160
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1695              		.loc 1 2920 11 view .LVU514
 1696 0006 0246     		mov	r2, r0
 1697              	.L150:
 1698              	.LVL188:
 1699              		.loc 1 2920 56 is_stmt 1 discriminator 1 view .LVU515
 1700              		.loc 1 2920 26 is_stmt 0 discriminator 1 view .LVU516
 1701 0008 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1702              		.loc 1 2920 56 discriminator 1 view .LVU517
 1703 000a 1F2B     		cmp	r3, #31
 1704 000c 06D9     		bls	.L152
 1705              		.loc 1 2920 56 discriminator 3 view .LVU518
 1706 000e 3A2B     		cmp	r3, #58
 1707 0010 04D0     		beq	.L152
 1708              		.loc 1 2920 73 is_stmt 1 discriminator 4 view .LVU519
 1709 0012 0132     		adds	r2, r2, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 84


 1710              	.LVL189:
 1711              		.loc 1 2920 73 is_stmt 0 discriminator 4 view .LVU520
 1712 0014 F8E7     		b	.L150
 1713              	.LVL190:
 1714              	.L160:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1715              		.loc 1 2910 6 view .LVU521
 1716 0016 4FF0FF30 		mov	r0, #-1
 1717 001a 7047     		bx	lr
 1718              	.LVL191:
 1719              	.L152:
2921:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1720              		.loc 1 2921 3 is_stmt 1 view .LVU522
 1721              		.loc 1 2921 6 is_stmt 0 view .LVU523
 1722 001c 3A2B     		cmp	r3, #58
 1723 001e 01D0     		beq	.L161
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2928:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2930:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2937:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2944:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2947:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1724              		.loc 1 2951 7 view .LVU524
 1725 0020 0020     		movs	r0, #0
 1726              	.LVL192:
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2955:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1727              		.loc 1 2955 1 view .LVU525
 1728 0022 7047     		bx	lr
 1729              	.LVL193:
 1730              	.L161:
ARM GAS  /tmp/ccSjSmmD.s 			page 85


2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1731              		.loc 1 2922 4 is_stmt 1 view .LVU526
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1732              		.loc 1 2923 4 view .LVU527
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1733              		.loc 1 2923 11 is_stmt 0 view .LVU528
 1734 0024 0346     		mov	r3, r0
 1735              	.LVL194:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1736              		.loc 1 2923 8 view .LVU529
 1737 0026 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1738              	.LVL195:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1739              		.loc 1 2923 14 view .LVU530
 1740 002a 3038     		subs	r0, r0, #48
 1741              	.LVL196:
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1742              		.loc 1 2924 4 is_stmt 1 view .LVU531
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1743              		.loc 1 2924 7 is_stmt 0 view .LVU532
 1744 002c 0928     		cmp	r0, #9
 1745 002e 08D8     		bhi	.L157
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1746              		.loc 1 2924 15 discriminator 1 view .LVU533
 1747 0030 9A42     		cmp	r2, r3
 1748 0032 02D0     		beq	.L162
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1749              		.loc 1 2910 6 view .LVU534
 1750 0034 4FF0FF30 		mov	r0, #-1
 1751              	.LVL197:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1752              		.loc 1 2910 6 view .LVU535
 1753 0038 7047     		bx	lr
 1754              	.LVL198:
 1755              	.L162:
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1756              		.loc 1 2925 5 is_stmt 1 view .LVU536
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1757              		.loc 1 2925 8 is_stmt 0 view .LVU537
 1758 003a 28B9     		cbnz	r0, .L159
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1759              		.loc 1 2926 6 is_stmt 1 view .LVU538
 1760              	.LVL199:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1761              		.loc 1 2927 6 view .LVU539
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1762              		.loc 1 2927 12 is_stmt 0 view .LVU540
 1763 003c 0132     		adds	r2, r2, #1
 1764              	.LVL200:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1765              		.loc 1 2927 12 view .LVU541
 1766 003e 0A60     		str	r2, [r1]
 1767 0040 7047     		bx	lr
 1768              	.LVL201:
 1769              	.L157:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1770              		.loc 1 2910 6 view .LVU542
ARM GAS  /tmp/ccSjSmmD.s 			page 86


 1771 0042 4FF0FF30 		mov	r0, #-1
 1772              	.LVL202:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1773              		.loc 1 2910 6 view .LVU543
 1774 0046 7047     		bx	lr
 1775              	.LVL203:
 1776              	.L159:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1777              		.loc 1 2910 6 view .LVU544
 1778 0048 4FF0FF30 		mov	r0, #-1
 1779              	.LVL204:
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1780              		.loc 1 2946 4 is_stmt 1 view .LVU545
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1781              		.loc 1 2946 11 is_stmt 0 view .LVU546
 1782 004c 7047     		bx	lr
 1783              		.cfi_endproc
 1784              	.LFE173:
 1786              		.section	.text.putc_init,"ax",%progbits
 1787              		.align	1
 1788              		.syntax unified
 1789              		.thumb
 1790              		.thumb_func
 1792              	putc_init:
 1793              	.LVL205:
 1794              	.LFB197:
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:Middlewares/Third_Party/FatFs/src/ff.c **** )
2969:Middlewares/Third_Party/FatFs/src/ff.c **** {
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
2972:Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
2983:Middlewares/Third_Party/FatFs/src/ff.c **** }
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 87


2987:Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2989:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:Middlewares/Third_Party/FatFs/src/ff.c **** )
2998:Middlewares/Third_Party/FatFs/src/ff.c **** {
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
3019:Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
ARM GAS  /tmp/ccSjSmmD.s 			page 88


3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
3062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:Middlewares/Third_Party/FatFs/src/ff.c **** 
3092:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
ARM GAS  /tmp/ccSjSmmD.s 			page 89


3101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
3157:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
ARM GAS  /tmp/ccSjSmmD.s 			page 90


3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
3169:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
3181:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
3184:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3197:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3206:Middlewares/Third_Party/FatFs/src/ff.c **** }
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 91


3215:Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:Middlewares/Third_Party/FatFs/src/ff.c **** {
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
3225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
3242:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3243:Middlewares/Third_Party/FatFs/src/ff.c **** }
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:Middlewares/Third_Party/FatFs/src/ff.c **** 
3248:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:Middlewares/Third_Party/FatFs/src/ff.c **** {
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 92


3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
3278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
3280:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3299:Middlewares/Third_Party/FatFs/src/ff.c **** }
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:Middlewares/Third_Party/FatFs/src/ff.c **** {
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
3320:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
3325:Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
ARM GAS  /tmp/ccSjSmmD.s 			page 93


3329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
3348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3350:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
3352:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
3365:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
ARM GAS  /tmp/ccSjSmmD.s 			page 94


3386:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3390:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
3427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
3430:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccSjSmmD.s 			page 95


3443:Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3445:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
3468:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
3471:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
3487:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
3489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
ARM GAS  /tmp/ccSjSmmD.s 			page 96


3500:Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3502:Middlewares/Third_Party/FatFs/src/ff.c **** }
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 
3507:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:Middlewares/Third_Party/FatFs/src/ff.c **** {
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
3540:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3544:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
ARM GAS  /tmp/ccSjSmmD.s 			page 97


3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3563:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
3564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
3579:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
3592:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3596:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3597:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3601:Middlewares/Third_Party/FatFs/src/ff.c **** }
3602:Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
ARM GAS  /tmp/ccSjSmmD.s 			page 98


3614:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** )
3617:Middlewares/Third_Party/FatFs/src/ff.c **** {
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3667:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
ARM GAS  /tmp/ccSjSmmD.s 			page 99


3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3684:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
3710:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
3717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3723:Middlewares/Third_Party/FatFs/src/ff.c **** }
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 100


3728:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3729:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:Middlewares/Third_Party/FatFs/src/ff.c **** )
3735:Middlewares/Third_Party/FatFs/src/ff.c **** {
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3741:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3747:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
3748:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
ARM GAS  /tmp/ccSjSmmD.s 			page 101


3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3802:Middlewares/Third_Party/FatFs/src/ff.c **** }
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 
3813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:Middlewares/Third_Party/FatFs/src/ff.c **** {
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3823:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3827:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
3830:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3840:Middlewares/Third_Party/FatFs/src/ff.c **** }
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 102


3842:Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3847:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:Middlewares/Third_Party/FatFs/src/ff.c **** {
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
ARM GAS  /tmp/ccSjSmmD.s 			page 103


3899:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
ARM GAS  /tmp/ccSjSmmD.s 			page 104


3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4004:Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:Middlewares/Third_Party/FatFs/src/ff.c **** {
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccSjSmmD.s 			page 105


4013:Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4020:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
4059:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4066:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
4067:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccSjSmmD.s 			page 106


4070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4077:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
4094:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
4107:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4118:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
4125:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
ARM GAS  /tmp/ccSjSmmD.s 			page 107


4127:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
4131:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
4139:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4140:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
4147:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4153:Middlewares/Third_Party/FatFs/src/ff.c **** }
4154:Middlewares/Third_Party/FatFs/src/ff.c **** 
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4159:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4165:Middlewares/Third_Party/FatFs/src/ff.c **** )
4166:Middlewares/Third_Party/FatFs/src/ff.c **** {
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
ARM GAS  /tmp/ccSjSmmD.s 			page 108


4184:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
4205:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4223:Middlewares/Third_Party/FatFs/src/ff.c **** }
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 
4232:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:Middlewares/Third_Party/FatFs/src/ff.c **** {
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
ARM GAS  /tmp/ccSjSmmD.s 			page 109


4241:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4242:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
4247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4256:Middlewares/Third_Party/FatFs/src/ff.c **** }
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** )
4269:Middlewares/Third_Party/FatFs/src/ff.c **** {
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4292:Middlewares/Third_Party/FatFs/src/ff.c **** }
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccSjSmmD.s 			page 110


4298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** )
4305:Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
ARM GAS  /tmp/ccSjSmmD.s 			page 111


4355:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:Middlewares/Third_Party/FatFs/src/ff.c **** {
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:Middlewares/Third_Party/FatFs/src/ff.c **** 
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
4379:Middlewares/Third_Party/FatFs/src/ff.c **** }
4380:Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:Middlewares/Third_Party/FatFs/src/ff.c **** 
4383:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:Middlewares/Third_Party/FatFs/src/ff.c **** {
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
ARM GAS  /tmp/ccSjSmmD.s 			page 112


4412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
4452:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
4455:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
4457:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4466:Middlewares/Third_Party/FatFs/src/ff.c **** }
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 113


4469:Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:Middlewares/Third_Party/FatFs/src/ff.c **** {
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
4503:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
4513:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4516:Middlewares/Third_Party/FatFs/src/ff.c **** }
4517:Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
ARM GAS  /tmp/ccSjSmmD.s 			page 114


4526:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:Middlewares/Third_Party/FatFs/src/ff.c **** {
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
4532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
4580:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
ARM GAS  /tmp/ccSjSmmD.s 			page 115


4583:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
4598:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
4602:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4611:Middlewares/Third_Party/FatFs/src/ff.c **** }
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4622:Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:Middlewares/Third_Party/FatFs/src/ff.c **** {
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
ARM GAS  /tmp/ccSjSmmD.s 			page 116


4640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccSjSmmD.s 			page 117


4697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4708:Middlewares/Third_Party/FatFs/src/ff.c **** }
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:Middlewares/Third_Party/FatFs/src/ff.c **** {
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
4737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4741:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
4743:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccSjSmmD.s 			page 118


4754:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
4761:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4767:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4774:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
4786:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
4793:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4803:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
ARM GAS  /tmp/ccSjSmmD.s 			page 119


4811:Middlewares/Third_Party/FatFs/src/ff.c **** }
4812:Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:Middlewares/Third_Party/FatFs/src/ff.c **** 
4818:Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4824:Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4839:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4850:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4854:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4857:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4859:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 120


4868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
4875:Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4881:Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4896:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:Middlewares/Third_Party/FatFs/src/ff.c **** 
4907:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
4911:Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:Middlewares/Third_Party/FatFs/src/ff.c **** 
4914:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4916:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/ccSjSmmD.s 			page 121


4925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4932:Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
4938:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
4953:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
4964:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
4968:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4971:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
4973:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
ARM GAS  /tmp/ccSjSmmD.s 			page 122


4982:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4989:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
4995:Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5010:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
5021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:Middlewares/Third_Party/FatFs/src/ff.c **** 
5025:Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
5028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
5030:Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
ARM GAS  /tmp/ccSjSmmD.s 			page 123


5039:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
5046:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5052:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5067:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5078:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
5082:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5085:Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
5087:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
ARM GAS  /tmp/ccSjSmmD.s 			page 124


5096:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
5103:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
5109:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5124:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:Middlewares/Third_Party/FatFs/src/ff.c **** 
5135:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5139:Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
5142:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
5144:Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
ARM GAS  /tmp/ccSjSmmD.s 			page 125


5153:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
5160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
5166:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
5181:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5192:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
5196:Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5199:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5201:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
ARM GAS  /tmp/ccSjSmmD.s 			page 126


5210:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5217:Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:Middlewares/Third_Party/FatFs/src/ff.c **** 
5223:Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5238:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
5249:Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:Middlewares/Third_Party/FatFs/src/ff.c **** 
5253:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
5256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
5258:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
ARM GAS  /tmp/ccSjSmmD.s 			page 127


5267:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5274:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:Middlewares/Third_Party/FatFs/src/ff.c **** 
5295:Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
5306:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:Middlewares/Third_Party/FatFs/src/ff.c **** {
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccSjSmmD.s 			page 128


5324:Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
5332:Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5337:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
5338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
5343:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
5346:Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
5352:Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
5360:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5363:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
5368:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
5370:Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
ARM GAS  /tmp/ccSjSmmD.s 			page 129


5381:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
5382:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:Middlewares/Third_Party/FatFs/src/ff.c **** 
5388:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
5394:Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
5409:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
5420:Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
5429:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
5431:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
5434:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
ARM GAS  /tmp/ccSjSmmD.s 			page 130


5438:Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
5445:Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5451:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5466:Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
5477:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5486:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:Middlewares/Third_Party/FatFs/src/ff.c **** 
5488:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
5491:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
ARM GAS  /tmp/ccSjSmmD.s 			page 131


5495:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5502:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
5508:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
5523:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
5534:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5543:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
5545:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5548:Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
ARM GAS  /tmp/ccSjSmmD.s 			page 132


5552:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
5554:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5559:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
5565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
5573:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
5576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
5580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
5583:Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
5588:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
5590:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5591:Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5599:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5600:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
5605:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
5608:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccSjSmmD.s 			page 133


5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5611:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5615:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5616:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
5618:Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
5621:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
5622:Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
5637:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
5639:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
5653:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
5659:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
5662:Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
ARM GAS  /tmp/ccSjSmmD.s 			page 134


5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
5674:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
5684:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
5686:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
5694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:Middlewares/Third_Party/FatFs/src/ff.c **** 
5696:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5703:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:Middlewares/Third_Party/FatFs/src/ff.c **** 
5705:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
5711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
5714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
5716:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5719:Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
ARM GAS  /tmp/ccSjSmmD.s 			page 135


5723:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
5743:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
5747:Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
5749:Middlewares/Third_Party/FatFs/src/ff.c **** }
5750:Middlewares/Third_Party/FatFs/src/ff.c **** 
5751:Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
5762:Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5771:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
ARM GAS  /tmp/ccSjSmmD.s 			page 136


5780:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
5787:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
5789:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
5791:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
5793:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
5808:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:Middlewares/Third_Party/FatFs/src/ff.c **** 
5819:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
5828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:Middlewares/Third_Party/FatFs/src/ff.c **** {
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
ARM GAS  /tmp/ccSjSmmD.s 			page 137


5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
5843:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5844:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
5850:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5865:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5876:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
5879:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
5881:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
5885:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5889:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5890:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
ARM GAS  /tmp/ccSjSmmD.s 			page 138


5894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
5895:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
5897:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
5898:Middlewares/Third_Party/FatFs/src/ff.c **** }
5899:Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:Middlewares/Third_Party/FatFs/src/ff.c **** 
5901:Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
5905:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5906:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
5907:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:Middlewares/Third_Party/FatFs/src/ff.c **** {
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
5928:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
5932:Middlewares/Third_Party/FatFs/src/ff.c **** 
5933:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
5942:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
ARM GAS  /tmp/ccSjSmmD.s 			page 139


5951:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
5966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
5968:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
5969:Middlewares/Third_Party/FatFs/src/ff.c **** }
5970:Middlewares/Third_Party/FatFs/src/ff.c **** 
5971:Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:Middlewares/Third_Party/FatFs/src/ff.c **** {
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:Middlewares/Third_Party/FatFs/src/ff.c **** 
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
5982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
5983:Middlewares/Third_Party/FatFs/src/ff.c **** }
5984:Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
5990:Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1795              		.loc 1 5991 1 is_stmt 1 view -0
 1796              		.cfi_startproc
 1797              		@ args = 0, pretend = 0, frame = 0
 1798              		@ frame_needed = 0, uses_anonymous_args = 0
 1799              		@ link register save eliminated.
5992:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 1800              		.loc 1 5992 2 view .LVU548
 1801              		.loc 1 5992 9 is_stmt 0 view .LVU549
 1802 0000 0160     		str	r1, [r0]
5993:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 1803              		.loc 1 5993 2 is_stmt 1 view .LVU550
 1804              		.loc 1 5993 21 is_stmt 0 view .LVU551
 1805 0002 0023     		movs	r3, #0
 1806 0004 4360     		str	r3, [r0, #4]
 1807              		.loc 1 5993 11 view .LVU552
 1808 0006 8360     		str	r3, [r0, #8]
ARM GAS  /tmp/ccSjSmmD.s 			page 140


5994:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1809              		.loc 1 5994 1 view .LVU553
 1810 0008 7047     		bx	lr
 1811              		.cfi_endproc
 1812              	.LFE197:
 1814              		.section	.text.validate,"ax",%progbits
 1815              		.align	1
 1816              		.syntax unified
 1817              		.thumb
 1818              		.thumb_func
 1820              	validate:
 1821              	.LVL206:
 1822              	.LFB176:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1823              		.loc 1 3220 1 is_stmt 1 view -0
 1824              		.cfi_startproc
 1825              		@ args = 0, pretend = 0, frame = 0
 1826              		@ frame_needed = 0, uses_anonymous_args = 0
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1827              		.loc 1 3220 1 is_stmt 0 view .LVU555
 1828 0000 38B5     		push	{r3, r4, r5, lr}
 1829              		.cfi_def_cfa_offset 16
 1830              		.cfi_offset 3, -16
 1831              		.cfi_offset 4, -12
 1832              		.cfi_offset 5, -8
 1833              		.cfi_offset 14, -4
 1834 0002 0D46     		mov	r5, r1
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1835              		.loc 1 3221 2 is_stmt 1 view .LVU556
 1836              	.LVL207:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1837              		.loc 1 3224 2 view .LVU557
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1838              		.loc 1 3224 5 is_stmt 0 view .LVU558
 1839 0004 0446     		mov	r4, r0
 1840 0006 98B1     		cbz	r0, .L166
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1841              		.loc 1 3224 16 discriminator 1 view .LVU559
 1842 0008 0368     		ldr	r3, [r0]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1843              		.loc 1 3224 10 discriminator 1 view .LVU560
 1844 000a 9BB1     		cbz	r3, .L167
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1845              		.loc 1 3224 31 discriminator 2 view .LVU561
 1846 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1847              		.loc 1 3224 21 discriminator 2 view .LVU562
 1848 000e A2B1     		cbz	r2, .L168
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1849              		.loc 1 3224 47 discriminator 3 view .LVU563
 1850 0010 8188     		ldrh	r1, [r0, #4]
 1851              	.LVL208:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1852              		.loc 1 3224 62 discriminator 3 view .LVU564
 1853 0012 DA88     		ldrh	r2, [r3, #6]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1854              		.loc 1 3224 41 discriminator 3 view .LVU565
ARM GAS  /tmp/ccSjSmmD.s 			page 141


 1855 0014 9142     		cmp	r1, r2
 1856 0016 03D0     		beq	.L172
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1857              		.loc 1 3221 10 view .LVU566
 1858 0018 0920     		movs	r0, #9
 1859              	.LVL209:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1860              		.loc 1 3241 33 discriminator 2 view .LVU567
 1861 001a 0024     		movs	r4, #0
 1862              	.LVL210:
 1863              	.L165:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1864              		.loc 1 3241 6 discriminator 4 view .LVU568
 1865 001c 2C60     		str	r4, [r5]
3242:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1866              		.loc 1 3242 2 is_stmt 1 view .LVU569
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1867              		.loc 1 3243 1 is_stmt 0 view .LVU570
 1868 001e 38BD     		pop	{r3, r4, r5, pc}
 1869              	.LVL211:
 1870              	.L172:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1871              		.loc 1 3236 3 is_stmt 1 view .LVU571
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1872              		.loc 1 3236 9 is_stmt 0 view .LVU572
 1873 0020 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1874              	.LVL212:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1875              		.loc 1 3236 9 view .LVU573
 1876 0022 FFF7FEFF 		bl	disk_status
 1877              	.LVL213:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1878              		.loc 1 3236 6 discriminator 1 view .LVU574
 1879 0026 10F00100 		ands	r0, r0, #1
 1880 002a 09D1     		bne	.L170
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1881              		.loc 1 3237 4 is_stmt 1 view .LVU575
 1882              	.LVL214:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1883              		.loc 1 3241 2 view .LVU576
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1884              		.loc 1 3241 33 is_stmt 0 discriminator 1 view .LVU577
 1885 002c 2468     		ldr	r4, [r4]
 1886              	.LVL215:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1887              		.loc 1 3241 33 discriminator 1 view .LVU578
 1888 002e F5E7     		b	.L165
 1889              	.LVL216:
 1890              	.L166:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1891              		.loc 1 3221 10 view .LVU579
 1892 0030 0920     		movs	r0, #9
 1893              	.LVL217:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1894              		.loc 1 3221 10 view .LVU580
 1895 0032 F3E7     		b	.L165
 1896              	.LVL218:
ARM GAS  /tmp/ccSjSmmD.s 			page 142


 1897              	.L167:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1898              		.loc 1 3241 33 discriminator 2 view .LVU581
 1899 0034 1C46     		mov	r4, r3
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1900              		.loc 1 3221 10 view .LVU582
 1901 0036 0920     		movs	r0, #9
 1902              	.LVL219:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1903              		.loc 1 3221 10 view .LVU583
 1904 0038 F0E7     		b	.L165
 1905              	.LVL220:
 1906              	.L168:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1907              		.loc 1 3221 10 view .LVU584
 1908 003a 0920     		movs	r0, #9
 1909              	.LVL221:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1910              		.loc 1 3241 33 discriminator 2 view .LVU585
 1911 003c 0024     		movs	r4, #0
 1912              	.LVL222:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1913              		.loc 1 3241 33 discriminator 2 view .LVU586
 1914 003e EDE7     		b	.L165
 1915              	.LVL223:
 1916              	.L170:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1917              		.loc 1 3221 10 view .LVU587
 1918 0040 0920     		movs	r0, #9
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1919              		.loc 1 3241 33 discriminator 2 view .LVU588
 1920 0042 0024     		movs	r4, #0
 1921              	.LVL224:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1922              		.loc 1 3241 33 discriminator 2 view .LVU589
 1923 0044 EAE7     		b	.L165
 1924              		.cfi_endproc
 1925              	.LFE176:
 1927              		.section	.text.sync_window,"ax",%progbits
 1928              		.align	1
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1933              	sync_window:
 1934              	.LVL225:
 1935              	.LFB147:
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1936              		.loc 1 886 1 is_stmt 1 view -0
 1937              		.cfi_startproc
 1938              		@ args = 0, pretend = 0, frame = 0
 1939              		@ frame_needed = 0, uses_anonymous_args = 0
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1940              		.loc 1 886 1 is_stmt 0 view .LVU591
 1941 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1942              		.cfi_def_cfa_offset 24
 1943              		.cfi_offset 4, -24
 1944              		.cfi_offset 5, -20
ARM GAS  /tmp/ccSjSmmD.s 			page 143


 1945              		.cfi_offset 6, -16
 1946              		.cfi_offset 7, -12
 1947              		.cfi_offset 8, -8
 1948              		.cfi_offset 14, -4
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 1949              		.loc 1 887 2 is_stmt 1 view .LVU592
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1950              		.loc 1 888 2 view .LVU593
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1951              		.loc 1 889 2 view .LVU594
 1952              	.LVL226:
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1953              		.loc 1 892 2 view .LVU595
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1954              		.loc 1 892 8 is_stmt 0 view .LVU596
 1955 0004 C578     		ldrb	r5, [r0, #3]	@ zero_extendqisi2
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1956              		.loc 1 892 5 view .LVU597
 1957 0006 15B9     		cbnz	r5, .L179
 1958              	.LVL227:
 1959              	.L174:
 906:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1960              		.loc 1 906 2 is_stmt 1 view .LVU598
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1961              		.loc 1 907 1 is_stmt 0 view .LVU599
 1962 0008 2846     		mov	r0, r5
 1963 000a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1964              	.LVL228:
 1965              	.L179:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1966              		.loc 1 907 1 view .LVU600
 1967 000e 0446     		mov	r4, r0
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1968              		.loc 1 893 3 is_stmt 1 view .LVU601
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1969              		.loc 1 893 9 is_stmt 0 view .LVU602
 1970 0010 076B     		ldr	r7, [r0, #48]
 1971              	.LVL229:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1972              		.loc 1 894 3 is_stmt 1 view .LVU603
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1973              		.loc 1 894 29 is_stmt 0 view .LVU604
 1974 0012 00F13408 		add	r8, r0, #52
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1975              		.loc 1 894 7 view .LVU605
 1976 0016 0123     		movs	r3, #1
 1977 0018 3A46     		mov	r2, r7
 1978 001a 4146     		mov	r1, r8
 1979 001c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 1980              	.LVL230:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1981              		.loc 1 894 7 view .LVU606
 1982 001e FFF7FEFF 		bl	disk_write
 1983              	.LVL231:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1984              		.loc 1 894 6 discriminator 1 view .LVU607
 1985 0022 0546     		mov	r5, r0
ARM GAS  /tmp/ccSjSmmD.s 			page 144


 1986 0024 A0B9     		cbnz	r0, .L177
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1987              		.loc 1 897 4 is_stmt 1 view .LVU608
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1988              		.loc 1 897 14 is_stmt 0 view .LVU609
 1989 0026 0023     		movs	r3, #0
 1990 0028 E370     		strb	r3, [r4, #3]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1991              		.loc 1 898 4 is_stmt 1 view .LVU610
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1992              		.loc 1 898 18 is_stmt 0 view .LVU611
 1993 002a 636A     		ldr	r3, [r4, #36]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1994              		.loc 1 898 14 view .LVU612
 1995 002c FB1A     		subs	r3, r7, r3
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1996              		.loc 1 898 32 view .LVU613
 1997 002e E269     		ldr	r2, [r4, #28]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1998              		.loc 1 898 7 view .LVU614
 1999 0030 9342     		cmp	r3, r2
 2000 0032 E9D2     		bcs	.L174
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2001              		.loc 1 899 5 is_stmt 1 view .LVU615
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2002              		.loc 1 899 17 is_stmt 0 view .LVU616
 2003 0034 A678     		ldrb	r6, [r4, #2]	@ zero_extendqisi2
 2004              	.LVL232:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2005              		.loc 1 899 5 view .LVU617
 2006 0036 08E0     		b	.L175
 2007              	.L176:
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2008              		.loc 1 900 6 is_stmt 1 view .LVU618
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2009              		.loc 1 900 17 is_stmt 0 view .LVU619
 2010 0038 E369     		ldr	r3, [r4, #28]
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2011              		.loc 1 900 12 view .LVU620
 2012 003a 1F44     		add	r7, r7, r3
 2013              	.LVL233:
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 2014              		.loc 1 901 6 is_stmt 1 view .LVU621
 2015 003c 0123     		movs	r3, #1
 2016 003e 3A46     		mov	r2, r7
 2017 0040 4146     		mov	r1, r8
 2018 0042 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2019 0044 FFF7FEFF 		bl	disk_write
 2020              	.LVL234:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2021              		.loc 1 899 38 discriminator 3 view .LVU622
 2022 0048 013E     		subs	r6, r6, #1
 2023              	.LVL235:
 2024              	.L175:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2025              		.loc 1 899 30 discriminator 1 view .LVU623
 2026 004a 012E     		cmp	r6, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 145


 2027 004c F4D8     		bhi	.L176
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2028              		.loc 1 899 30 is_stmt 0 discriminator 1 view .LVU624
 2029 004e DBE7     		b	.L174
 2030              	.LVL236:
 2031              	.L177:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2032              		.loc 1 895 8 view .LVU625
 2033 0050 0125     		movs	r5, #1
 2034 0052 D9E7     		b	.L174
 2035              		.cfi_endproc
 2036              	.LFE147:
 2038              		.section	.text.move_window,"ax",%progbits
 2039              		.align	1
 2040              		.syntax unified
 2041              		.thumb
 2042              		.thumb_func
 2044              	move_window:
 2045              	.LVL237:
 2046              	.LFB148:
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2047              		.loc 1 916 1 is_stmt 1 view -0
 2048              		.cfi_startproc
 2049              		@ args = 0, pretend = 0, frame = 0
 2050              		@ frame_needed = 0, uses_anonymous_args = 0
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2051              		.loc 1 916 1 is_stmt 0 view .LVU627
 2052 0000 70B5     		push	{r4, r5, r6, lr}
 2053              		.cfi_def_cfa_offset 16
 2054              		.cfi_offset 4, -16
 2055              		.cfi_offset 5, -12
 2056              		.cfi_offset 6, -8
 2057              		.cfi_offset 14, -4
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2058              		.loc 1 917 2 is_stmt 1 view .LVU628
 2059              	.LVL238:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2060              		.loc 1 920 2 view .LVU629
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2061              		.loc 1 920 18 is_stmt 0 view .LVU630
 2062 0002 036B     		ldr	r3, [r0, #48]
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2063              		.loc 1 920 5 view .LVU631
 2064 0004 8B42     		cmp	r3, r1
 2065 0006 02D1     		bne	.L186
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2066              		.loc 1 917 10 view .LVU632
 2067 0008 0026     		movs	r6, #0
 2068              	.LVL239:
 2069              	.L181:
 932:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2070              		.loc 1 932 2 is_stmt 1 view .LVU633
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2071              		.loc 1 933 1 is_stmt 0 view .LVU634
 2072 000a 3046     		mov	r0, r6
 2073 000c 70BD     		pop	{r4, r5, r6, pc}
 2074              	.LVL240:
ARM GAS  /tmp/ccSjSmmD.s 			page 146


 2075              	.L186:
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2076              		.loc 1 933 1 view .LVU635
 2077 000e 0446     		mov	r4, r0
 2078 0010 0D46     		mov	r5, r1
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2079              		.loc 1 922 3 is_stmt 1 view .LVU636
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2080              		.loc 1 922 9 is_stmt 0 view .LVU637
 2081 0012 FFF7FEFF 		bl	sync_window
 2082              	.LVL241:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2083              		.loc 1 924 3 is_stmt 1 view .LVU638
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2084              		.loc 1 924 6 is_stmt 0 view .LVU639
 2085 0016 0646     		mov	r6, r0
 2086 0018 0028     		cmp	r0, #0
 2087 001a F6D1     		bne	.L181
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2088              		.loc 1 925 4 is_stmt 1 view .LVU640
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2089              		.loc 1 925 8 is_stmt 0 view .LVU641
 2090 001c 0123     		movs	r3, #1
 2091 001e 2A46     		mov	r2, r5
 2092 0020 04F13401 		add	r1, r4, #52
 2093 0024 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2094              	.LVL242:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2095              		.loc 1 925 8 view .LVU642
 2096 0026 FFF7FEFF 		bl	disk_read
 2097              	.LVL243:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2098              		.loc 1 925 7 discriminator 1 view .LVU643
 2099 002a 10B1     		cbz	r0, .L182
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2100              		.loc 1 927 9 view .LVU644
 2101 002c 0126     		movs	r6, #1
 2102              	.LVL244:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 2103              		.loc 1 926 12 view .LVU645
 2104 002e 4FF0FF35 		mov	r5, #-1
 2105              	.LVL245:
 2106              	.L182:
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2107              		.loc 1 929 4 is_stmt 1 view .LVU646
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2108              		.loc 1 929 16 is_stmt 0 view .LVU647
 2109 0032 2563     		str	r5, [r4, #48]
 2110 0034 E9E7     		b	.L181
 2111              		.cfi_endproc
 2112              	.LFE148:
 2114              		.section	.text.check_fs,"ax",%progbits
 2115              		.align	1
 2116              		.syntax unified
 2117              		.thumb
 2118              		.thumb_func
 2120              	check_fs:
ARM GAS  /tmp/ccSjSmmD.s 			page 147


 2121              	.LVL246:
 2122              	.LFB174:
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2123              		.loc 1 2969 1 is_stmt 1 view -0
 2124              		.cfi_startproc
 2125              		@ args = 0, pretend = 0, frame = 0
 2126              		@ frame_needed = 0, uses_anonymous_args = 0
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2127              		.loc 1 2969 1 is_stmt 0 view .LVU649
 2128 0000 38B5     		push	{r3, r4, r5, lr}
 2129              		.cfi_def_cfa_offset 16
 2130              		.cfi_offset 3, -16
 2131              		.cfi_offset 4, -12
 2132              		.cfi_offset 5, -8
 2133              		.cfi_offset 14, -4
 2134 0002 0446     		mov	r4, r0
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2135              		.loc 1 2970 2 is_stmt 1 view .LVU650
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2136              		.loc 1 2970 12 is_stmt 0 view .LVU651
 2137 0004 0023     		movs	r3, #0
 2138 0006 C370     		strb	r3, [r0, #3]
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2139              		.loc 1 2970 17 is_stmt 1 view .LVU652
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2140              		.loc 1 2970 29 is_stmt 0 view .LVU653
 2141 0008 4FF0FF33 		mov	r3, #-1
 2142 000c 0363     		str	r3, [r0, #48]
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2143              		.loc 1 2971 2 is_stmt 1 view .LVU654
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2144              		.loc 1 2971 6 is_stmt 0 view .LVU655
 2145 000e FFF7FEFF 		bl	move_window
 2146              	.LVL247:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2147              		.loc 1 2971 5 discriminator 1 view .LVU656
 2148 0012 30BB     		cbnz	r0, .L190
 2149 0014 0546     		mov	r5, r0
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2150              		.loc 1 2973 2 is_stmt 1 view .LVU657
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2151              		.loc 1 2973 6 is_stmt 0 view .LVU658
 2152 0016 04F23220 		addw	r0, r4, #562
 2153 001a FFF7FEFF 		bl	ld_word
 2154              	.LVL248:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2155              		.loc 1 2973 5 discriminator 1 view .LVU659
 2156 001e 4AF65523 		movw	r3, #43605
 2157 0022 9842     		cmp	r0, r3
 2158 0024 1FD1     		bne	.L191
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2159              		.loc 1 2975 2 is_stmt 1 view .LVU660
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2160              		.loc 1 2975 13 is_stmt 0 view .LVU661
 2161 0026 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2162              		.loc 1 2975 5 view .LVU662
ARM GAS  /tmp/ccSjSmmD.s 			page 148


 2163 002a E92B     		cmp	r3, #233
 2164 002c 07D0     		beq	.L189
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2165              		.loc 1 2975 66 discriminator 1 view .LVU663
 2166 002e 636B     		ldr	r3, [r4, #52]
 2167 0030 03F0FF13 		and	r3, r3, #16711935
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2168              		.loc 1 2975 34 discriminator 1 view .LVU664
 2169 0034 0D4A     		ldr	r2, .L194
 2170 0036 9342     		cmp	r3, r2
 2171 0038 01D0     		beq	.L189
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2172              		.loc 1 2982 9 view .LVU665
 2173 003a 0225     		movs	r5, #2
 2174 003c 14E0     		b	.L188
 2175              	.L189:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2176              		.loc 1 2976 3 is_stmt 1 view .LVU666
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2177              		.loc 1 2976 8 is_stmt 0 view .LVU667
 2178 003e 04F16A00 		add	r0, r4, #106
 2179 0042 FFF7FEFF 		bl	ld_dword
 2180              	.LVL249:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2181              		.loc 1 2976 42 discriminator 1 view .LVU668
 2182 0046 20F07F40 		bic	r0, r0, #-16777216
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2183              		.loc 1 2976 6 discriminator 1 view .LVU669
 2184 004a 094B     		ldr	r3, .L194+4
 2185 004c 9842     		cmp	r0, r3
 2186 004e 0BD0     		beq	.L188
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2187              		.loc 1 2977 3 is_stmt 1 view .LVU670
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2188              		.loc 1 2977 7 is_stmt 0 view .LVU671
 2189 0050 04F18600 		add	r0, r4, #134
 2190 0054 FFF7FEFF 		bl	ld_dword
 2191              	.LVL250:
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2192              		.loc 1 2977 6 discriminator 1 view .LVU672
 2193 0058 064B     		ldr	r3, .L194+8
 2194 005a 9842     		cmp	r0, r3
 2195 005c 04D0     		beq	.L188
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2196              		.loc 1 2982 9 view .LVU673
 2197 005e 0225     		movs	r5, #2
 2198 0060 02E0     		b	.L188
 2199              	.L190:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2200              		.loc 1 2971 45 discriminator 1 view .LVU674
 2201 0062 0425     		movs	r5, #4
 2202 0064 00E0     		b	.L188
 2203              	.L191:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2204              		.loc 1 2973 51 discriminator 1 view .LVU675
 2205 0066 0325     		movs	r5, #3
 2206              	.L188:
ARM GAS  /tmp/ccSjSmmD.s 			page 149


2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2207              		.loc 1 2983 1 view .LVU676
 2208 0068 2846     		mov	r0, r5
 2209 006a 38BD     		pop	{r3, r4, r5, pc}
 2210              	.LVL251:
 2211              	.L195:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2212              		.loc 1 2983 1 view .LVU677
 2213              		.align	2
 2214              	.L194:
 2215 006c EB009000 		.word	9437419
 2216 0070 46415400 		.word	5521734
 2217 0074 46415433 		.word	861159750
 2218              		.cfi_endproc
 2219              	.LFE174:
 2221              		.section	.text.find_volume,"ax",%progbits
 2222              		.align	1
 2223              		.syntax unified
 2224              		.thumb
 2225              		.thumb_func
 2227              	find_volume:
 2228              	.LVL252:
 2229              	.LFB175:
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2230              		.loc 1 2998 1 is_stmt 1 view -0
 2231              		.cfi_startproc
 2232              		@ args = 0, pretend = 0, frame = 16
 2233              		@ frame_needed = 0, uses_anonymous_args = 0
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2234              		.loc 1 2998 1 is_stmt 0 view .LVU679
 2235 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2236              		.cfi_def_cfa_offset 36
 2237              		.cfi_offset 4, -36
 2238              		.cfi_offset 5, -32
 2239              		.cfi_offset 6, -28
 2240              		.cfi_offset 7, -24
 2241              		.cfi_offset 8, -20
 2242              		.cfi_offset 9, -16
 2243              		.cfi_offset 10, -12
 2244              		.cfi_offset 11, -8
 2245              		.cfi_offset 14, -4
 2246 0004 85B0     		sub	sp, sp, #20
 2247              		.cfi_def_cfa_offset 56
 2248 0006 0D46     		mov	r5, r1
 2249 0008 1646     		mov	r6, r2
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 2250              		.loc 1 2999 2 is_stmt 1 view .LVU680
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 2251              		.loc 1 3000 2 view .LVU681
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 2252              		.loc 1 3001 2 view .LVU682
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 2253              		.loc 1 3002 2 view .LVU683
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 2254              		.loc 1 3003 2 view .LVU684
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 2255              		.loc 1 3004 2 view .LVU685
ARM GAS  /tmp/ccSjSmmD.s 			page 150


3005:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2256              		.loc 1 3005 2 view .LVU686
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2257              		.loc 1 3009 2 view .LVU687
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2258              		.loc 1 3009 7 is_stmt 0 view .LVU688
 2259 000a 0023     		movs	r3, #0
 2260 000c 0B60     		str	r3, [r1]
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2261              		.loc 1 3010 2 is_stmt 1 view .LVU689
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2262              		.loc 1 3010 8 is_stmt 0 view .LVU690
 2263 000e FFF7FEFF 		bl	get_ldnumber
 2264              	.LVL253:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2265              		.loc 1 3011 2 is_stmt 1 view .LVU691
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2266              		.loc 1 3011 5 is_stmt 0 view .LVU692
 2267 0012 071E     		subs	r7, r0, #0
 2268 0014 C0F24681 		blt	.L213
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2269              		.loc 1 3014 2 is_stmt 1 view .LVU693
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2270              		.loc 1 3014 5 is_stmt 0 view .LVU694
 2271 0018 B64B     		ldr	r3, .L243
 2272 001a 53F82740 		ldr	r4, [r3, r7, lsl #2]
 2273              	.LVL254:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2274              		.loc 1 3015 2 is_stmt 1 view .LVU695
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2275              		.loc 1 3015 5 is_stmt 0 view .LVU696
 2276 001e 002C     		cmp	r4, #0
 2277 0020 00F04581 		beq	.L214
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 2278              		.loc 1 3017 14 is_stmt 1 view .LVU697
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2279              		.loc 1 3018 2 view .LVU698
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2280              		.loc 1 3018 7 is_stmt 0 view .LVU699
 2281 0024 2C60     		str	r4, [r5]
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2282              		.loc 1 3020 2 is_stmt 1 view .LVU700
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2283              		.loc 1 3020 7 is_stmt 0 view .LVU701
 2284 0026 06F0FE06 		and	r6, r6, #254
 2285              	.LVL255:
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2286              		.loc 1 3021 2 is_stmt 1 view .LVU702
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2287              		.loc 1 3021 8 is_stmt 0 view .LVU703
 2288 002a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2289              		.loc 1 3021 5 view .LVU704
 2290 002c 73B1     		cbz	r3, .L198
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2291              		.loc 1 3022 3 is_stmt 1 view .LVU705
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
ARM GAS  /tmp/ccSjSmmD.s 			page 151


 2292              		.loc 1 3022 10 is_stmt 0 view .LVU706
 2293 002e 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2294              	.LVL256:
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2295              		.loc 1 3022 10 view .LVU707
 2296 0030 FFF7FEFF 		bl	disk_status
 2297              	.LVL257:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2298              		.loc 1 3023 3 is_stmt 1 view .LVU708
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2299              		.loc 1 3023 6 is_stmt 0 view .LVU709
 2300 0034 10F00105 		ands	r5, r0, #1
 2301              	.LVL258:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2302              		.loc 1 3023 6 view .LVU710
 2303 0038 08D1     		bne	.L198
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2304              		.loc 1 3024 4 is_stmt 1 view .LVU711
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2305              		.loc 1 3024 7 is_stmt 0 view .LVU712
 2306 003a 002E     		cmp	r6, #0
 2307 003c 00F03381 		beq	.L197
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2308              		.loc 1 3024 30 discriminator 1 view .LVU713
 2309 0040 10F0040F 		tst	r0, #4
 2310 0044 00F02F81 		beq	.L197
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2311              		.loc 1 3025 12 view .LVU714
 2312 0048 0A25     		movs	r5, #10
 2313 004a 2CE1     		b	.L197
 2314              	.LVL259:
 2315              	.L198:
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2316              		.loc 1 3034 2 is_stmt 1 view .LVU715
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2317              		.loc 1 3034 14 is_stmt 0 view .LVU716
 2318 004c 0023     		movs	r3, #0
 2319 004e 2370     		strb	r3, [r4]
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2320              		.loc 1 3035 2 is_stmt 1 view .LVU717
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2321              		.loc 1 3035 12 is_stmt 0 view .LVU718
 2322 0050 F8B2     		uxtb	r0, r7
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2323              		.loc 1 3035 10 view .LVU719
 2324 0052 6070     		strb	r0, [r4, #1]
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2325              		.loc 1 3036 2 is_stmt 1 view .LVU720
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2326              		.loc 1 3036 9 is_stmt 0 view .LVU721
 2327 0054 FFF7FEFF 		bl	disk_initialize
 2328              	.LVL260:
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2329              		.loc 1 3037 2 is_stmt 1 view .LVU722
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2330              		.loc 1 3037 5 is_stmt 0 view .LVU723
 2331 0058 10F00105 		ands	r5, r0, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 152


 2332 005c 40F02981 		bne	.L216
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2333              		.loc 1 3040 2 is_stmt 1 view .LVU724
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2334              		.loc 1 3040 5 is_stmt 0 view .LVU725
 2335 0060 1EB1     		cbz	r6, .L199
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2336              		.loc 1 3040 28 discriminator 1 view .LVU726
 2337 0062 10F0040F 		tst	r0, #4
 2338 0066 40F02681 		bne	.L217
 2339              	.L199:
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2340              		.loc 1 3049 2 is_stmt 1 view .LVU727
 2341              	.LVL261:
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2342              		.loc 1 3050 2 view .LVU728
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2343              		.loc 1 3050 8 is_stmt 0 view .LVU729
 2344 006a 0021     		movs	r1, #0
 2345 006c 2046     		mov	r0, r4
 2346              	.LVL262:
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2347              		.loc 1 3050 8 view .LVU730
 2348 006e FFF7FEFF 		bl	check_fs
 2349              	.LVL263:
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2350              		.loc 1 3051 2 is_stmt 1 view .LVU731
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2351              		.loc 1 3051 5 is_stmt 0 view .LVU732
 2352 0072 0228     		cmp	r0, #2
 2353 0074 7ED0     		beq	.L218
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2354              		.loc 1 3049 8 view .LVU733
 2355 0076 0027     		movs	r7, #0
 2356              	.LVL264:
 2357              	.L201:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2358              		.loc 1 3063 2 is_stmt 1 view .LVU734
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2359              		.loc 1 3063 5 is_stmt 0 view .LVU735
 2360 0078 0428     		cmp	r0, #4
 2361 007a 00F01E81 		beq	.L221
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2362              		.loc 1 3064 2 is_stmt 1 view .LVU736
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2363              		.loc 1 3064 5 is_stmt 0 view .LVU737
 2364 007e 0128     		cmp	r0, #1
 2365 0080 00F21D81 		bhi	.L222
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2366              		.loc 1 3116 3 is_stmt 1 view .LVU738
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2367              		.loc 1 3116 7 is_stmt 0 view .LVU739
 2368 0084 04F13F00 		add	r0, r4, #63
 2369              	.LVL265:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2370              		.loc 1 3116 7 view .LVU740
 2371 0088 FFF7FEFF 		bl	ld_word
ARM GAS  /tmp/ccSjSmmD.s 			page 153


 2372              	.LVL266:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2373              		.loc 1 3116 6 discriminator 1 view .LVU741
 2374 008c B0F5007F 		cmp	r0, #512
 2375 0090 40F01781 		bne	.L223
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2376              		.loc 1 3118 3 is_stmt 1 view .LVU742
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2377              		.loc 1 3118 12 is_stmt 0 view .LVU743
 2378 0094 04F14A00 		add	r0, r4, #74
 2379 0098 FFF7FEFF 		bl	ld_word
 2380              	.LVL267:
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2381              		.loc 1 3118 10 discriminator 1 view .LVU744
 2382 009c 0646     		mov	r6, r0
 2383              	.LVL268:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2384              		.loc 1 3119 3 is_stmt 1 view .LVU745
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2385              		.loc 1 3119 6 is_stmt 0 view .LVU746
 2386 009e 20B9     		cbnz	r0, .L206
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2387              		.loc 1 3119 20 is_stmt 1 discriminator 1 view .LVU747
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2388              		.loc 1 3119 29 is_stmt 0 discriminator 1 view .LVU748
 2389 00a0 04F15800 		add	r0, r4, #88
 2390              	.LVL269:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2391              		.loc 1 3119 29 discriminator 1 view .LVU749
 2392 00a4 FFF7FEFF 		bl	ld_dword
 2393              	.LVL270:
 2394 00a8 0646     		mov	r6, r0
 2395              	.LVL271:
 2396              	.L206:
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2397              		.loc 1 3120 3 is_stmt 1 view .LVU750
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2398              		.loc 1 3120 13 is_stmt 0 view .LVU751
 2399 00aa E661     		str	r6, [r4, #28]
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2400              		.loc 1 3122 3 is_stmt 1 view .LVU752
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2401              		.loc 1 3122 23 is_stmt 0 view .LVU753
 2402 00ac 94F84420 		ldrb	r2, [r4, #68]	@ zero_extendqisi2
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2403              		.loc 1 3122 14 view .LVU754
 2404 00b0 A270     		strb	r2, [r4, #2]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2405              		.loc 1 3123 3 is_stmt 1 view .LVU755
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2406              		.loc 1 3123 23 is_stmt 0 view .LVU756
 2407 00b2 531E     		subs	r3, r2, #1
 2408 00b4 DBB2     		uxtb	r3, r3
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2409              		.loc 1 3123 6 view .LVU757
 2410 00b6 012B     		cmp	r3, #1
 2411 00b8 00F20581 		bhi	.L224
ARM GAS  /tmp/ccSjSmmD.s 			page 154


3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2412              		.loc 1 3124 3 is_stmt 1 view .LVU758
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2413              		.loc 1 3124 10 is_stmt 0 view .LVU759
 2414 00bc 06FB02F8 		mul	r8, r6, r2
 2415              	.LVL272:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2416              		.loc 1 3126 3 is_stmt 1 view .LVU760
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2417              		.loc 1 3126 22 is_stmt 0 view .LVU761
 2418 00c0 94F84190 		ldrb	r9, [r4, #65]	@ zero_extendqisi2
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2419              		.loc 1 3126 13 view .LVU762
 2420 00c4 A4F80A90 		strh	r9, [r4, #10]	@ movhi
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2421              		.loc 1 3127 3 is_stmt 1 view .LVU763
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2422              		.loc 1 3127 6 is_stmt 0 view .LVU764
 2423 00c8 B9F1000F 		cmp	r9, #0
 2424 00cc 00F0FD80 		beq	.L225
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2425              		.loc 1 3127 49 discriminator 2 view .LVU765
 2426 00d0 09F1FF33 		add	r3, r9, #-1
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2427              		.loc 1 3127 22 discriminator 2 view .LVU766
 2428 00d4 19EA030F 		tst	r9, r3
 2429 00d8 40F0F980 		bne	.L226
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2430              		.loc 1 3129 3 is_stmt 1 view .LVU767
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2431              		.loc 1 3129 19 is_stmt 0 view .LVU768
 2432 00dc 04F14500 		add	r0, r4, #69
 2433 00e0 FFF7FEFF 		bl	ld_word
 2434              	.LVL273:
 2435 00e4 8246     		mov	r10, r0
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2436              		.loc 1 3129 17 discriminator 1 view .LVU769
 2437 00e6 2081     		strh	r0, [r4, #8]	@ movhi
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2438              		.loc 1 3130 3 is_stmt 1 view .LVU770
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2439              		.loc 1 3130 6 is_stmt 0 view .LVU771
 2440 00e8 10F00F0F 		tst	r0, #15
 2441 00ec 40F0F180 		bne	.L227
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2442              		.loc 1 3132 3 is_stmt 1 view .LVU772
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2443              		.loc 1 3132 11 is_stmt 0 view .LVU773
 2444 00f0 04F14700 		add	r0, r4, #71
 2445 00f4 FFF7FEFF 		bl	ld_word
 2446              	.LVL274:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2447              		.loc 1 3132 9 discriminator 1 view .LVU774
 2448 00f8 8346     		mov	fp, r0
 2449              	.LVL275:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2450              		.loc 1 3133 3 is_stmt 1 view .LVU775
ARM GAS  /tmp/ccSjSmmD.s 			page 155


3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2451              		.loc 1 3133 6 is_stmt 0 view .LVU776
 2452 00fa 20B9     		cbnz	r0, .L207
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2453              		.loc 1 3133 19 is_stmt 1 discriminator 1 view .LVU777
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2454              		.loc 1 3133 27 is_stmt 0 discriminator 1 view .LVU778
 2455 00fc 04F15400 		add	r0, r4, #84
 2456              	.LVL276:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2457              		.loc 1 3133 27 discriminator 1 view .LVU779
 2458 0100 FFF7FEFF 		bl	ld_dword
 2459              	.LVL277:
 2460 0104 8346     		mov	fp, r0
 2461              	.LVL278:
 2462              	.L207:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2463              		.loc 1 3135 3 is_stmt 1 view .LVU780
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2464              		.loc 1 3135 10 is_stmt 0 view .LVU781
 2465 0106 04F14200 		add	r0, r4, #66
 2466 010a FFF7FEFF 		bl	ld_word
 2467              	.LVL279:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2468              		.loc 1 3136 3 is_stmt 1 view .LVU782
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2469              		.loc 1 3136 6 is_stmt 0 view .LVU783
 2470 010e 0246     		mov	r2, r0
 2471 0110 0028     		cmp	r0, #0
 2472 0112 00F0E080 		beq	.L228
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2473              		.loc 1 3139 3 is_stmt 1 view .LVU784
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2474              		.loc 1 3139 17 is_stmt 0 view .LVU785
 2475 0116 00EB0803 		add	r3, r0, r8
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2476              		.loc 1 3139 10 view .LVU786
 2477 011a 03EB1A13 		add	r3, r3, r10, lsr #4
 2478              	.LVL280:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2479              		.loc 1 3140 3 is_stmt 1 view .LVU787
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2480              		.loc 1 3140 6 is_stmt 0 view .LVU788
 2481 011e 9B45     		cmp	fp, r3
 2482 0120 C0F0DB80 		bcc	.L229
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2483              		.loc 1 3141 3 is_stmt 1 view .LVU789
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2484              		.loc 1 3141 18 is_stmt 0 view .LVU790
 2485 0124 ABEB030B 		sub	fp, fp, r3
 2486              	.LVL281:
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2487              		.loc 1 3141 9 view .LVU791
 2488 0128 BBFBF9F1 		udiv	r1, fp, r9
 2489              	.LVL282:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2490              		.loc 1 3142 3 is_stmt 1 view .LVU792
ARM GAS  /tmp/ccSjSmmD.s 			page 156


3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2491              		.loc 1 3142 6 is_stmt 0 view .LVU793
 2492 012c CB45     		cmp	fp, r9
 2493 012e C0F0D680 		bcc	.L230
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2494              		.loc 1 3143 3 is_stmt 1 view .LVU794
 2495              	.LVL283:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2496              		.loc 1 3144 3 view .LVU795
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2497              		.loc 1 3144 6 is_stmt 0 view .LVU796
 2498 0132 4FF6F570 		movw	r0, #65525
 2499              	.LVL284:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2500              		.loc 1 3144 6 view .LVU797
 2501 0136 8142     		cmp	r1, r0
 2502 0138 34D8     		bhi	.L231
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2503              		.loc 1 3144 27 is_stmt 1 discriminator 1 view .LVU798
 2504              	.LVL285:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2505              		.loc 1 3145 3 view .LVU799
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2506              		.loc 1 3145 6 is_stmt 0 view .LVU800
 2507 013a 40F6F570 		movw	r0, #4085
 2508 013e 8142     		cmp	r1, r0
 2509 0140 6AD9     		bls	.L232
 2510 0142 4FF0020B 		mov	fp, #2
 2511 0146 2FE0     		b	.L208
 2512              	.LVL286:
 2513              	.L219:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2514              		.loc 1 3054 54 discriminator 2 view .LVU801
 2515 0148 0020     		movs	r0, #0
 2516              	.LVL287:
 2517              	.L202:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2518              		.loc 1 3054 10 discriminator 4 view .LVU802
 2519 014a 04AB     		add	r3, sp, #16
 2520 014c 03EB8603 		add	r3, r3, r6, lsl #2
 2521 0150 43F8100C 		str	r0, [r3, #-16]
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2522              		.loc 1 3052 23 is_stmt 1 discriminator 2 view .LVU803
 2523 0154 0136     		adds	r6, r6, #1
 2524              	.LVL288:
 2525              	.L200:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2526              		.loc 1 3052 17 discriminator 1 view .LVU804
 2527 0156 032E     		cmp	r6, #3
 2528 0158 0ED8     		bhi	.L238
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2529              		.loc 1 3053 4 view .LVU805
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2530              		.loc 1 3053 9 is_stmt 0 view .LVU806
 2531 015a 04F13400 		add	r0, r4, #52
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2532              		.loc 1 3053 34 view .LVU807
ARM GAS  /tmp/ccSjSmmD.s 			page 157


 2533 015e 3301     		lsls	r3, r6, #4
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2534              		.loc 1 3053 30 view .LVU808
 2535 0160 03F5DF73 		add	r3, r3, #446
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2536              		.loc 1 3053 7 view .LVU809
 2537 0164 1844     		add	r0, r0, r3
 2538              	.LVL289:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2539              		.loc 1 3054 4 is_stmt 1 view .LVU810
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2540              		.loc 1 3054 14 is_stmt 0 view .LVU811
 2541 0166 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2542              		.loc 1 3054 54 view .LVU812
 2543 0168 002B     		cmp	r3, #0
 2544 016a EDD0     		beq	.L219
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2545              		.loc 1 3054 29 discriminator 1 view .LVU813
 2546 016c 0830     		adds	r0, r0, #8
 2547              	.LVL290:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2548              		.loc 1 3054 29 discriminator 1 view .LVU814
 2549 016e FFF7FEFF 		bl	ld_dword
 2550              	.LVL291:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2551              		.loc 1 3054 29 discriminator 1 view .LVU815
 2552 0172 EAE7     		b	.L202
 2553              	.LVL292:
 2554              	.L218:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2555              		.loc 1 3052 10 view .LVU816
 2556 0174 0026     		movs	r6, #0
 2557              	.LVL293:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2558              		.loc 1 3052 10 view .LVU817
 2559 0176 EEE7     		b	.L200
 2560              	.LVL294:
 2561              	.L238:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2562              		.loc 1 3052 10 view .LVU818
 2563 0178 0026     		movs	r6, #0
 2564              	.LVL295:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2565              		.loc 1 3052 10 view .LVU819
 2566 017a 0AE0     		b	.L205
 2567              	.LVL296:
 2568              	.L239:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2569              		.loc 1 3060 18 discriminator 1 view .LVU820
 2570 017c 3946     		mov	r1, r7
 2571 017e 2046     		mov	r0, r4
 2572 0180 FFF7FEFF 		bl	check_fs
 2573              	.LVL297:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2574              		.loc 1 3061 40 is_stmt 1 view .LVU821
 2575 0184 0128     		cmp	r0, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 158


 2576 0186 7FF677AF 		bls	.L201
 2577              	.LVL298:
 2578              	.L204:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2579              		.loc 1 3061 40 is_stmt 0 discriminator 1 view .LVU822
 2580 018a 0136     		adds	r6, r6, #1
 2581              	.LVL299:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2582              		.loc 1 3061 40 discriminator 1 view .LVU823
 2583 018c 032E     		cmp	r6, #3
 2584 018e 3FF673AF 		bhi	.L201
 2585              	.LVL300:
 2586              	.L205:
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2587              		.loc 1 3058 3 is_stmt 1 view .LVU824
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2588              		.loc 1 3059 4 view .LVU825
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2589              		.loc 1 3059 10 is_stmt 0 view .LVU826
 2590 0192 04AB     		add	r3, sp, #16
 2591 0194 03EB8603 		add	r3, r3, r6, lsl #2
 2592 0198 53F8107C 		ldr	r7, [r3, #-16]
 2593              	.LVL301:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2594              		.loc 1 3060 4 is_stmt 1 view .LVU827
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2595              		.loc 1 3060 8 is_stmt 0 view .LVU828
 2596 019c 002F     		cmp	r7, #0
 2597 019e EDD1     		bne	.L239
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2598              		.loc 1 3060 8 discriminator 2 view .LVU829
 2599 01a0 0320     		movs	r0, #3
 2600 01a2 F2E7     		b	.L204
 2601              	.LVL302:
 2602              	.L231:
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2603              		.loc 1 3143 7 view .LVU830
 2604 01a4 4FF0030B 		mov	fp, #3
 2605              	.LVL303:
 2606              	.L208:
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2607              		.loc 1 3148 3 is_stmt 1 view .LVU831
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2608              		.loc 1 3148 24 is_stmt 0 view .LVU832
 2609 01a8 01F10209 		add	r9, r1, #2
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2610              		.loc 1 3148 16 view .LVU833
 2611 01ac C4F81890 		str	r9, [r4, #24]
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2612              		.loc 1 3149 3 is_stmt 1 view .LVU834
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2613              		.loc 1 3149 15 is_stmt 0 view .LVU835
 2614 01b0 2762     		str	r7, [r4, #32]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2615              		.loc 1 3150 3 is_stmt 1 view .LVU836
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2616              		.loc 1 3150 23 is_stmt 0 view .LVU837
ARM GAS  /tmp/ccSjSmmD.s 			page 159


 2617 01b2 3A44     		add	r2, r2, r7
 2618              	.LVL304:
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2619              		.loc 1 3150 15 view .LVU838
 2620 01b4 6262     		str	r2, [r4, #36]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2621              		.loc 1 3151 3 is_stmt 1 view .LVU839
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2622              		.loc 1 3151 24 is_stmt 0 view .LVU840
 2623 01b6 3B44     		add	r3, r3, r7
 2624              	.LVL305:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2625              		.loc 1 3151 16 view .LVU841
 2626 01b8 E362     		str	r3, [r4, #44]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2627              		.loc 1 3152 3 is_stmt 1 view .LVU842
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2628              		.loc 1 3152 6 is_stmt 0 view .LVU843
 2629 01ba BBF1030F 		cmp	fp, #3
 2630 01be 2ED0     		beq	.L240
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2631              		.loc 1 3158 4 is_stmt 1 view .LVU844
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2632              		.loc 1 3158 7 is_stmt 0 view .LVU845
 2633 01c0 BAF1000F 		cmp	r10, #0
 2634 01c4 00F09180 		beq	.L235
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2635              		.loc 1 3159 4 is_stmt 1 view .LVU846
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2636              		.loc 1 3159 30 is_stmt 0 view .LVU847
 2637 01c8 4244     		add	r2, r2, r8
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2638              		.loc 1 3159 16 view .LVU848
 2639 01ca A262     		str	r2, [r4, #40]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2640              		.loc 1 3160 4 is_stmt 1 view .LVU849
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2641              		.loc 1 3161 22 is_stmt 0 view .LVU850
 2642 01cc BBF1020F 		cmp	fp, #2
 2643 01d0 36D0     		beq	.L241
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2644              		.loc 1 3161 37 discriminator 2 view .LVU851
 2645 01d2 09EB4903 		add	r3, r9, r9, lsl #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2646              		.loc 1 3161 61 discriminator 2 view .LVU852
 2647 01d6 09F00109 		and	r9, r9, #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2648              		.loc 1 3161 22 discriminator 2 view .LVU853
 2649 01da 09EB5309 		add	r9, r9, r3, lsr #1
 2650              	.LVL306:
 2651              	.L210:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2652              		.loc 1 3163 3 is_stmt 1 view .LVU854
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2653              		.loc 1 3163 27 is_stmt 0 view .LVU855
 2654 01de 09F2FF19 		addw	r9, r9, #511
 2655              	.LVL307:
ARM GAS  /tmp/ccSjSmmD.s 			page 160


3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2656              		.loc 1 3163 6 view .LVU856
 2657 01e2 B6EB592F 		cmp	r6, r9, lsr #9
 2658 01e6 C0F08280 		bcc	.L236
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2659              		.loc 1 3167 3 is_stmt 1 view .LVU857
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2660              		.loc 1 3167 33 is_stmt 0 view .LVU858
 2661 01ea 4FF0FF33 		mov	r3, #-1
 2662 01ee 6361     		str	r3, [r4, #20]
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2663              		.loc 1 3167 17 view .LVU859
 2664 01f0 2361     		str	r3, [r4, #16]
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2665              		.loc 1 3168 3 is_stmt 1 view .LVU860
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2666              		.loc 1 3168 16 is_stmt 0 view .LVU861
 2667 01f2 8023     		movs	r3, #128
 2668 01f4 2371     		strb	r3, [r4, #4]
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2669              		.loc 1 3170 3 is_stmt 1 view .LVU862
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2670              		.loc 1 3170 6 is_stmt 0 view .LVU863
 2671 01f6 BBF1030F 		cmp	fp, #3
 2672 01fa 24D0     		beq	.L242
 2673              	.L212:
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2674              		.loc 1 3191 2 is_stmt 1 view .LVU864
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2675              		.loc 1 3191 14 is_stmt 0 view .LVU865
 2676 01fc 84F800B0 		strb	fp, [r4]
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2677              		.loc 1 3192 2 is_stmt 1 view .LVU866
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2678              		.loc 1 3192 11 is_stmt 0 view .LVU867
 2679 0200 3D4A     		ldr	r2, .L243+4
 2680 0202 1388     		ldrh	r3, [r2]
 2681 0204 0133     		adds	r3, r3, #1
 2682 0206 9BB2     		uxth	r3, r3
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2683              		.loc 1 3192 9 view .LVU868
 2684 0208 1380     		strh	r3, [r2]	@ movhi
 2685 020a E380     		strh	r3, [r4, #6]	@ movhi
3194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2686              		.loc 1 3194 2 is_stmt 1 view .LVU869
3194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2687              		.loc 1 3194 13 is_stmt 0 view .LVU870
 2688 020c 3B4B     		ldr	r3, .L243+8
 2689 020e E360     		str	r3, [r4, #12]
3203:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2690              		.loc 1 3203 2 is_stmt 1 view .LVU871
 2691 0210 2046     		mov	r0, r4
 2692 0212 FFF7FEFF 		bl	clear_lock
 2693              	.LVL308:
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2694              		.loc 1 3205 2 view .LVU872
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/ccSjSmmD.s 			page 161


 2695              		.loc 1 3205 9 is_stmt 0 view .LVU873
 2696 0216 46E0     		b	.L197
 2697              	.LVL309:
 2698              	.L232:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2699              		.loc 1 3145 31 discriminator 1 view .LVU874
 2700 0218 4FF0010B 		mov	fp, #1
 2701 021c C4E7     		b	.L208
 2702              	.LVL310:
 2703              	.L240:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2704              		.loc 1 3153 4 is_stmt 1 view .LVU875
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2705              		.loc 1 3153 8 is_stmt 0 view .LVU876
 2706 021e 04F15E00 		add	r0, r4, #94
 2707 0222 FFF7FEFF 		bl	ld_word
 2708              	.LVL311:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2709              		.loc 1 3153 7 discriminator 1 view .LVU877
 2710 0226 0028     		cmp	r0, #0
 2711 0228 5BD1     		bne	.L233
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2712              		.loc 1 3154 4 is_stmt 1 view .LVU878
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2713              		.loc 1 3154 7 is_stmt 0 view .LVU879
 2714 022a BAF1000F 		cmp	r10, #0
 2715 022e 5AD1     		bne	.L234
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2716              		.loc 1 3155 4 is_stmt 1 view .LVU880
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2717              		.loc 1 3155 18 is_stmt 0 view .LVU881
 2718 0230 04F16000 		add	r0, r4, #96
 2719 0234 FFF7FEFF 		bl	ld_dword
 2720              	.LVL312:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2721              		.loc 1 3155 16 discriminator 1 view .LVU882
 2722 0238 A062     		str	r0, [r4, #40]
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2723              		.loc 1 3156 4 is_stmt 1 view .LVU883
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2724              		.loc 1 3156 11 is_stmt 0 view .LVU884
 2725 023a 4FEA8909 		lsl	r9, r9, #2
 2726              	.LVL313:
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2727              		.loc 1 3156 11 view .LVU885
 2728 023e CEE7     		b	.L210
 2729              	.LVL314:
 2730              	.L241:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2731              		.loc 1 3161 22 discriminator 1 view .LVU886
 2732 0240 4FEA4909 		lsl	r9, r9, #1
 2733 0244 CBE7     		b	.L210
 2734              	.LVL315:
 2735              	.L242:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2736              		.loc 1 3171 7 view .LVU887
 2737 0246 04F16400 		add	r0, r4, #100
ARM GAS  /tmp/ccSjSmmD.s 			page 162


 2738 024a FFF7FEFF 		bl	ld_word
 2739              	.LVL316:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2740              		.loc 1 3171 4 discriminator 1 view .LVU888
 2741 024e 0128     		cmp	r0, #1
 2742 0250 D4D1     		bne	.L212
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2743              		.loc 1 3172 7 view .LVU889
 2744 0252 791C     		adds	r1, r7, #1
 2745 0254 2046     		mov	r0, r4
 2746 0256 FFF7FEFF 		bl	move_window
 2747              	.LVL317:
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2748              		.loc 1 3172 4 discriminator 1 view .LVU890
 2749 025a 0028     		cmp	r0, #0
 2750 025c CED1     		bne	.L212
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2751              		.loc 1 3174 4 is_stmt 1 view .LVU891
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2752              		.loc 1 3174 17 is_stmt 0 view .LVU892
 2753 025e 0023     		movs	r3, #0
 2754 0260 2371     		strb	r3, [r4, #4]
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2755              		.loc 1 3175 4 is_stmt 1 view .LVU893
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2756              		.loc 1 3175 8 is_stmt 0 view .LVU894
 2757 0262 04F23220 		addw	r0, r4, #562
 2758 0266 FFF7FEFF 		bl	ld_word
 2759              	.LVL318:
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2760              		.loc 1 3175 7 discriminator 1 view .LVU895
 2761 026a 4AF65523 		movw	r3, #43605
 2762 026e 9842     		cmp	r0, r3
 2763 0270 C4D1     		bne	.L212
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2764              		.loc 1 3176 8 view .LVU896
 2765 0272 04F13400 		add	r0, r4, #52
 2766 0276 FFF7FEFF 		bl	ld_dword
 2767              	.LVL319:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2768              		.loc 1 3176 5 discriminator 1 view .LVU897
 2769 027a 214B     		ldr	r3, .L243+12
 2770 027c 9842     		cmp	r0, r3
 2771 027e BDD1     		bne	.L212
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2772              		.loc 1 3177 8 view .LVU898
 2773 0280 04F50670 		add	r0, r4, #536
 2774 0284 FFF7FEFF 		bl	ld_dword
 2775              	.LVL320:
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2776              		.loc 1 3177 5 discriminator 1 view .LVU899
 2777 0288 1E4B     		ldr	r3, .L243+16
 2778 028a 9842     		cmp	r0, r3
 2779 028c B6D1     		bne	.L212
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2780              		.loc 1 3180 5 is_stmt 1 view .LVU900
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccSjSmmD.s 			page 163


 2781              		.loc 1 3180 21 is_stmt 0 view .LVU901
 2782 028e 04F50770 		add	r0, r4, #540
 2783 0292 FFF7FEFF 		bl	ld_dword
 2784              	.LVL321:
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2785              		.loc 1 3180 19 discriminator 1 view .LVU902
 2786 0296 6061     		str	r0, [r4, #20]
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2787              		.loc 1 3183 5 is_stmt 1 view .LVU903
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2788              		.loc 1 3183 21 is_stmt 0 view .LVU904
 2789 0298 04F50870 		add	r0, r4, #544
 2790 029c FFF7FEFF 		bl	ld_dword
 2791              	.LVL322:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2792              		.loc 1 3183 19 discriminator 1 view .LVU905
 2793 02a0 2061     		str	r0, [r4, #16]
 2794 02a2 ABE7     		b	.L212
 2795              	.LVL323:
 2796              	.L213:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2797              		.loc 1 3011 22 discriminator 1 view .LVU906
 2798 02a4 0B25     		movs	r5, #11
 2799              	.LVL324:
 2800              	.L197:
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2801              		.loc 1 3206 1 view .LVU907
 2802 02a6 2846     		mov	r0, r5
 2803 02a8 05B0     		add	sp, sp, #20
 2804              		.cfi_remember_state
 2805              		.cfi_def_cfa_offset 36
 2806              		@ sp needed
 2807 02aa BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2808              	.LVL325:
 2809              	.L214:
 2810              		.cfi_restore_state
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2811              		.loc 1 3015 18 discriminator 1 view .LVU908
 2812 02ae 0C25     		movs	r5, #12
 2813              	.LVL326:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2814              		.loc 1 3015 18 discriminator 1 view .LVU909
 2815 02b0 F9E7     		b	.L197
 2816              	.LVL327:
 2817              	.L216:
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2818              		.loc 1 3038 10 view .LVU910
 2819 02b2 0325     		movs	r5, #3
 2820 02b4 F7E7     		b	.L197
 2821              	.L217:
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2822              		.loc 1 3041 10 view .LVU911
 2823 02b6 0A25     		movs	r5, #10
 2824 02b8 F5E7     		b	.L197
 2825              	.LVL328:
 2826              	.L221:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
ARM GAS  /tmp/ccSjSmmD.s 			page 164


 2827              		.loc 1 3063 23 discriminator 1 view .LVU912
 2828 02ba 0125     		movs	r5, #1
 2829 02bc F3E7     		b	.L197
 2830              	.L222:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2831              		.loc 1 3064 23 discriminator 1 view .LVU913
 2832 02be 0D25     		movs	r5, #13
 2833 02c0 F1E7     		b	.L197
 2834              	.LVL329:
 2835              	.L223:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2836              		.loc 1 3116 59 discriminator 1 view .LVU914
 2837 02c2 0D25     		movs	r5, #13
 2838 02c4 EFE7     		b	.L197
 2839              	.LVL330:
 2840              	.L224:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2841              		.loc 1 3123 50 discriminator 1 view .LVU915
 2842 02c6 0D25     		movs	r5, #13
 2843 02c8 EDE7     		b	.L197
 2844              	.LVL331:
 2845              	.L225:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2846              		.loc 1 3127 63 discriminator 3 view .LVU916
 2847 02ca 0D25     		movs	r5, #13
 2848 02cc EBE7     		b	.L197
 2849              	.L226:
 2850 02ce 0D25     		movs	r5, #13
 2851 02d0 E9E7     		b	.L197
 2852              	.L227:
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2853              		.loc 1 3130 49 discriminator 1 view .LVU917
 2854 02d2 0D25     		movs	r5, #13
 2855 02d4 E7E7     		b	.L197
 2856              	.LVL332:
 2857              	.L228:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2858              		.loc 1 3136 25 discriminator 1 view .LVU918
 2859 02d6 0D25     		movs	r5, #13
 2860 02d8 E5E7     		b	.L197
 2861              	.LVL333:
 2862              	.L229:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2863              		.loc 1 3140 30 discriminator 1 view .LVU919
 2864 02da 0D25     		movs	r5, #13
 2865 02dc E3E7     		b	.L197
 2866              	.LVL334:
 2867              	.L230:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2868              		.loc 1 3142 26 discriminator 1 view .LVU920
 2869 02de 0D25     		movs	r5, #13
 2870 02e0 E1E7     		b	.L197
 2871              	.LVL335:
 2872              	.L233:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2873              		.loc 1 3153 52 discriminator 1 view .LVU921
 2874 02e2 0D25     		movs	r5, #13
ARM GAS  /tmp/ccSjSmmD.s 			page 165


 2875 02e4 DFE7     		b	.L197
 2876              	.L234:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2877              		.loc 1 3154 30 discriminator 1 view .LVU922
 2878 02e6 0D25     		movs	r5, #13
 2879 02e8 DDE7     		b	.L197
 2880              	.LVL336:
 2881              	.L235:
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2882              		.loc 1 3158 35 discriminator 1 view .LVU923
 2883 02ea 0D25     		movs	r5, #13
 2884 02ec DBE7     		b	.L197
 2885              	.LVL337:
 2886              	.L236:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2887              		.loc 1 3163 60 discriminator 1 view .LVU924
 2888 02ee 0D25     		movs	r5, #13
 2889 02f0 D9E7     		b	.L197
 2890              	.L244:
 2891 02f2 00BF     		.align	2
 2892              	.L243:
 2893 02f4 00000000 		.word	FatFs
 2894 02f8 00000000 		.word	Fsid
 2895 02fc 00000000 		.word	LfnBuf
 2896 0300 52526141 		.word	1096897106
 2897 0304 72724161 		.word	1631679090
 2898              		.cfi_endproc
 2899              	.LFE175:
 2901              		.section	.text.put_fat,"ax",%progbits
 2902              		.align	1
 2903              		.syntax unified
 2904              		.thumb
 2905              		.thumb_func
 2907              	put_fat:
 2908              	.LVL338:
 2909              	.LFB152:
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 2910              		.loc 1 1086 1 is_stmt 1 view -0
 2911              		.cfi_startproc
 2912              		@ args = 0, pretend = 0, frame = 0
 2913              		@ frame_needed = 0, uses_anonymous_args = 0
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 2914              		.loc 1 1086 1 is_stmt 0 view .LVU926
 2915 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2916              		.cfi_def_cfa_offset 32
 2917              		.cfi_offset 4, -32
 2918              		.cfi_offset 5, -28
 2919              		.cfi_offset 6, -24
 2920              		.cfi_offset 7, -20
 2921              		.cfi_offset 8, -16
 2922              		.cfi_offset 9, -12
 2923              		.cfi_offset 10, -8
 2924              		.cfi_offset 14, -4
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 2925              		.loc 1 1087 2 is_stmt 1 view .LVU927
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
 2926              		.loc 1 1088 2 view .LVU928
ARM GAS  /tmp/ccSjSmmD.s 			page 166


1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2927              		.loc 1 1089 2 view .LVU929
 2928              	.LVL339:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2929              		.loc 1 1091 2 view .LVU930
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2930              		.loc 1 1091 5 is_stmt 0 view .LVU931
 2931 0004 0129     		cmp	r1, #1
 2932 0006 75D9     		bls	.L253
 2933 0008 0746     		mov	r7, r0
 2934 000a 0C46     		mov	r4, r1
 2935 000c 1646     		mov	r6, r2
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2936              		.loc 1 1091 28 discriminator 1 view .LVU932
 2937 000e 8369     		ldr	r3, [r0, #24]
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2938              		.loc 1 1091 16 discriminator 1 view .LVU933
 2939 0010 8B42     		cmp	r3, r1
 2940 0012 73D9     		bls	.L254
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 2941              		.loc 1 1092 3 is_stmt 1 view .LVU934
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 2942              		.loc 1 1092 13 is_stmt 0 view .LVU935
 2943 0014 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 2944              		.loc 1 1092 3 view .LVU936
 2945 0016 022B     		cmp	r3, #2
 2946 0018 3ED0     		beq	.L247
 2947 001a 032B     		cmp	r3, #3
 2948 001c 4FD0     		beq	.L248
 2949 001e 012B     		cmp	r3, #1
 2950 0020 6ED1     		bne	.L255
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2951              		.loc 1 1094 4 is_stmt 1 view .LVU937
 2952              	.LVL340:
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2953              		.loc 1 1094 21 view .LVU938
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2954              		.loc 1 1094 24 is_stmt 0 view .LVU939
 2955 0022 01EB5108 		add	r8, r1, r1, lsr #1
 2956              	.LVL341:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2957              		.loc 1 1095 4 is_stmt 1 view .LVU940
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2958              		.loc 1 1095 28 is_stmt 0 view .LVU941
 2959 0026 416A     		ldr	r1, [r0, #36]
 2960              	.LVL342:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2961              		.loc 1 1095 10 view .LVU942
 2962 0028 01EB5821 		add	r1, r1, r8, lsr #9
 2963 002c FFF7FEFF 		bl	move_window
 2964              	.LVL343:
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 2965              		.loc 1 1096 4 is_stmt 1 view .LVU943
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 2966              		.loc 1 1096 7 is_stmt 0 view .LVU944
 2967 0030 0546     		mov	r5, r0
ARM GAS  /tmp/ccSjSmmD.s 			page 167


 2968 0032 0028     		cmp	r0, #0
 2969 0034 5FD1     		bne	.L246
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2970              		.loc 1 1097 4 is_stmt 1 view .LVU945
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2971              		.loc 1 1097 8 is_stmt 0 view .LVU946
 2972 0036 07F1340A 		add	r10, r7, #52
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2973              		.loc 1 1097 23 view .LVU947
 2974 003a 08F10109 		add	r9, r8, #1
 2975              	.LVL344:
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2976              		.loc 1 1097 23 view .LVU948
 2977 003e C8F30808 		ubfx	r8, r8, #0, #9
 2978              	.LVL345:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2979              		.loc 1 1098 4 is_stmt 1 view .LVU949
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2980              		.loc 1 1098 7 is_stmt 0 view .LVU950
 2981 0042 14F00104 		ands	r4, r4, #1
 2982              	.LVL346:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2983              		.loc 1 1098 7 view .LVU951
 2984 0046 1DD0     		beq	.L249
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2985              		.loc 1 1098 24 discriminator 1 view .LVU952
 2986 0048 1AF80830 		ldrb	r3, [r10, r8]	@ zero_extendqisi2
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2987              		.loc 1 1098 7 discriminator 1 view .LVU953
 2988 004c 03F00F03 		and	r3, r3, #15
 2989 0050 43EA0613 		orr	r3, r3, r6, lsl #4
 2990 0054 DBB2     		uxtb	r3, r3
 2991              	.L250:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2992              		.loc 1 1098 7 discriminator 4 view .LVU954
 2993 0056 0AF80830 		strb	r3, [r10, r8]
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2994              		.loc 1 1099 4 is_stmt 1 view .LVU955
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2995              		.loc 1 1099 14 is_stmt 0 view .LVU956
 2996 005a 0123     		movs	r3, #1
 2997 005c FB70     		strb	r3, [r7, #3]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2998              		.loc 1 1100 4 is_stmt 1 view .LVU957
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2999              		.loc 1 1100 28 is_stmt 0 view .LVU958
 3000 005e 796A     		ldr	r1, [r7, #36]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3001              		.loc 1 1100 10 view .LVU959
 3002 0060 01EB5921 		add	r1, r1, r9, lsr #9
 3003 0064 3846     		mov	r0, r7
 3004              	.LVL347:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3005              		.loc 1 1100 10 view .LVU960
 3006 0066 FFF7FEFF 		bl	move_window
 3007              	.LVL348:
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
ARM GAS  /tmp/ccSjSmmD.s 			page 168


 3008              		.loc 1 1101 4 is_stmt 1 view .LVU961
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 3009              		.loc 1 1101 7 is_stmt 0 view .LVU962
 3010 006a 0546     		mov	r5, r0
 3011 006c 0028     		cmp	r0, #0
 3012 006e 42D1     		bne	.L246
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3013              		.loc 1 1102 4 is_stmt 1 view .LVU963
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3014              		.loc 1 1102 21 is_stmt 0 view .LVU964
 3015 0070 C9F30809 		ubfx	r9, r9, #0, #9
 3016              	.LVL349:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3017              		.loc 1 1103 4 is_stmt 1 view .LVU965
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3018              		.loc 1 1103 7 is_stmt 0 view .LVU966
 3019 0074 44B1     		cbz	r4, .L251
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3020              		.loc 1 1103 7 discriminator 1 view .LVU967
 3021 0076 C6F30713 		ubfx	r3, r6, #4, #8
 3022              	.L252:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3023              		.loc 1 1103 7 discriminator 4 view .LVU968
 3024 007a 0AF80930 		strb	r3, [r10, r9]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3025              		.loc 1 1104 4 is_stmt 1 view .LVU969
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3026              		.loc 1 1104 14 is_stmt 0 view .LVU970
 3027 007e 0123     		movs	r3, #1
 3028 0080 FB70     		strb	r3, [r7, #3]
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3029              		.loc 1 1105 4 is_stmt 1 view .LVU971
 3030 0082 38E0     		b	.L246
 3031              	.LVL350:
 3032              	.L249:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3033              		.loc 1 1098 7 is_stmt 0 discriminator 2 view .LVU972
 3034 0084 F3B2     		uxtb	r3, r6
 3035 0086 E6E7     		b	.L250
 3036              	.LVL351:
 3037              	.L251:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3038              		.loc 1 1103 43 discriminator 2 view .LVU973
 3039 0088 1AF80930 		ldrb	r3, [r10, r9]	@ zero_extendqisi2
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3040              		.loc 1 1103 74 discriminator 2 view .LVU974
 3041 008c C6F30322 		ubfx	r2, r6, #8, #4
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3042              		.loc 1 1103 7 discriminator 2 view .LVU975
 3043 0090 23F00F03 		bic	r3, r3, #15
 3044 0094 1343     		orrs	r3, r3, r2
 3045 0096 F0E7     		b	.L252
 3046              	.LVL352:
 3047              	.L247:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3048              		.loc 1 1108 4 is_stmt 1 view .LVU976
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/ccSjSmmD.s 			page 169


 3049              		.loc 1 1108 28 is_stmt 0 view .LVU977
 3050 0098 416A     		ldr	r1, [r0, #36]
 3051              	.LVL353:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3052              		.loc 1 1108 10 view .LVU978
 3053 009a 01EB1421 		add	r1, r1, r4, lsr #8
 3054 009e FFF7FEFF 		bl	move_window
 3055              	.LVL354:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 3056              		.loc 1 1109 4 is_stmt 1 view .LVU979
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 3057              		.loc 1 1109 7 is_stmt 0 view .LVU980
 3058 00a2 0546     		mov	r5, r0
 3059 00a4 38BB     		cbnz	r0, .L246
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3060              		.loc 1 1110 4 is_stmt 1 view .LVU981
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3061              		.loc 1 1110 12 is_stmt 0 view .LVU982
 3062 00a6 07F13400 		add	r0, r7, #52
 3063              	.LVL355:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3064              		.loc 1 1110 27 view .LVU983
 3065 00aa 6400     		lsls	r4, r4, #1
 3066              	.LVL356:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3067              		.loc 1 1110 31 view .LVU984
 3068 00ac 04F4FF74 		and	r4, r4, #510
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3069              		.loc 1 1110 4 view .LVU985
 3070 00b0 B1B2     		uxth	r1, r6
 3071 00b2 2044     		add	r0, r0, r4
 3072 00b4 FFF7FEFF 		bl	st_word
 3073              	.LVL357:
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3074              		.loc 1 1111 4 is_stmt 1 view .LVU986
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3075              		.loc 1 1111 14 is_stmt 0 view .LVU987
 3076 00b8 0123     		movs	r3, #1
 3077 00ba FB70     		strb	r3, [r7, #3]
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3078              		.loc 1 1112 4 is_stmt 1 view .LVU988
 3079 00bc 1BE0     		b	.L246
 3080              	.LVL358:
 3081              	.L248:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3082              		.loc 1 1118 4 view .LVU989
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3083              		.loc 1 1118 28 is_stmt 0 view .LVU990
 3084 00be 416A     		ldr	r1, [r0, #36]
 3085              	.LVL359:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3086              		.loc 1 1118 10 view .LVU991
 3087 00c0 01EBD411 		add	r1, r1, r4, lsr #7
 3088 00c4 FFF7FEFF 		bl	move_window
 3089              	.LVL360:
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3090              		.loc 1 1119 4 is_stmt 1 view .LVU992
ARM GAS  /tmp/ccSjSmmD.s 			page 170


1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3091              		.loc 1 1119 7 is_stmt 0 view .LVU993
 3092 00c8 0546     		mov	r5, r0
 3093 00ca A0B9     		cbnz	r0, .L246
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 3094              		.loc 1 1120 4 is_stmt 1 view .LVU994
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3095              		.loc 1 1121 5 view .LVU995
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3096              		.loc 1 1121 16 is_stmt 0 view .LVU996
 3097 00cc 26F07046 		bic	r6, r6, #-268435456
 3098              	.LVL361:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3099              		.loc 1 1121 42 view .LVU997
 3100 00d0 07F13403 		add	r3, r7, #52
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3101              		.loc 1 1121 57 view .LVU998
 3102 00d4 A400     		lsls	r4, r4, #2
 3103              	.LVL362:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3104              		.loc 1 1121 61 view .LVU999
 3105 00d6 04F4FE74 		and	r4, r4, #508
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3106              		.loc 1 1121 33 view .LVU1000
 3107 00da 1C44     		add	r4, r4, r3
 3108 00dc 2046     		mov	r0, r4
 3109              	.LVL363:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3110              		.loc 1 1121 33 view .LVU1001
 3111 00de FFF7FEFF 		bl	ld_dword
 3112              	.LVL364:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3113              		.loc 1 1121 71 discriminator 1 view .LVU1002
 3114 00e2 00F07041 		and	r1, r0, #-268435456
 3115              	.LVL365:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3116              		.loc 1 1123 4 is_stmt 1 view .LVU1003
 3117 00e6 3143     		orrs	r1, r1, r6
 3118              	.LVL366:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3119              		.loc 1 1123 4 is_stmt 0 view .LVU1004
 3120 00e8 2046     		mov	r0, r4
 3121 00ea FFF7FEFF 		bl	st_dword
 3122              	.LVL367:
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3123              		.loc 1 1124 4 is_stmt 1 view .LVU1005
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3124              		.loc 1 1124 14 is_stmt 0 view .LVU1006
 3125 00ee 0123     		movs	r3, #1
 3126 00f0 FB70     		strb	r3, [r7, #3]
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3127              		.loc 1 1125 4 is_stmt 1 view .LVU1007
 3128 00f2 00E0     		b	.L246
 3129              	.LVL368:
 3130              	.L253:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3131              		.loc 1 1089 10 is_stmt 0 view .LVU1008
ARM GAS  /tmp/ccSjSmmD.s 			page 171


 3132 00f4 0225     		movs	r5, #2
 3133              	.LVL369:
 3134              	.L246:
1128:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3135              		.loc 1 1128 2 is_stmt 1 view .LVU1009
1129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3136              		.loc 1 1129 1 is_stmt 0 view .LVU1010
 3137 00f6 2846     		mov	r0, r5
 3138 00f8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3139              	.LVL370:
 3140              	.L254:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3141              		.loc 1 1089 10 view .LVU1011
 3142 00fc 0225     		movs	r5, #2
 3143 00fe FAE7     		b	.L246
 3144              	.L255:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3145              		.loc 1 1092 3 view .LVU1012
 3146 0100 0225     		movs	r5, #2
 3147 0102 F8E7     		b	.L246
 3148              		.cfi_endproc
 3149              	.LFE152:
 3151              		.section	.text.get_fat,"ax",%progbits
 3152              		.align	1
 3153              		.syntax unified
 3154              		.thumb
 3155              		.thumb_func
 3157              	get_fat:
 3158              	.LVL371:
 3159              	.LFB151:
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3160              		.loc 1 1005 1 is_stmt 1 view -0
 3161              		.cfi_startproc
 3162              		@ args = 0, pretend = 0, frame = 0
 3163              		@ frame_needed = 0, uses_anonymous_args = 0
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3164              		.loc 1 1005 1 is_stmt 0 view .LVU1014
 3165 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3166              		.cfi_def_cfa_offset 24
 3167              		.cfi_offset 3, -24
 3168              		.cfi_offset 4, -20
 3169              		.cfi_offset 5, -16
 3170              		.cfi_offset 6, -12
 3171              		.cfi_offset 7, -8
 3172              		.cfi_offset 14, -4
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 3173              		.loc 1 1006 2 is_stmt 1 view .LVU1015
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3174              		.loc 1 1007 2 view .LVU1016
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3175              		.loc 1 1008 2 view .LVU1017
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3176              		.loc 1 1008 9 is_stmt 0 view .LVU1018
 3177 0002 0568     		ldr	r5, [r0]
 3178              	.LVL372:
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3179              		.loc 1 1011 2 is_stmt 1 view .LVU1019
ARM GAS  /tmp/ccSjSmmD.s 			page 172


1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3180              		.loc 1 1011 5 is_stmt 0 view .LVU1020
 3181 0004 0129     		cmp	r1, #1
 3182 0006 54D9     		bls	.L262
 3183 0008 0C46     		mov	r4, r1
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3184              		.loc 1 1011 28 discriminator 1 view .LVU1021
 3185 000a AB69     		ldr	r3, [r5, #24]
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3186              		.loc 1 1011 15 discriminator 1 view .LVU1022
 3187 000c 8B42     		cmp	r3, r1
 3188 000e 52D9     		bls	.L263
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3189              		.loc 1 1015 3 is_stmt 1 view .LVU1023
 3190              	.LVL373:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3191              		.loc 1 1017 3 view .LVU1024
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3192              		.loc 1 1017 13 is_stmt 0 view .LVU1025
 3193 0010 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3194              		.loc 1 1017 3 view .LVU1026
 3195 0012 022B     		cmp	r3, #2
 3196 0014 2BD0     		beq	.L259
 3197 0016 032B     		cmp	r3, #3
 3198 0018 39D0     		beq	.L260
 3199 001a 012B     		cmp	r3, #1
 3200 001c 4DD1     		bne	.L264
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3201              		.loc 1 1019 4 is_stmt 1 view .LVU1027
 3202              	.LVL374:
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3203              		.loc 1 1019 21 view .LVU1028
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3204              		.loc 1 1019 24 is_stmt 0 view .LVU1029
 3205 001e 01EB5106 		add	r6, r1, r1, lsr #1
 3206              	.LVL375:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3207              		.loc 1 1020 4 is_stmt 1 view .LVU1030
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3208              		.loc 1 1020 26 is_stmt 0 view .LVU1031
 3209 0022 696A     		ldr	r1, [r5, #36]
 3210              	.LVL376:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3211              		.loc 1 1020 8 view .LVU1032
 3212 0024 01EB5621 		add	r1, r1, r6, lsr #9
 3213 0028 2846     		mov	r0, r5
 3214              	.LVL377:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3215              		.loc 1 1020 8 view .LVU1033
 3216 002a FFF7FEFF 		bl	move_window
 3217              	.LVL378:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3218              		.loc 1 1020 7 discriminator 1 view .LVU1034
 3219 002e 10B1     		cbz	r0, .L270
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3220              		.loc 1 1015 7 view .LVU1035
ARM GAS  /tmp/ccSjSmmD.s 			page 173


 3221 0030 4FF0FF30 		mov	r0, #-1
 3222 0034 3EE0     		b	.L257
 3223              	.L270:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3224              		.loc 1 1021 4 is_stmt 1 view .LVU1036
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3225              		.loc 1 1021 19 is_stmt 0 view .LVU1037
 3226 0036 771C     		adds	r7, r6, #1
 3227              	.LVL379:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3228              		.loc 1 1021 22 view .LVU1038
 3229 0038 C6F30806 		ubfx	r6, r6, #0, #9
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3230              		.loc 1 1021 16 view .LVU1039
 3231 003c 2E44     		add	r6, r6, r5
 3232 003e 96F83460 		ldrb	r6, [r6, #52]	@ zero_extendqisi2
 3233              	.LVL380:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3234              		.loc 1 1022 4 is_stmt 1 view .LVU1040
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3235              		.loc 1 1022 26 is_stmt 0 view .LVU1041
 3236 0042 696A     		ldr	r1, [r5, #36]
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3237              		.loc 1 1022 8 view .LVU1042
 3238 0044 01EB5721 		add	r1, r1, r7, lsr #9
 3239 0048 2846     		mov	r0, r5
 3240 004a FFF7FEFF 		bl	move_window
 3241              	.LVL381:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3242              		.loc 1 1022 7 discriminator 1 view .LVU1043
 3243 004e B0BB     		cbnz	r0, .L266
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3244              		.loc 1 1023 4 is_stmt 1 view .LVU1044
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3245              		.loc 1 1023 21 is_stmt 0 view .LVU1045
 3246 0050 C7F30807 		ubfx	r7, r7, #0, #9
 3247              	.LVL382:
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3248              		.loc 1 1023 17 view .LVU1046
 3249 0054 2F44     		add	r7, r7, r5
 3250 0056 97F83430 		ldrb	r3, [r7, #52]	@ zero_extendqisi2
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3251              		.loc 1 1023 7 view .LVU1047
 3252 005a 46EA0320 		orr	r0, r6, r3, lsl #8
 3253              	.LVL383:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3254              		.loc 1 1024 4 is_stmt 1 view .LVU1048
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3255              		.loc 1 1024 33 is_stmt 0 view .LVU1049
 3256 005e 14F0010F 		tst	r4, #1
 3257 0062 01D0     		beq	.L261
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3258              		.loc 1 1024 33 discriminator 1 view .LVU1050
 3259 0064 0009     		lsrs	r0, r0, #4
 3260              	.LVL384:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3261              		.loc 1 1024 33 discriminator 1 view .LVU1051
ARM GAS  /tmp/ccSjSmmD.s 			page 174


 3262 0066 25E0     		b	.L257
 3263              	.LVL385:
 3264              	.L261:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3265              		.loc 1 1024 33 discriminator 2 view .LVU1052
 3266 0068 C0F30B00 		ubfx	r0, r0, #0, #12
 3267              	.LVL386:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3268              		.loc 1 1024 33 discriminator 2 view .LVU1053
 3269 006c 22E0     		b	.L257
 3270              	.LVL387:
 3271              	.L259:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3272              		.loc 1 1028 4 is_stmt 1 view .LVU1054
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3273              		.loc 1 1028 26 is_stmt 0 view .LVU1055
 3274 006e 696A     		ldr	r1, [r5, #36]
 3275              	.LVL388:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3276              		.loc 1 1028 8 view .LVU1056
 3277 0070 01EB1421 		add	r1, r1, r4, lsr #8
 3278 0074 2846     		mov	r0, r5
 3279              	.LVL389:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3280              		.loc 1 1028 8 view .LVU1057
 3281 0076 FFF7FEFF 		bl	move_window
 3282              	.LVL390:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3283              		.loc 1 1028 7 discriminator 1 view .LVU1058
 3284 007a 18BB     		cbnz	r0, .L267
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3285              		.loc 1 1029 4 is_stmt 1 view .LVU1059
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3286              		.loc 1 1029 18 is_stmt 0 view .LVU1060
 3287 007c 05F13400 		add	r0, r5, #52
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3288              		.loc 1 1029 33 view .LVU1061
 3289 0080 6400     		lsls	r4, r4, #1
 3290              	.LVL391:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3291              		.loc 1 1029 37 view .LVU1062
 3292 0082 04F4FF74 		and	r4, r4, #510
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3293              		.loc 1 1029 10 view .LVU1063
 3294 0086 2044     		add	r0, r0, r4
 3295 0088 FFF7FEFF 		bl	ld_word
 3296              	.LVL392:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3297              		.loc 1 1030 4 is_stmt 1 view .LVU1064
 3298 008c 12E0     		b	.L257
 3299              	.LVL393:
 3300              	.L260:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3301              		.loc 1 1033 4 view .LVU1065
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3302              		.loc 1 1033 26 is_stmt 0 view .LVU1066
 3303 008e 696A     		ldr	r1, [r5, #36]
ARM GAS  /tmp/ccSjSmmD.s 			page 175


 3304              	.LVL394:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3305              		.loc 1 1033 8 view .LVU1067
 3306 0090 01EBD411 		add	r1, r1, r4, lsr #7
 3307 0094 2846     		mov	r0, r5
 3308              	.LVL395:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3309              		.loc 1 1033 8 view .LVU1068
 3310 0096 FFF7FEFF 		bl	move_window
 3311              	.LVL396:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3312              		.loc 1 1033 7 discriminator 1 view .LVU1069
 3313 009a B0B9     		cbnz	r0, .L268
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3314              		.loc 1 1034 4 is_stmt 1 view .LVU1070
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3315              		.loc 1 1034 19 is_stmt 0 view .LVU1071
 3316 009c 05F13400 		add	r0, r5, #52
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3317              		.loc 1 1034 34 view .LVU1072
 3318 00a0 A400     		lsls	r4, r4, #2
 3319              	.LVL397:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3320              		.loc 1 1034 38 view .LVU1073
 3321 00a2 04F4FE74 		and	r4, r4, #508
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3322              		.loc 1 1034 10 view .LVU1074
 3323 00a6 2044     		add	r0, r0, r4
 3324 00a8 FFF7FEFF 		bl	ld_dword
 3325              	.LVL398:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3326              		.loc 1 1034 8 discriminator 1 view .LVU1075
 3327 00ac 20F07040 		bic	r0, r0, #-268435456
 3328              	.LVL399:
1035:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3329              		.loc 1 1035 4 is_stmt 1 view .LVU1076
 3330 00b0 00E0     		b	.L257
 3331              	.LVL400:
 3332              	.L262:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3333              		.loc 1 1012 7 is_stmt 0 view .LVU1077
 3334 00b2 0120     		movs	r0, #1
 3335              	.LVL401:
 3336              	.L257:
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3337              		.loc 1 1070 1 view .LVU1078
 3338 00b4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3339              	.LVL402:
 3340              	.L263:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3341              		.loc 1 1012 7 view .LVU1079
 3342 00b6 0120     		movs	r0, #1
 3343              	.LVL403:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3344              		.loc 1 1012 7 view .LVU1080
 3345 00b8 FCE7     		b	.L257
 3346              	.LVL404:
ARM GAS  /tmp/ccSjSmmD.s 			page 176


 3347              	.L264:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3348              		.loc 1 1017 3 view .LVU1081
 3349 00ba 0120     		movs	r0, #1
 3350              	.LVL405:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3351              		.loc 1 1017 3 view .LVU1082
 3352 00bc FAE7     		b	.L257
 3353              	.LVL406:
 3354              	.L266:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3355              		.loc 1 1015 7 view .LVU1083
 3356 00be 4FF0FF30 		mov	r0, #-1
 3357 00c2 F7E7     		b	.L257
 3358              	.LVL407:
 3359              	.L267:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3360              		.loc 1 1015 7 view .LVU1084
 3361 00c4 4FF0FF30 		mov	r0, #-1
 3362 00c8 F4E7     		b	.L257
 3363              	.L268:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3364              		.loc 1 1015 7 view .LVU1085
 3365 00ca 4FF0FF30 		mov	r0, #-1
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3366              		.loc 1 1069 2 is_stmt 1 view .LVU1086
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3367              		.loc 1 1069 9 is_stmt 0 view .LVU1087
 3368 00ce F1E7     		b	.L257
 3369              		.cfi_endproc
 3370              	.LFE151:
 3372              		.section	.text.dir_sdi,"ax",%progbits
 3373              		.align	1
 3374              		.syntax unified
 3375              		.thumb
 3376              		.thumb_func
 3378              	dir_sdi:
 3379              	.LVL408:
 3380              	.LFB156:
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3381              		.loc 1 1474 1 is_stmt 1 view -0
 3382              		.cfi_startproc
 3383              		@ args = 0, pretend = 0, frame = 0
 3384              		@ frame_needed = 0, uses_anonymous_args = 0
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3385              		.loc 1 1474 1 is_stmt 0 view .LVU1089
 3386 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3387              		.cfi_def_cfa_offset 24
 3388              		.cfi_offset 4, -24
 3389              		.cfi_offset 5, -20
 3390              		.cfi_offset 6, -16
 3391              		.cfi_offset 7, -12
 3392              		.cfi_offset 8, -8
 3393              		.cfi_offset 14, -4
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3394              		.loc 1 1475 2 is_stmt 1 view .LVU1090
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 177


 3395              		.loc 1 1476 2 view .LVU1091
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3396              		.loc 1 1476 9 is_stmt 0 view .LVU1092
 3397 0004 D0F80080 		ldr	r8, [r0]
 3398              	.LVL409:
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3399              		.loc 1 1479 2 is_stmt 1 view .LVU1093
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3400              		.loc 1 1479 5 is_stmt 0 view .LVU1094
 3401 0008 B1F5001F 		cmp	r1, #2097152
 3402 000c 3FD2     		bcs	.L278
 3403 000e 0746     		mov	r7, r0
 3404 0010 0E46     		mov	r6, r1
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3405              		.loc 1 1479 84 discriminator 1 view .LVU1095
 3406 0012 11F01F0F 		tst	r1, #31
 3407 0016 3DD1     		bne	.L279
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3408              		.loc 1 1482 2 is_stmt 1 view .LVU1096
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3409              		.loc 1 1482 11 is_stmt 0 view .LVU1097
 3410 0018 4161     		str	r1, [r0, #20]
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3411              		.loc 1 1483 2 is_stmt 1 view .LVU1098
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3412              		.loc 1 1483 7 is_stmt 0 view .LVU1099
 3413 001a 8468     		ldr	r4, [r0, #8]
 3414              	.LVL410:
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3415              		.loc 1 1484 2 is_stmt 1 view .LVU1100
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3416              		.loc 1 1484 5 is_stmt 0 view .LVU1101
 3417 001c E4B9     		cbnz	r4, .L273
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3418              		.loc 1 1484 21 discriminator 1 view .LVU1102
 3419 001e 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3420              		.loc 1 1484 16 discriminator 1 view .LVU1103
 3421 0022 022B     		cmp	r3, #2
 3422 0024 01D9     		bls	.L274
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3423              		.loc 1 1485 3 is_stmt 1 view .LVU1104
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3424              		.loc 1 1485 8 is_stmt 0 view .LVU1105
 3425 0026 D8F82840 		ldr	r4, [r8, #40]
 3426              	.LVL411:
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3427              		.loc 1 1486 3 is_stmt 1 view .LVU1106
 3428              	.L274:
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3429              		.loc 1 1489 2 view .LVU1107
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3430              		.loc 1 1489 5 is_stmt 0 view .LVU1108
 3431 002a ACB9     		cbnz	r4, .L273
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3432              		.loc 1 1490 3 is_stmt 1 view .LVU1109
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
ARM GAS  /tmp/ccSjSmmD.s 			page 178


 3433              		.loc 1 1490 25 is_stmt 0 view .LVU1110
 3434 002c B8F80830 		ldrh	r3, [r8, #8]
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3435              		.loc 1 1490 6 view .LVU1111
 3436 0030 B3EB561F 		cmp	r3, r6, lsr #5
 3437 0034 30D9     		bls	.L280
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3438              		.loc 1 1491 3 is_stmt 1 view .LVU1112
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3439              		.loc 1 1491 16 is_stmt 0 view .LVU1113
 3440 0036 D8F82830 		ldr	r3, [r8, #40]
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3441              		.loc 1 1491 12 view .LVU1114
 3442 003a FB61     		str	r3, [r7, #28]
 3443              	.LVL412:
 3444              	.L275:
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3445              		.loc 1 1503 2 is_stmt 1 view .LVU1115
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3446              		.loc 1 1503 12 is_stmt 0 view .LVU1116
 3447 003c BC61     		str	r4, [r7, #24]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3448              		.loc 1 1504 2 is_stmt 1 view .LVU1117
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3449              		.loc 1 1504 9 is_stmt 0 view .LVU1118
 3450 003e FB69     		ldr	r3, [r7, #28]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3451              		.loc 1 1504 5 view .LVU1119
 3452 0040 93B3     		cbz	r3, .L284
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3453              		.loc 1 1505 2 is_stmt 1 view .LVU1120
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3454              		.loc 1 1505 11 is_stmt 0 view .LVU1121
 3455 0042 03EB5623 		add	r3, r3, r6, lsr #9
 3456 0046 FB61     		str	r3, [r7, #28]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3457              		.loc 1 1506 2 is_stmt 1 view .LVU1122
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3458              		.loc 1 1506 12 is_stmt 0 view .LVU1123
 3459 0048 08F13408 		add	r8, r8, #52
 3460              	.LVL413:
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3461              		.loc 1 1506 27 view .LVU1124
 3462 004c C6F30801 		ubfx	r1, r6, #0, #9
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3463              		.loc 1 1506 20 view .LVU1125
 3464 0050 4144     		add	r1, r1, r8
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3465              		.loc 1 1506 10 view .LVU1126
 3466 0052 3962     		str	r1, [r7, #32]
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3467              		.loc 1 1508 2 is_stmt 1 view .LVU1127
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3468              		.loc 1 1508 9 is_stmt 0 view .LVU1128
 3469 0054 0020     		movs	r0, #0
 3470 0056 1BE0     		b	.L272
 3471              	.LVL414:
ARM GAS  /tmp/ccSjSmmD.s 			page 179


 3472              	.L273:
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3473              		.loc 1 1494 3 is_stmt 1 view .LVU1129
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3474              		.loc 1 1494 18 is_stmt 0 view .LVU1130
 3475 0058 B8F80A50 		ldrh	r5, [r8, #10]
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3476              		.loc 1 1494 7 view .LVU1131
 3477 005c 6D02     		lsls	r5, r5, #9
 3478              	.LVL415:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3479              		.loc 1 1495 3 is_stmt 1 view .LVU1132
 3480              	.L276:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3481              		.loc 1 1495 14 view .LVU1133
 3482 005e AE42     		cmp	r6, r5
 3483 0060 0FD3     		bcc	.L286
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3484              		.loc 1 1496 4 view .LVU1134
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3485              		.loc 1 1496 11 is_stmt 0 view .LVU1135
 3486 0062 2146     		mov	r1, r4
 3487 0064 3846     		mov	r0, r7
 3488 0066 FFF7FEFF 		bl	get_fat
 3489              	.LVL416:
 3490 006a 0446     		mov	r4, r0
 3491              	.LVL417:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3492              		.loc 1 1497 4 is_stmt 1 view .LVU1136
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3493              		.loc 1 1497 7 is_stmt 0 view .LVU1137
 3494 006c B0F1FF3F 		cmp	r0, #-1
 3495 0070 14D0     		beq	.L281
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3496              		.loc 1 1498 4 is_stmt 1 view .LVU1138
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3497              		.loc 1 1498 7 is_stmt 0 view .LVU1139
 3498 0072 0128     		cmp	r0, #1
 3499 0074 14D9     		bls	.L282
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3500              		.loc 1 1498 30 discriminator 2 view .LVU1140
 3501 0076 D8F81830 		ldr	r3, [r8, #24]
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3502              		.loc 1 1498 17 discriminator 2 view .LVU1141
 3503 007a 8342     		cmp	r3, r0
 3504 007c 12D9     		bls	.L283
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3505              		.loc 1 1499 4 is_stmt 1 view .LVU1142
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3506              		.loc 1 1499 8 is_stmt 0 view .LVU1143
 3507 007e 761B     		subs	r6, r6, r5
 3508              	.LVL418:
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3509              		.loc 1 1499 8 view .LVU1144
 3510 0080 EDE7     		b	.L276
 3511              	.LVL419:
 3512              	.L286:
ARM GAS  /tmp/ccSjSmmD.s 			page 180


1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3513              		.loc 1 1501 3 is_stmt 1 view .LVU1145
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3514              		.loc 1 1501 14 is_stmt 0 view .LVU1146
 3515 0082 2146     		mov	r1, r4
 3516 0084 4046     		mov	r0, r8
 3517 0086 FFF7FEFF 		bl	clust2sect
 3518              	.LVL420:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3519              		.loc 1 1501 12 discriminator 1 view .LVU1147
 3520 008a F861     		str	r0, [r7, #28]
 3521 008c D6E7     		b	.L275
 3522              	.LVL421:
 3523              	.L278:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3524              		.loc 1 1480 10 view .LVU1148
 3525 008e 0220     		movs	r0, #2
 3526              	.LVL422:
 3527              	.L272:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3528              		.loc 1 1509 1 view .LVU1149
 3529 0090 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3530              	.LVL423:
 3531              	.L279:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3532              		.loc 1 1480 10 view .LVU1150
 3533 0094 0220     		movs	r0, #2
 3534              	.LVL424:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3535              		.loc 1 1480 10 view .LVU1151
 3536 0096 FBE7     		b	.L272
 3537              	.LVL425:
 3538              	.L280:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3539              		.loc 1 1490 45 discriminator 1 view .LVU1152
 3540 0098 0220     		movs	r0, #2
 3541              	.LVL426:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3542              		.loc 1 1490 45 discriminator 1 view .LVU1153
 3543 009a F9E7     		b	.L272
 3544              	.LVL427:
 3545              	.L281:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3546              		.loc 1 1497 35 discriminator 1 view .LVU1154
 3547 009c 0120     		movs	r0, #1
 3548              	.LVL428:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3549              		.loc 1 1497 35 discriminator 1 view .LVU1155
 3550 009e F7E7     		b	.L272
 3551              	.LVL429:
 3552              	.L282:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3553              		.loc 1 1498 49 discriminator 3 view .LVU1156
 3554 00a0 0220     		movs	r0, #2
 3555              	.LVL430:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3556              		.loc 1 1498 49 discriminator 3 view .LVU1157
ARM GAS  /tmp/ccSjSmmD.s 			page 181


 3557 00a2 F5E7     		b	.L272
 3558              	.LVL431:
 3559              	.L283:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3560              		.loc 1 1498 49 discriminator 3 view .LVU1158
 3561 00a4 0220     		movs	r0, #2
 3562              	.LVL432:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3563              		.loc 1 1498 49 discriminator 3 view .LVU1159
 3564 00a6 F3E7     		b	.L272
 3565              	.LVL433:
 3566              	.L284:
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3567              		.loc 1 1504 24 discriminator 1 view .LVU1160
 3568 00a8 0220     		movs	r0, #2
 3569 00aa F1E7     		b	.L272
 3570              		.cfi_endproc
 3571              	.LFE156:
 3573              		.section	.text.create_chain,"ax",%progbits
 3574              		.align	1
 3575              		.syntax unified
 3576              		.thumb
 3577              		.thumb_func
 3579              	create_chain:
 3580              	.LVL434:
 3581              	.LFB154:
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3582              		.loc 1 1355 1 is_stmt 1 view -0
 3583              		.cfi_startproc
 3584              		@ args = 0, pretend = 0, frame = 0
 3585              		@ frame_needed = 0, uses_anonymous_args = 0
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3586              		.loc 1 1355 1 is_stmt 0 view .LVU1162
 3587 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3588              		.cfi_def_cfa_offset 24
 3589              		.cfi_offset 4, -24
 3590              		.cfi_offset 5, -20
 3591              		.cfi_offset 6, -16
 3592              		.cfi_offset 7, -12
 3593              		.cfi_offset 8, -8
 3594              		.cfi_offset 14, -4
 3595 0004 0546     		mov	r5, r0
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3596              		.loc 1 1356 2 is_stmt 1 view .LVU1163
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3597              		.loc 1 1357 2 view .LVU1164
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3598              		.loc 1 1358 2 view .LVU1165
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3599              		.loc 1 1358 9 is_stmt 0 view .LVU1166
 3600 0006 0668     		ldr	r6, [r0]
 3601              	.LVL435:
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3602              		.loc 1 1361 2 is_stmt 1 view .LVU1167
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3603              		.loc 1 1361 5 is_stmt 0 view .LVU1168
 3604 0008 0F46     		mov	r7, r1
ARM GAS  /tmp/ccSjSmmD.s 			page 182


 3605 000a 51B9     		cbnz	r1, .L288
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3606              		.loc 1 1362 3 is_stmt 1 view .LVU1169
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3607              		.loc 1 1362 7 is_stmt 0 view .LVU1170
 3608 000c D6F81080 		ldr	r8, [r6, #16]
 3609              	.LVL436:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3610              		.loc 1 1363 3 is_stmt 1 view .LVU1171
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3611              		.loc 1 1363 6 is_stmt 0 view .LVU1172
 3612 0010 B8F1000F 		cmp	r8, #0
 3613 0014 12D0     		beq	.L297
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3614              		.loc 1 1363 28 discriminator 2 view .LVU1173
 3615 0016 B369     		ldr	r3, [r6, #24]
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3616              		.loc 1 1363 16 discriminator 2 view .LVU1174
 3617 0018 4345     		cmp	r3, r8
 3618 001a 11D8     		bhi	.L289
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3619              		.loc 1 1363 44 discriminator 3 view .LVU1175
 3620 001c 4FF00108 		mov	r8, #1
 3621              	.LVL437:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3622              		.loc 1 1363 44 discriminator 3 view .LVU1176
 3623 0020 0EE0     		b	.L289
 3624              	.LVL438:
 3625              	.L288:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3626              		.loc 1 1366 3 is_stmt 1 view .LVU1177
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3627              		.loc 1 1366 8 is_stmt 0 view .LVU1178
 3628 0022 FFF7FEFF 		bl	get_fat
 3629              	.LVL439:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3630              		.loc 1 1366 8 view .LVU1179
 3631 0026 0346     		mov	r3, r0
 3632              	.LVL440:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3633              		.loc 1 1367 3 is_stmt 1 view .LVU1180
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3634              		.loc 1 1367 6 is_stmt 0 view .LVU1181
 3635 0028 0128     		cmp	r0, #1
 3636 002a 47D9     		bls	.L299
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3637              		.loc 1 1368 3 is_stmt 1 view .LVU1182
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3638              		.loc 1 1368 6 is_stmt 0 view .LVU1183
 3639 002c B0F1FF3F 		cmp	r0, #-1
 3640 0030 49D0     		beq	.L287
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3641              		.loc 1 1369 3 is_stmt 1 view .LVU1184
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3642              		.loc 1 1369 14 is_stmt 0 view .LVU1185
 3643 0032 B269     		ldr	r2, [r6, #24]
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
ARM GAS  /tmp/ccSjSmmD.s 			page 183


 3644              		.loc 1 1369 6 view .LVU1186
 3645 0034 8242     		cmp	r2, r0
 3646 0036 46D8     		bhi	.L287
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3647              		.loc 1 1370 7 view .LVU1187
 3648 0038 B846     		mov	r8, r7
 3649 003a 01E0     		b	.L289
 3650              	.LVL441:
 3651              	.L297:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3652              		.loc 1 1363 44 discriminator 3 view .LVU1188
 3653 003c 4FF00108 		mov	r8, #1
 3654              	.LVL442:
 3655              	.L289:
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3656              		.loc 1 1400 3 is_stmt 1 view .LVU1189
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3657              		.loc 1 1400 7 is_stmt 0 view .LVU1190
 3658 0040 4446     		mov	r4, r8
 3659 0042 0CE0     		b	.L293
 3660              	.LVL443:
 3661              	.L291:
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3662              		.loc 1 1407 4 is_stmt 1 view .LVU1191
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3663              		.loc 1 1407 9 is_stmt 0 view .LVU1192
 3664 0044 2146     		mov	r1, r4
 3665 0046 2846     		mov	r0, r5
 3666 0048 FFF7FEFF 		bl	get_fat
 3667              	.LVL444:
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3668              		.loc 1 1408 4 is_stmt 1 view .LVU1193
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3669              		.loc 1 1408 7 is_stmt 0 view .LVU1194
 3670 004c 0346     		mov	r3, r0
 3671 004e 78B1     		cbz	r0, .L292
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3672              		.loc 1 1409 4 is_stmt 1 view .LVU1195
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3673              		.loc 1 1409 7 is_stmt 0 view .LVU1196
 3674 0050 0128     		cmp	r0, #1
 3675 0052 38D0     		beq	.L287
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3676              		.loc 1 1409 16 discriminator 2 view .LVU1197
 3677 0054 B0F1FF3F 		cmp	r0, #-1
 3678 0058 35D0     		beq	.L287
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3679              		.loc 1 1410 4 is_stmt 1 view .LVU1198
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3680              		.loc 1 1410 7 is_stmt 0 view .LVU1199
 3681 005a 4445     		cmp	r4, r8
 3682 005c 32D0     		beq	.L304
 3683              	.LVL445:
 3684              	.L293:
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
 3685              		.loc 1 1401 3 is_stmt 1 view .LVU1200
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
ARM GAS  /tmp/ccSjSmmD.s 			page 184


 3686              		.loc 1 1402 4 view .LVU1201
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 3687              		.loc 1 1402 7 is_stmt 0 view .LVU1202
 3688 005e 0134     		adds	r4, r4, #1
 3689              	.LVL446:
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3690              		.loc 1 1403 4 is_stmt 1 view .LVU1203
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3691              		.loc 1 1403 17 is_stmt 0 view .LVU1204
 3692 0060 B369     		ldr	r3, [r6, #24]
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3693              		.loc 1 1403 7 view .LVU1205
 3694 0062 A342     		cmp	r3, r4
 3695 0064 EED8     		bhi	.L291
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3696              		.loc 1 1404 5 is_stmt 1 view .LVU1206
 3697              	.LVL447:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3698              		.loc 1 1405 5 view .LVU1207
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3699              		.loc 1 1405 8 is_stmt 0 view .LVU1208
 3700 0066 B8F1010F 		cmp	r8, #1
 3701 006a 29D9     		bls	.L300
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3702              		.loc 1 1404 9 view .LVU1209
 3703 006c 0224     		movs	r4, #2
 3704 006e E9E7     		b	.L291
 3705              	.LVL448:
 3706              	.L292:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3707              		.loc 1 1412 3 is_stmt 1 view .LVU1210
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3708              		.loc 1 1412 9 is_stmt 0 view .LVU1211
 3709 0070 4FF0FF32 		mov	r2, #-1
 3710 0074 2146     		mov	r1, r4
 3711 0076 3046     		mov	r0, r6
 3712              	.LVL449:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3713              		.loc 1 1412 9 view .LVU1212
 3714 0078 FFF7FEFF 		bl	put_fat
 3715              	.LVL450:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3716              		.loc 1 1413 3 is_stmt 1 view .LVU1213
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3717              		.loc 1 1413 6 is_stmt 0 view .LVU1214
 3718 007c 0346     		mov	r3, r0
 3719 007e B0B9     		cbnz	r0, .L294
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3720              		.loc 1 1413 20 discriminator 1 view .LVU1215
 3721 0080 77B9     		cbnz	r7, .L305
 3722              	.LVL451:
 3723              	.L295:
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3724              		.loc 1 1418 2 is_stmt 1 view .LVU1216
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3725              		.loc 1 1418 5 is_stmt 0 view .LVU1217
 3726 0082 A3B9     		cbnz	r3, .L294
ARM GAS  /tmp/ccSjSmmD.s 			page 185


1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3727              		.loc 1 1419 3 is_stmt 1 view .LVU1218
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3728              		.loc 1 1419 17 is_stmt 0 view .LVU1219
 3729 0084 3461     		str	r4, [r6, #16]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3730              		.loc 1 1420 3 is_stmt 1 view .LVU1220
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3731              		.loc 1 1420 9 is_stmt 0 view .LVU1221
 3732 0086 7269     		ldr	r2, [r6, #20]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3733              		.loc 1 1420 26 view .LVU1222
 3734 0088 B369     		ldr	r3, [r6, #24]
 3735              	.LVL452:
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3736              		.loc 1 1420 37 view .LVU1223
 3737 008a 023B     		subs	r3, r3, #2
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3738              		.loc 1 1420 6 view .LVU1224
 3739 008c 9A42     		cmp	r2, r3
 3740 008e 01D8     		bhi	.L296
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3741              		.loc 1 1420 42 is_stmt 1 discriminator 1 view .LVU1225
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3742              		.loc 1 1420 55 is_stmt 0 discriminator 1 view .LVU1226
 3743 0090 013A     		subs	r2, r2, #1
 3744 0092 7261     		str	r2, [r6, #20]
 3745              	.L296:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3746              		.loc 1 1421 3 is_stmt 1 view .LVU1227
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3747              		.loc 1 1421 5 is_stmt 0 view .LVU1228
 3748 0094 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3749              		.loc 1 1421 16 view .LVU1229
 3750 0096 43F00103 		orr	r3, r3, #1
 3751 009a 3371     		strb	r3, [r6, #4]
 3752 009c 2346     		mov	r3, r4
 3753 009e 12E0     		b	.L287
 3754              	.LVL453:
 3755              	.L305:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3756              		.loc 1 1414 4 is_stmt 1 view .LVU1230
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3757              		.loc 1 1414 10 is_stmt 0 view .LVU1231
 3758 00a0 2246     		mov	r2, r4
 3759 00a2 3946     		mov	r1, r7
 3760 00a4 3046     		mov	r0, r6
 3761              	.LVL454:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3762              		.loc 1 1414 10 view .LVU1232
 3763 00a6 FFF7FEFF 		bl	put_fat
 3764              	.LVL455:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3765              		.loc 1 1414 10 view .LVU1233
 3766 00aa 0346     		mov	r3, r0
 3767 00ac E9E7     		b	.L295
ARM GAS  /tmp/ccSjSmmD.s 			page 186


 3768              	.LVL456:
 3769              	.L294:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3770              		.loc 1 1423 3 is_stmt 1 view .LVU1234
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3771              		.loc 1 1423 43 is_stmt 0 view .LVU1235
 3772 00ae 012B     		cmp	r3, #1
 3773 00b0 01D0     		beq	.L306
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3774              		.loc 1 1423 43 discriminator 2 view .LVU1236
 3775 00b2 0123     		movs	r3, #1
 3776              	.LVL457:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3777              		.loc 1 1423 43 discriminator 2 view .LVU1237
 3778 00b4 07E0     		b	.L287
 3779              	.LVL458:
 3780              	.L306:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3781              		.loc 1 1423 43 discriminator 1 view .LVU1238
 3782 00b6 4FF0FF33 		mov	r3, #-1
 3783 00ba 04E0     		b	.L287
 3784              	.LVL459:
 3785              	.L299:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3786              		.loc 1 1367 22 discriminator 1 view .LVU1239
 3787 00bc 0123     		movs	r3, #1
 3788 00be 02E0     		b	.L287
 3789              	.LVL460:
 3790              	.L300:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3791              		.loc 1 1405 27 discriminator 1 view .LVU1240
 3792 00c0 0023     		movs	r3, #0
 3793 00c2 00E0     		b	.L287
 3794              	.LVL461:
 3795              	.L304:
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3796              		.loc 1 1410 27 discriminator 1 view .LVU1241
 3797 00c4 0023     		movs	r3, #0
 3798              	.LVL462:
 3799              	.L287:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3800              		.loc 1 1427 1 view .LVU1242
 3801 00c6 1846     		mov	r0, r3
 3802 00c8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3803              		.loc 1 1427 1 view .LVU1243
 3804              		.cfi_endproc
 3805              	.LFE154:
 3807              		.section	.text.remove_chain,"ax",%progbits
 3808              		.align	1
 3809              		.syntax unified
 3810              		.thumb
 3811              		.thumb_func
 3813              	remove_chain:
 3814              	.LVL463:
 3815              	.LFB153:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
ARM GAS  /tmp/ccSjSmmD.s 			page 187


 3816              		.loc 1 1276 1 is_stmt 1 view -0
 3817              		.cfi_startproc
 3818              		@ args = 0, pretend = 0, frame = 0
 3819              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 3820              		.loc 1 1276 1 is_stmt 0 view .LVU1245
 3821 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3822              		.cfi_def_cfa_offset 24
 3823              		.cfi_offset 3, -24
 3824              		.cfi_offset 4, -20
 3825              		.cfi_offset 5, -16
 3826              		.cfi_offset 6, -12
 3827              		.cfi_offset 7, -8
 3828              		.cfi_offset 14, -4
 3829 0002 0C46     		mov	r4, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 3830              		.loc 1 1277 2 is_stmt 1 view .LVU1246
 3831              	.LVL464:
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3832              		.loc 1 1278 2 view .LVU1247
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 3833              		.loc 1 1279 2 view .LVU1248
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 3834              		.loc 1 1279 9 is_stmt 0 view .LVU1249
 3835 0004 0568     		ldr	r5, [r0]
 3836              	.LVL465:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3837              		.loc 1 1287 2 is_stmt 1 view .LVU1250
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3838              		.loc 1 1287 5 is_stmt 0 view .LVU1251
 3839 0006 0129     		cmp	r1, #1
 3840 0008 2ED9     		bls	.L312
 3841 000a 0646     		mov	r6, r0
 3842 000c 1146     		mov	r1, r2
 3843              	.LVL466:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3844              		.loc 1 1287 28 discriminator 2 view .LVU1252
 3845 000e AB69     		ldr	r3, [r5, #24]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3846              		.loc 1 1287 15 discriminator 2 view .LVU1253
 3847 0010 A342     		cmp	r3, r4
 3848 0012 2BD9     		bls	.L313
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 3849              		.loc 1 1290 2 is_stmt 1 view .LVU1254
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 3850              		.loc 1 1290 5 is_stmt 0 view .LVU1255
 3851 0014 4AB1     		cbz	r2, .L311
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3852              		.loc 1 1291 3 is_stmt 1 view .LVU1256
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3853              		.loc 1 1291 9 is_stmt 0 view .LVU1257
 3854 0016 4FF0FF32 		mov	r2, #-1
 3855              	.LVL467:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3856              		.loc 1 1291 9 view .LVU1258
 3857 001a 2846     		mov	r0, r5
 3858              	.LVL468:
ARM GAS  /tmp/ccSjSmmD.s 			page 188


1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3859              		.loc 1 1291 9 view .LVU1259
 3860 001c FFF7FEFF 		bl	put_fat
 3861              	.LVL469:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3862              		.loc 1 1292 3 is_stmt 1 view .LVU1260
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3863              		.loc 1 1292 6 is_stmt 0 view .LVU1261
 3864 0020 0746     		mov	r7, r0
 3865 0022 10B1     		cbz	r0, .L311
 3866 0024 23E0     		b	.L308
 3867              	.LVL470:
 3868              	.L310:
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 3869              		.loc 1 1327 3 is_stmt 1 view .LVU1262
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3870              		.loc 1 1328 16 view .LVU1263
 3871 0026 A242     		cmp	r2, r4
 3872 0028 21D9     		bls	.L308
 3873              	.LVL471:
 3874              	.L311:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 3875              		.loc 1 1296 2 view .LVU1264
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 3876              		.loc 1 1297 3 view .LVU1265
 3877 002a 2746     		mov	r7, r4
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 3878              		.loc 1 1297 9 is_stmt 0 view .LVU1266
 3879 002c 2146     		mov	r1, r4
 3880 002e 3046     		mov	r0, r6
 3881 0030 FFF7FEFF 		bl	get_fat
 3882              	.LVL472:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 3883              		.loc 1 1298 3 is_stmt 1 view .LVU1267
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 3884              		.loc 1 1298 6 is_stmt 0 view .LVU1268
 3885 0034 0446     		mov	r4, r0
 3886              	.LVL473:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 3887              		.loc 1 1298 6 view .LVU1269
 3888 0036 E0B1     		cbz	r0, .L314
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3889              		.loc 1 1299 3 is_stmt 1 view .LVU1270
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3890              		.loc 1 1299 6 is_stmt 0 view .LVU1271
 3891 0038 0128     		cmp	r0, #1
 3892 003a 1CD0     		beq	.L315
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3893              		.loc 1 1300 3 is_stmt 1 view .LVU1272
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3894              		.loc 1 1300 6 is_stmt 0 view .LVU1273
 3895 003c B0F1FF3F 		cmp	r0, #-1
 3896 0040 1BD0     		beq	.L316
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 3897              		.loc 1 1301 3 is_stmt 1 view .LVU1274
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 3898              		.loc 1 1302 4 view .LVU1275
ARM GAS  /tmp/ccSjSmmD.s 			page 189


1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 3899              		.loc 1 1302 10 is_stmt 0 view .LVU1276
 3900 0042 0022     		movs	r2, #0
 3901 0044 3946     		mov	r1, r7
 3902 0046 2846     		mov	r0, r5
 3903              	.LVL474:
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 3904              		.loc 1 1302 10 view .LVU1277
 3905 0048 FFF7FEFF 		bl	put_fat
 3906              	.LVL475:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3907              		.loc 1 1303 4 is_stmt 1 view .LVU1278
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3908              		.loc 1 1303 7 is_stmt 0 view .LVU1279
 3909 004c 0746     		mov	r7, r0
 3910              	.LVL476:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3911              		.loc 1 1303 7 view .LVU1280
 3912 004e 70B9     		cbnz	r0, .L308
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3913              		.loc 1 1305 3 is_stmt 1 view .LVU1281
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3914              		.loc 1 1305 9 is_stmt 0 view .LVU1282
 3915 0050 6B69     		ldr	r3, [r5, #20]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3916              		.loc 1 1305 25 view .LVU1283
 3917 0052 AA69     		ldr	r2, [r5, #24]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3918              		.loc 1 1305 36 view .LVU1284
 3919 0054 911E     		subs	r1, r2, #2
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3920              		.loc 1 1305 6 view .LVU1285
 3921 0056 8B42     		cmp	r3, r1
 3922 0058 E5D2     		bcs	.L310
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3923              		.loc 1 1306 4 is_stmt 1 view .LVU1286
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3924              		.loc 1 1306 17 is_stmt 0 view .LVU1287
 3925 005a 0133     		adds	r3, r3, #1
 3926 005c 6B61     		str	r3, [r5, #20]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3927              		.loc 1 1307 4 is_stmt 1 view .LVU1288
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3928              		.loc 1 1307 6 is_stmt 0 view .LVU1289
 3929 005e 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3930              		.loc 1 1307 17 view .LVU1290
 3931 0060 43F00103 		orr	r3, r3, #1
 3932 0064 2B71     		strb	r3, [r5, #4]
 3933 0066 DEE7     		b	.L310
 3934              	.LVL477:
 3935              	.L312:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3936              		.loc 1 1287 47 discriminator 3 view .LVU1291
 3937 0068 0227     		movs	r7, #2
 3938 006a 00E0     		b	.L308
 3939              	.LVL478:
ARM GAS  /tmp/ccSjSmmD.s 			page 190


 3940              	.L313:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3941              		.loc 1 1287 47 discriminator 3 view .LVU1292
 3942 006c 0227     		movs	r7, #2
 3943              	.LVL479:
 3944              	.L308:
1342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3945              		.loc 1 1342 1 view .LVU1293
 3946 006e 3846     		mov	r0, r7
 3947 0070 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3948              	.LVL480:
 3949              	.L314:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3950              		.loc 1 1341 9 view .LVU1294
 3951 0072 0027     		movs	r7, #0
 3952              	.LVL481:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3953              		.loc 1 1341 9 view .LVU1295
 3954 0074 FBE7     		b	.L308
 3955              	.LVL482:
 3956              	.L315:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3957              		.loc 1 1299 24 discriminator 1 view .LVU1296
 3958 0076 0227     		movs	r7, #2
 3959              	.LVL483:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3960              		.loc 1 1299 24 discriminator 1 view .LVU1297
 3961 0078 F9E7     		b	.L308
 3962              	.LVL484:
 3963              	.L316:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3964              		.loc 1 1300 33 discriminator 1 view .LVU1298
 3965 007a 0127     		movs	r7, #1
 3966              	.LVL485:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3967              		.loc 1 1300 33 discriminator 1 view .LVU1299
 3968 007c F7E7     		b	.L308
 3969              		.cfi_endproc
 3970              	.LFE153:
 3972              		.section	.text.dir_next,"ax",%progbits
 3973              		.align	1
 3974              		.syntax unified
 3975              		.thumb
 3976              		.thumb_func
 3978              	dir_next:
 3979              	.LVL486:
 3980              	.LFB157:
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 3981              		.loc 1 1523 1 is_stmt 1 view -0
 3982              		.cfi_startproc
 3983              		@ args = 0, pretend = 0, frame = 0
 3984              		@ frame_needed = 0, uses_anonymous_args = 0
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 3985              		.loc 1 1523 1 is_stmt 0 view .LVU1301
 3986 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3987              		.cfi_def_cfa_offset 32
 3988              		.cfi_offset 4, -32
ARM GAS  /tmp/ccSjSmmD.s 			page 191


 3989              		.cfi_offset 5, -28
 3990              		.cfi_offset 6, -24
 3991              		.cfi_offset 7, -20
 3992              		.cfi_offset 8, -16
 3993              		.cfi_offset 9, -12
 3994              		.cfi_offset 10, -8
 3995              		.cfi_offset 14, -4
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3996              		.loc 1 1524 2 is_stmt 1 view .LVU1302
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3997              		.loc 1 1525 2 view .LVU1303
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3998              		.loc 1 1525 9 is_stmt 0 view .LVU1304
 3999 0004 0668     		ldr	r6, [r0]
 4000              	.LVL487:
1527:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4001              		.loc 1 1527 2 is_stmt 1 view .LVU1305
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4002              		.loc 1 1530 2 view .LVU1306
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4003              		.loc 1 1530 10 is_stmt 0 view .LVU1307
 4004 0006 4569     		ldr	r5, [r0, #20]
 4005              	.LVL488:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4006              		.loc 1 1531 2 is_stmt 1 view .LVU1308
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4007              		.loc 1 1531 9 is_stmt 0 view .LVU1309
 4008 0008 C369     		ldr	r3, [r0, #28]
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4009              		.loc 1 1531 5 view .LVU1310
 4010 000a 002B     		cmp	r3, #0
 4011 000c 6CD0     		beq	.L326
 4012 000e 0446     		mov	r4, r0
 4013 0010 8846     		mov	r8, r1
 4014 0012 2035     		adds	r5, r5, #32
 4015              	.LVL489:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4016              		.loc 1 1531 16 discriminator 2 view .LVU1311
 4017 0014 B5F5001F 		cmp	r5, #2097152
 4018 0018 68D2     		bcs	.L327
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4019              		.loc 1 1533 2 is_stmt 1 view .LVU1312
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4020              		.loc 1 1533 10 is_stmt 0 view .LVU1313
 4021 001a C5F30807 		ubfx	r7, r5, #0, #9
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4022              		.loc 1 1533 5 view .LVU1314
 4023 001e 3FB9     		cbnz	r7, .L320
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4024              		.loc 1 1534 3 is_stmt 1 view .LVU1315
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4025              		.loc 1 1534 11 is_stmt 0 view .LVU1316
 4026 0020 0133     		adds	r3, r3, #1
 4027 0022 C361     		str	r3, [r0, #28]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4028              		.loc 1 1536 3 is_stmt 1 view .LVU1317
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
ARM GAS  /tmp/ccSjSmmD.s 			page 192


 4029              		.loc 1 1536 10 is_stmt 0 view .LVU1318
 4030 0024 8169     		ldr	r1, [r0, #24]
 4031              	.LVL490:
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4032              		.loc 1 1536 6 view .LVU1319
 4033 0026 79B9     		cbnz	r1, .L321
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4034              		.loc 1 1537 4 is_stmt 1 view .LVU1320
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4035              		.loc 1 1537 26 is_stmt 0 view .LVU1321
 4036 0028 3389     		ldrh	r3, [r6, #8]
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4037              		.loc 1 1537 7 view .LVU1322
 4038 002a B3EB551F 		cmp	r3, r5, lsr #5
 4039 002e 07D9     		bls	.L336
 4040              	.LVL491:
 4041              	.L320:
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4042              		.loc 1 1574 2 is_stmt 1 view .LVU1323
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4043              		.loc 1 1574 11 is_stmt 0 view .LVU1324
 4044 0030 6561     		str	r5, [r4, #20]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4045              		.loc 1 1575 2 is_stmt 1 view .LVU1325
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4046              		.loc 1 1575 12 is_stmt 0 view .LVU1326
 4047 0032 06F13403 		add	r3, r6, #52
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4048              		.loc 1 1575 20 view .LVU1327
 4049 0036 3B44     		add	r3, r3, r7
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4050              		.loc 1 1575 10 view .LVU1328
 4051 0038 2362     		str	r3, [r4, #32]
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4052              		.loc 1 1577 2 is_stmt 1 view .LVU1329
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4053              		.loc 1 1577 9 is_stmt 0 view .LVU1330
 4054 003a 0020     		movs	r0, #0
 4055              	.LVL492:
 4056              	.L319:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4057              		.loc 1 1578 1 view .LVU1331
 4058 003c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4059              	.LVL493:
 4060              	.L336:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4061              		.loc 1 1538 5 is_stmt 1 view .LVU1332
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4062              		.loc 1 1538 14 is_stmt 0 view .LVU1333
 4063 0040 0023     		movs	r3, #0
 4064 0042 C361     		str	r3, [r0, #28]
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4065              		.loc 1 1538 19 is_stmt 1 view .LVU1334
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4066              		.loc 1 1538 26 is_stmt 0 view .LVU1335
 4067 0044 0420     		movs	r0, #4
 4068              	.LVL494:
ARM GAS  /tmp/ccSjSmmD.s 			page 193


1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4069              		.loc 1 1538 26 view .LVU1336
 4070 0046 F9E7     		b	.L319
 4071              	.LVL495:
 4072              	.L321:
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4073              		.loc 1 1542 4 is_stmt 1 view .LVU1337
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4074              		.loc 1 1542 27 is_stmt 0 view .LVU1338
 4075 0048 7389     		ldrh	r3, [r6, #10]
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4076              		.loc 1 1542 35 view .LVU1339
 4077 004a 013B     		subs	r3, r3, #1
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4078              		.loc 1 1542 7 view .LVU1340
 4079 004c 13EA5529 		ands	r9, r3, r5, lsr #9
 4080 0050 EED1     		bne	.L320
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4081              		.loc 1 1543 5 is_stmt 1 view .LVU1341
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4082              		.loc 1 1543 12 is_stmt 0 view .LVU1342
 4083 0052 FFF7FEFF 		bl	get_fat
 4084              	.LVL496:
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4085              		.loc 1 1543 12 view .LVU1343
 4086 0056 8246     		mov	r10, r0
 4087              	.LVL497:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4088              		.loc 1 1544 5 is_stmt 1 view .LVU1344
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4089              		.loc 1 1544 8 is_stmt 0 view .LVU1345
 4090 0058 0128     		cmp	r0, #1
 4091 005a 49D9     		bls	.L328
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4092              		.loc 1 1545 5 is_stmt 1 view .LVU1346
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4093              		.loc 1 1545 8 is_stmt 0 view .LVU1347
 4094 005c B0F1FF3F 		cmp	r0, #-1
 4095 0060 48D0     		beq	.L329
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4096              		.loc 1 1546 5 is_stmt 1 view .LVU1348
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4097              		.loc 1 1546 19 is_stmt 0 view .LVU1349
 4098 0062 B369     		ldr	r3, [r6, #24]
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4099              		.loc 1 1546 8 view .LVU1350
 4100 0064 8342     		cmp	r3, r0
 4101 0066 37D8     		bhi	.L322
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4102              		.loc 1 1548 6 is_stmt 1 view .LVU1351
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4103              		.loc 1 1548 9 is_stmt 0 view .LVU1352
 4104 0068 B8F1000F 		cmp	r8, #0
 4105 006c 11D0     		beq	.L337
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4106              		.loc 1 1551 6 is_stmt 1 view .LVU1353
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
ARM GAS  /tmp/ccSjSmmD.s 			page 194


 4107              		.loc 1 1551 13 is_stmt 0 view .LVU1354
 4108 006e A169     		ldr	r1, [r4, #24]
 4109 0070 2046     		mov	r0, r4
 4110              	.LVL498:
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4111              		.loc 1 1551 13 view .LVU1355
 4112 0072 FFF7FEFF 		bl	create_chain
 4113              	.LVL499:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4114              		.loc 1 1552 6 is_stmt 1 view .LVU1356
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4115              		.loc 1 1552 9 is_stmt 0 view .LVU1357
 4116 0076 8246     		mov	r10, r0
 4117 0078 0028     		cmp	r0, #0
 4118 007a 3DD0     		beq	.L330
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4119              		.loc 1 1553 6 is_stmt 1 view .LVU1358
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4120              		.loc 1 1553 9 is_stmt 0 view .LVU1359
 4121 007c 0128     		cmp	r0, #1
 4122 007e 3DD0     		beq	.L331
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4123              		.loc 1 1554 6 is_stmt 1 view .LVU1360
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4124              		.loc 1 1554 9 is_stmt 0 view .LVU1361
 4125 0080 B0F1FF3F 		cmp	r0, #-1
 4126 0084 3CD0     		beq	.L332
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
 4127              		.loc 1 1556 6 is_stmt 1 view .LVU1362
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4128              		.loc 1 1557 6 view .LVU1363
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4129              		.loc 1 1557 10 is_stmt 0 view .LVU1364
 4130 0086 3046     		mov	r0, r6
 4131              	.LVL500:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4132              		.loc 1 1557 10 view .LVU1365
 4133 0088 FFF7FEFF 		bl	sync_window
 4134              	.LVL501:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4135              		.loc 1 1557 9 discriminator 1 view .LVU1366
 4136 008c 28B1     		cbz	r0, .L338
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4137              		.loc 1 1557 43 discriminator 1 view .LVU1367
 4138 008e 0120     		movs	r0, #1
 4139 0090 D4E7     		b	.L319
 4140              	.LVL502:
 4141              	.L337:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4142              		.loc 1 1549 7 is_stmt 1 view .LVU1368
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4143              		.loc 1 1549 16 is_stmt 0 view .LVU1369
 4144 0092 0023     		movs	r3, #0
 4145 0094 E361     		str	r3, [r4, #28]
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4146              		.loc 1 1549 21 is_stmt 1 view .LVU1370
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccSjSmmD.s 			page 195


 4147              		.loc 1 1549 28 is_stmt 0 view .LVU1371
 4148 0096 0420     		movs	r0, #4
 4149              	.LVL503:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4150              		.loc 1 1549 28 view .LVU1372
 4151 0098 D0E7     		b	.L319
 4152              	.L338:
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 4153              		.loc 1 1558 6 is_stmt 1 view .LVU1373
 4154 009a 4FF40072 		mov	r2, #512
 4155 009e 0021     		movs	r1, #0
 4156 00a0 06F13400 		add	r0, r6, #52
 4157 00a4 FFF7FEFF 		bl	mem_set
 4158              	.LVL504:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4159              		.loc 1 1559 6 view .LVU1374
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4160              		.loc 1 1559 32 is_stmt 0 view .LVU1375
 4161 00a8 5146     		mov	r1, r10
 4162 00aa 3046     		mov	r0, r6
 4163 00ac FFF7FEFF 		bl	clust2sect
 4164              	.LVL505:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4165              		.loc 1 1559 30 discriminator 1 view .LVU1376
 4166 00b0 3063     		str	r0, [r6, #48]
 4167              	.LVL506:
 4168              	.L324:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4169              		.loc 1 1559 56 is_stmt 1 discriminator 1 view .LVU1377
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4170              		.loc 1 1559 60 is_stmt 0 discriminator 1 view .LVU1378
 4171 00b2 7389     		ldrh	r3, [r6, #10]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4172              		.loc 1 1559 56 discriminator 1 view .LVU1379
 4173 00b4 9945     		cmp	r9, r3
 4174 00b6 0BD2     		bcs	.L339
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4175              		.loc 1 1560 7 is_stmt 1 view .LVU1380
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4176              		.loc 1 1560 17 is_stmt 0 view .LVU1381
 4177 00b8 0123     		movs	r3, #1
 4178 00ba F370     		strb	r3, [r6, #3]
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4179              		.loc 1 1561 7 is_stmt 1 view .LVU1382
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4180              		.loc 1 1561 11 is_stmt 0 view .LVU1383
 4181 00bc 3046     		mov	r0, r6
 4182 00be FFF7FEFF 		bl	sync_window
 4183              	.LVL507:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4184              		.loc 1 1561 10 discriminator 1 view .LVU1384
 4185 00c2 F8B9     		cbnz	r0, .L334
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4186              		.loc 1 1559 72 is_stmt 1 discriminator 2 view .LVU1385
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4187              		.loc 1 1559 70 is_stmt 0 discriminator 2 view .LVU1386
 4188 00c4 09F10109 		add	r9, r9, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 196


 4189              	.LVL508:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4190              		.loc 1 1559 76 discriminator 2 view .LVU1387
 4191 00c8 336B     		ldr	r3, [r6, #48]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4192              		.loc 1 1559 85 discriminator 2 view .LVU1388
 4193 00ca 0133     		adds	r3, r3, #1
 4194 00cc 3363     		str	r3, [r6, #48]
 4195 00ce F0E7     		b	.L324
 4196              	.L339:
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4197              		.loc 1 1563 6 is_stmt 1 view .LVU1389
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4198              		.loc 1 1563 8 is_stmt 0 view .LVU1390
 4199 00d0 336B     		ldr	r3, [r6, #48]
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4200              		.loc 1 1563 18 view .LVU1391
 4201 00d2 A3EB0903 		sub	r3, r3, r9
 4202 00d6 3363     		str	r3, [r6, #48]
 4203              	.LVL509:
 4204              	.L322:
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4205              		.loc 1 1569 5 is_stmt 1 view .LVU1392
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4206              		.loc 1 1569 15 is_stmt 0 view .LVU1393
 4207 00d8 C4F818A0 		str	r10, [r4, #24]
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4208              		.loc 1 1570 5 is_stmt 1 view .LVU1394
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4209              		.loc 1 1570 16 is_stmt 0 view .LVU1395
 4210 00dc 5146     		mov	r1, r10
 4211 00de 3046     		mov	r0, r6
 4212 00e0 FFF7FEFF 		bl	clust2sect
 4213              	.LVL510:
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4214              		.loc 1 1570 14 discriminator 1 view .LVU1396
 4215 00e4 E061     		str	r0, [r4, #28]
 4216 00e6 A3E7     		b	.L320
 4217              	.LVL511:
 4218              	.L326:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4219              		.loc 1 1531 105 discriminator 3 view .LVU1397
 4220 00e8 0420     		movs	r0, #4
 4221              	.LVL512:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4222              		.loc 1 1531 105 discriminator 3 view .LVU1398
 4223 00ea A7E7     		b	.L319
 4224              	.LVL513:
 4225              	.L327:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4226              		.loc 1 1531 105 discriminator 3 view .LVU1399
 4227 00ec 0420     		movs	r0, #4
 4228              	.LVL514:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4229              		.loc 1 1531 105 discriminator 3 view .LVU1400
 4230 00ee A5E7     		b	.L319
 4231              	.LVL515:
ARM GAS  /tmp/ccSjSmmD.s 			page 197


 4232              	.L328:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4233              		.loc 1 1544 27 discriminator 1 view .LVU1401
 4234 00f0 0220     		movs	r0, #2
 4235              	.LVL516:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4236              		.loc 1 1544 27 discriminator 1 view .LVU1402
 4237 00f2 A3E7     		b	.L319
 4238              	.LVL517:
 4239              	.L329:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4240              		.loc 1 1545 36 discriminator 1 view .LVU1403
 4241 00f4 0120     		movs	r0, #1
 4242              	.LVL518:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4243              		.loc 1 1545 36 discriminator 1 view .LVU1404
 4244 00f6 A1E7     		b	.L319
 4245              	.LVL519:
 4246              	.L330:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4247              		.loc 1 1552 28 discriminator 1 view .LVU1405
 4248 00f8 0720     		movs	r0, #7
 4249              	.LVL520:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4250              		.loc 1 1552 28 discriminator 1 view .LVU1406
 4251 00fa 9FE7     		b	.L319
 4252              	.LVL521:
 4253              	.L331:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4254              		.loc 1 1553 28 discriminator 1 view .LVU1407
 4255 00fc 0220     		movs	r0, #2
 4256              	.LVL522:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4257              		.loc 1 1553 28 discriminator 1 view .LVU1408
 4258 00fe 9DE7     		b	.L319
 4259              	.LVL523:
 4260              	.L332:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4261              		.loc 1 1554 37 discriminator 1 view .LVU1409
 4262 0100 0120     		movs	r0, #1
 4263              	.LVL524:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4264              		.loc 1 1554 37 discriminator 1 view .LVU1410
 4265 0102 9BE7     		b	.L319
 4266              	.LVL525:
 4267              	.L334:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4268              		.loc 1 1561 44 discriminator 1 view .LVU1411
 4269 0104 0120     		movs	r0, #1
 4270 0106 99E7     		b	.L319
 4271              		.cfi_endproc
 4272              	.LFE157:
 4274              		.section	.text.dir_alloc,"ax",%progbits
 4275              		.align	1
 4276              		.syntax unified
 4277              		.thumb
 4278              		.thumb_func
ARM GAS  /tmp/ccSjSmmD.s 			page 198


 4280              	dir_alloc:
 4281              	.LVL526:
 4282              	.LFB158:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4283              		.loc 1 1593 1 is_stmt 1 view -0
 4284              		.cfi_startproc
 4285              		@ args = 0, pretend = 0, frame = 0
 4286              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4287              		.loc 1 1593 1 is_stmt 0 view .LVU1413
 4288 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4289              		.cfi_def_cfa_offset 24
 4290              		.cfi_offset 3, -24
 4291              		.cfi_offset 4, -20
 4292              		.cfi_offset 5, -16
 4293              		.cfi_offset 6, -12
 4294              		.cfi_offset 7, -8
 4295              		.cfi_offset 14, -4
 4296 0002 0446     		mov	r4, r0
 4297 0004 0E46     		mov	r6, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4298              		.loc 1 1594 2 is_stmt 1 view .LVU1414
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4299              		.loc 1 1595 2 view .LVU1415
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4300              		.loc 1 1596 2 view .LVU1416
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4301              		.loc 1 1596 9 is_stmt 0 view .LVU1417
 4302 0006 0768     		ldr	r7, [r0]
 4303              	.LVL527:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4304              		.loc 1 1599 2 is_stmt 1 view .LVU1418
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4305              		.loc 1 1599 8 is_stmt 0 view .LVU1419
 4306 0008 0021     		movs	r1, #0
 4307              	.LVL528:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4308              		.loc 1 1599 8 view .LVU1420
 4309 000a FFF7FEFF 		bl	dir_sdi
 4310              	.LVL529:
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4311              		.loc 1 1600 2 is_stmt 1 view .LVU1421
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4312              		.loc 1 1600 5 is_stmt 0 view .LVU1422
 4313 000e 0246     		mov	r2, r0
 4314 0010 C0B9     		cbnz	r0, .L341
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4315              		.loc 1 1601 5 view .LVU1423
 4316 0012 0025     		movs	r5, #0
 4317 0014 08E0     		b	.L344
 4318              	.LVL530:
 4319              	.L342:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4320              		.loc 1 1610 5 is_stmt 1 view .LVU1424
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4321              		.loc 1 1610 8 is_stmt 0 view .LVU1425
 4322 0016 0135     		adds	r5, r5, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 199


 4323              	.LVL531:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4324              		.loc 1 1610 8 view .LVU1426
 4325 0018 B542     		cmp	r5, r6
 4326 001a 13D0     		beq	.L341
 4327              	.LVL532:
 4328              	.L343:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4329              		.loc 1 1614 4 is_stmt 1 view .LVU1427
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4330              		.loc 1 1614 10 is_stmt 0 view .LVU1428
 4331 001c 0121     		movs	r1, #1
 4332 001e 2046     		mov	r0, r4
 4333              	.LVL533:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4334              		.loc 1 1614 10 view .LVU1429
 4335 0020 FFF7FEFF 		bl	dir_next
 4336              	.LVL534:
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4337              		.loc 1 1615 16 is_stmt 1 view .LVU1430
 4338 0024 0246     		mov	r2, r0
 4339 0026 68B9     		cbnz	r0, .L341
 4340              	.LVL535:
 4341              	.L344:
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4342              		.loc 1 1602 3 view .LVU1431
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4343              		.loc 1 1603 4 view .LVU1432
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4344              		.loc 1 1603 10 is_stmt 0 view .LVU1433
 4345 0028 E169     		ldr	r1, [r4, #28]
 4346 002a 3846     		mov	r0, r7
 4347              	.LVL536:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4348              		.loc 1 1603 10 view .LVU1434
 4349 002c FFF7FEFF 		bl	move_window
 4350              	.LVL537:
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4351              		.loc 1 1604 4 is_stmt 1 view .LVU1435
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4352              		.loc 1 1604 7 is_stmt 0 view .LVU1436
 4353 0030 0246     		mov	r2, r0
 4354 0032 38B9     		cbnz	r0, .L341
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4355              		.loc 1 1608 4 is_stmt 1 view .LVU1437
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4356              		.loc 1 1608 10 is_stmt 0 view .LVU1438
 4357 0034 236A     		ldr	r3, [r4, #32]
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4358              		.loc 1 1608 15 view .LVU1439
 4359 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4360              		.loc 1 1608 7 view .LVU1440
 4361 0038 E52B     		cmp	r3, #229
 4362 003a ECD0     		beq	.L342
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4363              		.loc 1 1608 34 discriminator 1 view .LVU1441
ARM GAS  /tmp/ccSjSmmD.s 			page 200


 4364 003c 002B     		cmp	r3, #0
 4365 003e EAD0     		beq	.L342
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4366              		.loc 1 1612 7 view .LVU1442
 4367 0040 0025     		movs	r5, #0
 4368              	.LVL538:
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4369              		.loc 1 1612 7 view .LVU1443
 4370 0042 EBE7     		b	.L343
 4371              	.LVL539:
 4372              	.L341:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4373              		.loc 1 1618 2 is_stmt 1 view .LVU1444
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4374              		.loc 1 1618 5 is_stmt 0 view .LVU1445
 4375 0044 042A     		cmp	r2, #4
 4376 0046 01D0     		beq	.L349
 4377              	.LVL540:
 4378              	.L345:
1619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4379              		.loc 1 1619 2 is_stmt 1 view .LVU1446
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4380              		.loc 1 1620 1 is_stmt 0 view .LVU1447
 4381 0048 1046     		mov	r0, r2
 4382 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4383              	.LVL541:
 4384              	.L349:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4385              		.loc 1 1618 29 discriminator 1 view .LVU1448
 4386 004c 0722     		movs	r2, #7
 4387              	.LVL542:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4388              		.loc 1 1618 29 discriminator 1 view .LVU1449
 4389 004e FBE7     		b	.L345
 4390              		.cfi_endproc
 4391              	.LFE158:
 4393              		.section	.text.dir_read,"ax",%progbits
 4394              		.align	1
 4395              		.syntax unified
 4396              		.thumb
 4397              		.thumb_func
 4399              	dir_read:
 4400              	.LVL543:
 4401              	.LFB166:
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4402              		.loc 1 2135 1 is_stmt 1 view -0
 4403              		.cfi_startproc
 4404              		@ args = 0, pretend = 0, frame = 0
 4405              		@ frame_needed = 0, uses_anonymous_args = 0
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4406              		.loc 1 2135 1 is_stmt 0 view .LVU1451
 4407 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4408              		.cfi_def_cfa_offset 32
 4409              		.cfi_offset 3, -32
 4410              		.cfi_offset 4, -28
 4411              		.cfi_offset 5, -24
 4412              		.cfi_offset 6, -20
ARM GAS  /tmp/ccSjSmmD.s 			page 201


 4413              		.cfi_offset 7, -16
 4414              		.cfi_offset 8, -12
 4415              		.cfi_offset 9, -8
 4416              		.cfi_offset 14, -4
 4417 0004 0446     		mov	r4, r0
 4418 0006 8846     		mov	r8, r1
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4419              		.loc 1 2136 2 is_stmt 1 view .LVU1452
 4420              	.LVL544:
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4421              		.loc 1 2137 2 view .LVU1453
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4422              		.loc 1 2137 9 is_stmt 0 view .LVU1454
 4423 0008 0768     		ldr	r7, [r0]
 4424              	.LVL545:
2138:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 4425              		.loc 1 2138 2 is_stmt 1 view .LVU1455
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4426              		.loc 1 2140 2 view .LVU1456
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4427              		.loc 1 2143 2 view .LVU1457
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4428              		.loc 1 2140 19 is_stmt 0 view .LVU1458
 4429 000a 4FF0FF09 		mov	r9, #255
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4430              		.loc 1 2140 7 view .LVU1459
 4431 000e 4E46     		mov	r6, r9
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4432              		.loc 1 2136 10 view .LVU1460
 4433 0010 0425     		movs	r5, #4
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4434              		.loc 1 2143 8 view .LVU1461
 4435 0012 2EE0     		b	.L351
 4436              	.LVL546:
 4437              	.L369:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
 4438              		.loc 1 2172 5 is_stmt 1 view .LVU1462
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
 4439              		.loc 1 2172 8 is_stmt 0 view .LVU1463
 4440 0014 0F2B     		cmp	r3, #15
 4441 0016 19D1     		bne	.L354
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 4442              		.loc 1 2173 6 is_stmt 1 view .LVU1464
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 4443              		.loc 1 2173 9 is_stmt 0 view .LVU1465
 4444 0018 12F0400F 		tst	r2, #64
 4445 001c 06D0     		beq	.L355
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
 4446              		.loc 1 2174 7 is_stmt 1 view .LVU1466
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
 4447              		.loc 1 2174 11 is_stmt 0 view .LVU1467
 4448 001e 91F80D90 		ldrb	r9, [r1, #13]	@ zero_extendqisi2
 4449              	.LVL547:
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4450              		.loc 1 2175 7 is_stmt 1 view .LVU1468
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4451              		.loc 1 2175 9 is_stmt 0 view .LVU1469
ARM GAS  /tmp/ccSjSmmD.s 			page 202


 4452 0022 02F0BF02 		and	r2, r2, #191
 4453              	.LVL548:
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4454              		.loc 1 2175 25 is_stmt 1 view .LVU1470
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4455              		.loc 1 2176 7 view .LVU1471
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4456              		.loc 1 2176 23 is_stmt 0 view .LVU1472
 4457 0026 6369     		ldr	r3, [r4, #20]
 4458              	.LVL549:
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4459              		.loc 1 2176 19 view .LVU1473
 4460 0028 2363     		str	r3, [r4, #48]
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4461              		.loc 1 2175 29 view .LVU1474
 4462 002a 1646     		mov	r6, r2
 4463              	.LVL550:
 4464              	.L355:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4465              		.loc 1 2179 6 is_stmt 1 view .LVU1475
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4466              		.loc 1 2179 10 is_stmt 0 view .LVU1476
 4467 002c B242     		cmp	r2, r6
 4468 002e 01D0     		beq	.L367
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4469              		.loc 1 2179 10 discriminator 6 view .LVU1477
 4470 0030 FF26     		movs	r6, #255
 4471              	.LVL551:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4472              		.loc 1 2179 10 discriminator 6 view .LVU1478
 4473 0032 18E0     		b	.L353
 4474              	.LVL552:
 4475              	.L367:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4476              		.loc 1 2179 39 discriminator 1 view .LVU1479
 4477 0034 4B7B     		ldrb	r3, [r1, #13]	@ zero_extendqisi2
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4478              		.loc 1 2179 22 discriminator 1 view .LVU1480
 4479 0036 4B45     		cmp	r3, r9
 4480 0038 01D0     		beq	.L368
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4481              		.loc 1 2179 10 discriminator 6 view .LVU1481
 4482 003a FF26     		movs	r6, #255
 4483              	.LVL553:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4484              		.loc 1 2179 10 discriminator 6 view .LVU1482
 4485 003c 13E0     		b	.L353
 4486              	.LVL554:
 4487              	.L368:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4488              		.loc 1 2179 56 discriminator 3 view .LVU1483
 4489 003e F868     		ldr	r0, [r7, #12]
 4490 0040 FFF7FEFF 		bl	pick_lfn
 4491              	.LVL555:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4492              		.loc 1 2179 53 discriminator 1 view .LVU1484
 4493 0044 88B3     		cbz	r0, .L365
ARM GAS  /tmp/ccSjSmmD.s 			page 203


2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4494              		.loc 1 2179 10 discriminator 5 view .LVU1485
 4495 0046 013E     		subs	r6, r6, #1
 4496              	.LVL556:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4497              		.loc 1 2179 10 discriminator 5 view .LVU1486
 4498 0048 F6B2     		uxtb	r6, r6
 4499              	.LVL557:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4500              		.loc 1 2179 10 view .LVU1487
 4501 004a 0CE0     		b	.L353
 4502              	.LVL558:
 4503              	.L354:
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4504              		.loc 1 2181 6 is_stmt 1 view .LVU1488
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4505              		.loc 1 2181 9 is_stmt 0 view .LVU1489
 4506 004c 26B9     		cbnz	r6, .L356
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4507              		.loc 1 2181 24 discriminator 1 view .LVU1490
 4508 004e 0846     		mov	r0, r1
 4509 0050 FFF7FEFF 		bl	sum_sfn
 4510              	.LVL559:
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4511              		.loc 1 2181 14 discriminator 1 view .LVU1491
 4512 0054 4845     		cmp	r0, r9
 4513 0056 2BD0     		beq	.L352
 4514              	.L356:
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4515              		.loc 1 2182 7 is_stmt 1 view .LVU1492
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4516              		.loc 1 2182 19 is_stmt 0 view .LVU1493
 4517 0058 4FF0FF33 		mov	r3, #-1
 4518 005c 2363     		str	r3, [r4, #48]
 4519 005e 27E0     		b	.L352
 4520              	.LVL560:
 4521              	.L360:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4522              		.loc 1 2170 9 view .LVU1494
 4523 0060 FF26     		movs	r6, #255
 4524              	.LVL561:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4525              		.loc 1 2170 9 view .LVU1495
 4526 0062 00E0     		b	.L353
 4527              	.LVL562:
 4528              	.L361:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4529              		.loc 1 2170 9 view .LVU1496
 4530 0064 FF26     		movs	r6, #255
 4531              	.LVL563:
 4532              	.L353:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4533              		.loc 1 2193 3 is_stmt 1 view .LVU1497
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4534              		.loc 1 2193 9 is_stmt 0 view .LVU1498
 4535 0066 0021     		movs	r1, #0
 4536 0068 2046     		mov	r0, r4
ARM GAS  /tmp/ccSjSmmD.s 			page 204


 4537 006a FFF7FEFF 		bl	dir_next
 4538              	.LVL564:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4539              		.loc 1 2194 3 is_stmt 1 view .LVU1499
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4540              		.loc 1 2194 6 is_stmt 0 view .LVU1500
 4541 006e 0546     		mov	r5, r0
 4542 0070 F0B9     		cbnz	r0, .L352
 4543              	.LVL565:
 4544              	.L351:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4545              		.loc 1 2143 9 is_stmt 1 view .LVU1501
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4546              		.loc 1 2143 11 is_stmt 0 view .LVU1502
 4547 0072 E169     		ldr	r1, [r4, #28]
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4548              		.loc 1 2143 9 view .LVU1503
 4549 0074 E1B1     		cbz	r1, .L352
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4550              		.loc 1 2144 3 is_stmt 1 view .LVU1504
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4551              		.loc 1 2144 9 is_stmt 0 view .LVU1505
 4552 0076 3846     		mov	r0, r7
 4553 0078 FFF7FEFF 		bl	move_window
 4554              	.LVL566:
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4555              		.loc 1 2145 3 is_stmt 1 view .LVU1506
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4556              		.loc 1 2145 6 is_stmt 0 view .LVU1507
 4557 007c 0546     		mov	r5, r0
 4558 007e B8B9     		cbnz	r0, .L352
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4559              		.loc 1 2146 3 is_stmt 1 view .LVU1508
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4560              		.loc 1 2146 9 is_stmt 0 view .LVU1509
 4561 0080 216A     		ldr	r1, [r4, #32]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4562              		.loc 1 2146 5 view .LVU1510
 4563 0082 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 4564              	.LVL567:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4565              		.loc 1 2147 3 is_stmt 1 view .LVU1511
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4566              		.loc 1 2147 6 is_stmt 0 view .LVU1512
 4567 0084 9AB1     		cbz	r2, .L359
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4568              		.loc 1 2167 4 is_stmt 1 view .LVU1513
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4569              		.loc 1 2167 30 is_stmt 0 view .LVU1514
 4570 0086 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4571              		.loc 1 2167 21 view .LVU1515
 4572 0088 03F03F03 		and	r3, r3, #63
 4573              	.LVL568:
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4574              		.loc 1 2167 17 view .LVU1516
 4575 008c A371     		strb	r3, [r4, #6]
ARM GAS  /tmp/ccSjSmmD.s 			page 205


2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4576              		.loc 1 2169 4 is_stmt 1 view .LVU1517
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4577              		.loc 1 2169 7 is_stmt 0 view .LVU1518
 4578 008e E52A     		cmp	r2, #229
 4579 0090 E6D0     		beq	.L360
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4580              		.loc 1 2169 18 discriminator 1 view .LVU1519
 4581 0092 2E2A     		cmp	r2, #46
 4582 0094 E6D0     		beq	.L361
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4583              		.loc 1 2169 42 discriminator 2 view .LVU1520
 4584 0096 23F02000 		bic	r0, r3, #32
 4585              	.LVL569:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4586              		.loc 1 2169 33 discriminator 2 view .LVU1521
 4587 009a 0828     		cmp	r0, #8
 4588 009c 14BF     		ite	ne
 4589 009e 0020     		movne	r0, #0
 4590 00a0 0120     		moveq	r0, #1
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4591              		.loc 1 2169 30 discriminator 2 view .LVU1522
 4592 00a2 4045     		cmp	r0, r8
 4593 00a4 B6D0     		beq	.L369
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4594              		.loc 1 2170 9 view .LVU1523
 4595 00a6 FF26     		movs	r6, #255
 4596              	.LVL570:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4597              		.loc 1 2170 9 view .LVU1524
 4598 00a8 DDE7     		b	.L353
 4599              	.LVL571:
 4600              	.L365:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4601              		.loc 1 2179 10 discriminator 6 view .LVU1525
 4602 00aa FF26     		movs	r6, #255
 4603              	.LVL572:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4604              		.loc 1 2179 10 discriminator 6 view .LVU1526
 4605 00ac DBE7     		b	.L353
 4606              	.LVL573:
 4607              	.L359:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4608              		.loc 1 2148 8 view .LVU1527
 4609 00ae 0425     		movs	r5, #4
 4610              	.LVL574:
 4611              	.L352:
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4612              		.loc 1 2197 2 is_stmt 1 view .LVU1528
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4613              		.loc 1 2197 5 is_stmt 0 view .LVU1529
 4614 00b0 0DB1     		cbz	r5, .L358
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4615              		.loc 1 2197 20 is_stmt 1 discriminator 1 view .LVU1530
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4616              		.loc 1 2197 29 is_stmt 0 discriminator 1 view .LVU1531
 4617 00b2 0023     		movs	r3, #0
ARM GAS  /tmp/ccSjSmmD.s 			page 206


 4618 00b4 E361     		str	r3, [r4, #28]
 4619              	.L358:
2198:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4620              		.loc 1 2198 2 is_stmt 1 view .LVU1532
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4621              		.loc 1 2199 1 is_stmt 0 view .LVU1533
 4622 00b6 2846     		mov	r0, r5
 4623 00b8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4624              		.loc 1 2199 1 view .LVU1534
 4625              		.cfi_endproc
 4626              	.LFE166:
 4628              		.section	.text.dir_remove,"ax",%progbits
 4629              		.align	1
 4630              		.syntax unified
 4631              		.thumb
 4632              		.thumb_func
 4634              	dir_remove:
 4635              	.LVL575:
 4636              	.LFB169:
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4637              		.loc 1 2399 1 is_stmt 1 view -0
 4638              		.cfi_startproc
 4639              		@ args = 0, pretend = 0, frame = 0
 4640              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4641              		.loc 1 2399 1 is_stmt 0 view .LVU1536
 4642 0000 70B5     		push	{r4, r5, r6, lr}
 4643              		.cfi_def_cfa_offset 16
 4644              		.cfi_offset 4, -16
 4645              		.cfi_offset 5, -12
 4646              		.cfi_offset 6, -8
 4647              		.cfi_offset 14, -4
 4648 0002 0446     		mov	r4, r0
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4649              		.loc 1 2400 2 is_stmt 1 view .LVU1537
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4650              		.loc 1 2401 2 view .LVU1538
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4651              		.loc 1 2401 9 is_stmt 0 view .LVU1539
 4652 0004 0568     		ldr	r5, [r0]
 4653              	.LVL576:
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4654              		.loc 1 2403 2 is_stmt 1 view .LVU1540
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4655              		.loc 1 2403 8 is_stmt 0 view .LVU1541
 4656 0006 4669     		ldr	r6, [r0, #20]
 4657              	.LVL577:
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4658              		.loc 1 2405 2 is_stmt 1 view .LVU1542
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4659              		.loc 1 2405 11 is_stmt 0 view .LVU1543
 4660 0008 016B     		ldr	r1, [r0, #48]
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4661              		.loc 1 2405 44 view .LVU1544
 4662 000a B1F1FF3F 		cmp	r1, #-1
 4663 000e 1AD1     		bne	.L378
ARM GAS  /tmp/ccSjSmmD.s 			page 207


2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4664              		.loc 1 2405 44 discriminator 2 view .LVU1545
 4665 0010 0023     		movs	r3, #0
 4666              	.LVL578:
 4667              	.L371:
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4668              		.loc 1 2406 2 is_stmt 1 view .LVU1546
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4669              		.loc 1 2406 5 is_stmt 0 view .LVU1547
 4670 0012 B3B9     		cbnz	r3, .L372
 4671              	.LVL579:
 4672              	.L374:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4673              		.loc 1 2407 3 is_stmt 1 view .LVU1548
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4674              		.loc 1 2408 4 view .LVU1549
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4675              		.loc 1 2408 10 is_stmt 0 view .LVU1550
 4676 0014 E169     		ldr	r1, [r4, #28]
 4677 0016 2846     		mov	r0, r5
 4678 0018 FFF7FEFF 		bl	move_window
 4679              	.LVL580:
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
 4680              		.loc 1 2409 4 is_stmt 1 view .LVU1551
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
 4681              		.loc 1 2409 7 is_stmt 0 view .LVU1552
 4682 001c 0346     		mov	r3, r0
 4683 001e 70B9     		cbnz	r0, .L373
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
 4684              		.loc 1 2411 4 is_stmt 1 view .LVU1553
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4685              		.loc 1 2414 5 view .LVU1554
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4686              		.loc 1 2414 7 is_stmt 0 view .LVU1555
 4687 0020 226A     		ldr	r2, [r4, #32]
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4688              		.loc 1 2414 23 view .LVU1556
 4689 0022 E521     		movs	r1, #229
 4690 0024 1170     		strb	r1, [r2]
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
 4691              		.loc 1 2416 4 is_stmt 1 view .LVU1557
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
 4692              		.loc 1 2416 14 is_stmt 0 view .LVU1558
 4693 0026 0122     		movs	r2, #1
 4694 0028 EA70     		strb	r2, [r5, #3]
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4695              		.loc 1 2417 4 is_stmt 1 view .LVU1559
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4696              		.loc 1 2417 10 is_stmt 0 view .LVU1560
 4697 002a 6269     		ldr	r2, [r4, #20]
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4698              		.loc 1 2417 7 view .LVU1561
 4699 002c B242     		cmp	r2, r6
 4700 002e 06D2     		bcs	.L373
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4701              		.loc 1 2418 4 is_stmt 1 view .LVU1562
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
ARM GAS  /tmp/ccSjSmmD.s 			page 208


 4702              		.loc 1 2418 10 is_stmt 0 view .LVU1563
 4703 0030 0021     		movs	r1, #0
 4704 0032 2046     		mov	r0, r4
 4705              	.LVL581:
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4706              		.loc 1 2418 10 view .LVU1564
 4707 0034 FFF7FEFF 		bl	dir_next
 4708              	.LVL582:
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
 4709              		.loc 1 2419 16 is_stmt 1 view .LVU1565
 4710 0038 0346     		mov	r3, r0
 4711 003a 0028     		cmp	r0, #0
 4712 003c EAD0     		beq	.L374
 4713              	.L373:
 4714              	.LVL583:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4715              		.loc 1 2420 3 view .LVU1566
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4716              		.loc 1 2420 6 is_stmt 0 view .LVU1567
 4717 003e 042B     		cmp	r3, #4
 4718 0040 05D0     		beq	.L379
 4719              	.LVL584:
 4720              	.L372:
2431:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4721              		.loc 1 2431 2 is_stmt 1 view .LVU1568
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4722              		.loc 1 2432 1 is_stmt 0 view .LVU1569
 4723 0042 1846     		mov	r0, r3
 4724 0044 70BD     		pop	{r4, r5, r6, pc}
 4725              	.LVL585:
 4726              	.L378:
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4727              		.loc 1 2405 46 discriminator 1 view .LVU1570
 4728 0046 FFF7FEFF 		bl	dir_sdi
 4729              	.LVL586:
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4730              		.loc 1 2405 46 discriminator 1 view .LVU1571
 4731 004a 0346     		mov	r3, r0
 4732 004c E1E7     		b	.L371
 4733              	.LVL587:
 4734              	.L379:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4735              		.loc 1 2420 30 discriminator 1 view .LVU1572
 4736 004e 0223     		movs	r3, #2
 4737              	.LVL588:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4738              		.loc 1 2420 30 discriminator 1 view .LVU1573
 4739 0050 F7E7     		b	.L372
 4740              		.cfi_endproc
 4741              	.LFE169:
 4743              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 4744              		.align	2
 4745              	.LC0:
 4746 0000 222A3A3C 		.ascii	"\"*:<>?|\177\000"
 4746      3E3F7C7F 
 4746      00
 4747 0009 000000   		.align	2
ARM GAS  /tmp/ccSjSmmD.s 			page 209


 4748              	.LC1:
 4749 000c 2B2C3B3D 		.ascii	"+,;=[]\000"
 4749      5B5D00
 4750              		.section	.text.create_name,"ax",%progbits
 4751              		.align	1
 4752              		.syntax unified
 4753              		.thumb
 4754              		.thumb_func
 4756              	create_name:
 4757              	.LVL589:
 4758              	.LFB171:
2622:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4759              		.loc 1 2622 1 is_stmt 1 view -0
 4760              		.cfi_startproc
 4761              		@ args = 0, pretend = 0, frame = 8
 4762              		@ frame_needed = 0, uses_anonymous_args = 0
2622:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4763              		.loc 1 2622 1 is_stmt 0 view .LVU1575
 4764 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4765              		.cfi_def_cfa_offset 36
 4766              		.cfi_offset 4, -36
 4767              		.cfi_offset 5, -32
 4768              		.cfi_offset 6, -28
 4769              		.cfi_offset 7, -24
 4770              		.cfi_offset 8, -20
 4771              		.cfi_offset 9, -16
 4772              		.cfi_offset 10, -12
 4773              		.cfi_offset 11, -8
 4774              		.cfi_offset 14, -4
 4775 0004 83B0     		sub	sp, sp, #12
 4776              		.cfi_def_cfa_offset 48
 4777 0006 0746     		mov	r7, r0
 4778 0008 8A46     		mov	r10, r1
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
 4779              		.loc 1 2624 2 is_stmt 1 view .LVU1576
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
 4780              		.loc 1 2625 2 view .LVU1577
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
 4781              		.loc 1 2626 2 view .LVU1578
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4782              		.loc 1 2627 2 view .LVU1579
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 4783              		.loc 1 2630 2 view .LVU1580
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 4784              		.loc 1 2630 4 is_stmt 0 view .LVU1581
 4785 000a D1F80090 		ldr	r9, [r1]
 4786              	.LVL590:
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 4787              		.loc 1 2630 13 is_stmt 1 view .LVU1582
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 4788              		.loc 1 2630 26 is_stmt 0 view .LVU1583
 4789 000e 0368     		ldr	r3, [r0]
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 4790              		.loc 1 2630 17 view .LVU1584
 4791 0010 DD68     		ldr	r5, [r3, #12]
 4792              	.LVL591:
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
ARM GAS  /tmp/ccSjSmmD.s 			page 210


 4793              		.loc 1 2630 39 is_stmt 1 view .LVU1585
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 4794              		.loc 1 2630 47 is_stmt 0 view .LVU1586
 4795 0012 0024     		movs	r4, #0
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 4796              		.loc 1 2630 42 view .LVU1587
 4797 0014 2346     		mov	r3, r4
 4798 0016 12E0     		b	.L388
 4799              	.LVL592:
 4800              	.L385:
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4801              		.loc 1 2635 42 is_stmt 1 discriminator 4 view .LVU1588
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4802              		.loc 1 2635 44 is_stmt 0 discriminator 4 view .LVU1589
 4803 0018 0136     		adds	r6, r6, #1
 4804              	.LVL593:
 4805              	.L384:
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4806              		.loc 1 2635 24 is_stmt 1 discriminator 1 view .LVU1590
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4807              		.loc 1 2635 12 is_stmt 0 discriminator 1 view .LVU1591
 4808 001a 19F80630 		ldrb	r3, [r9, r6]	@ zero_extendqisi2
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4809              		.loc 1 2635 24 discriminator 1 view .LVU1592
 4810 001e 2F2B     		cmp	r3, #47
 4811 0020 FAD0     		beq	.L385
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4812              		.loc 1 2635 24 discriminator 3 view .LVU1593
 4813 0022 5C2B     		cmp	r3, #92
 4814 0024 F8D0     		beq	.L385
 4815              	.L381:
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 4816              		.loc 1 2652 2 is_stmt 1 view .LVU1594
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 4817              		.loc 1 2652 10 is_stmt 0 view .LVU1595
 4818 0026 4E44     		add	r6, r6, r9
 4819              	.LVL594:
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 4820              		.loc 1 2652 8 view .LVU1596
 4821 0028 CAF80060 		str	r6, [r10]
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 4822              		.loc 1 2653 2 is_stmt 1 view .LVU1597
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 4823              		.loc 1 2653 5 is_stmt 0 view .LVU1598
 4824 002c 1F28     		cmp	r0, #31
 4825 002e 23D8     		bhi	.L424
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 4826              		.loc 1 2653 5 discriminator 1 view .LVU1599
 4827 0030 4FF00408 		mov	r8, #4
 4828 0034 24E0     		b	.L390
 4829              	.LVL595:
 4830              	.L387:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4831              		.loc 1 2650 3 is_stmt 1 view .LVU1600
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4832              		.loc 1 2650 13 is_stmt 0 view .LVU1601
 4833 0036 25F81480 		strh	r8, [r5, r4, lsl #1]	@ movhi
ARM GAS  /tmp/ccSjSmmD.s 			page 211


2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
 4834              		.loc 1 2631 2 is_stmt 1 view .LVU1602
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4835              		.loc 1 2650 9 is_stmt 0 view .LVU1603
 4836 003a 0134     		adds	r4, r4, #1
 4837              	.LVL596:
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 4838              		.loc 1 2632 11 view .LVU1604
 4839 003c 3346     		mov	r3, r6
 4840              	.LVL597:
 4841              	.L388:
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
 4842              		.loc 1 2631 2 is_stmt 1 view .LVU1605
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 4843              		.loc 1 2632 3 view .LVU1606
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 4844              		.loc 1 2632 11 is_stmt 0 view .LVU1607
 4845 003e 5E1C     		adds	r6, r3, #1
 4846              	.LVL598:
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 4847              		.loc 1 2632 8 view .LVU1608
 4848 0040 19F80300 		ldrb	r0, [r9, r3]	@ zero_extendqisi2
 4849              	.LVL599:
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 4850              		.loc 1 2633 3 is_stmt 1 view .LVU1609
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 4851              		.loc 1 2633 6 is_stmt 0 view .LVU1610
 4852 0044 1F28     		cmp	r0, #31
 4853 0046 EED9     		bls	.L381
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 4854              		.loc 1 2634 3 is_stmt 1 view .LVU1611
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 4855              		.loc 1 2634 6 is_stmt 0 view .LVU1612
 4856 0048 2F28     		cmp	r0, #47
 4857 004a E6D0     		beq	.L384
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 4858              		.loc 1 2634 16 discriminator 1 view .LVU1613
 4859 004c 5C28     		cmp	r0, #92
 4860 004e E4D0     		beq	.L384
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 4861              		.loc 1 2638 3 is_stmt 1 view .LVU1614
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 4862              		.loc 1 2638 6 is_stmt 0 view .LVU1615
 4863 0050 FE2C     		cmp	r4, #254
 4864 0052 00F2DE80 		bhi	.L421
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
 4865              		.loc 1 2640 3 is_stmt 1 view .LVU1616
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
 4866              		.loc 1 2641 3 view .LVU1617
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
 4867              		.loc 1 2646 3 view .LVU1618
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
 4868              		.loc 1 2646 7 is_stmt 0 view .LVU1619
 4869 0056 0121     		movs	r1, #1
 4870 0058 FFF7FEFF 		bl	ff_convert
 4871              	.LVL600:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccSjSmmD.s 			page 212


 4872              		.loc 1 2647 3 is_stmt 1 view .LVU1620
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4873              		.loc 1 2647 6 is_stmt 0 view .LVU1621
 4874 005c 8046     		mov	r8, r0
 4875 005e 0028     		cmp	r0, #0
 4876 0060 00F0D980 		beq	.L422
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 4877              		.loc 1 2649 3 is_stmt 1 view .LVU1622
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 4878              		.loc 1 2649 6 is_stmt 0 view .LVU1623
 4879 0064 7F28     		cmp	r0, #127
 4880 0066 E6D8     		bhi	.L387
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 4881              		.loc 1 2649 19 discriminator 1 view .LVU1624
 4882 0068 0146     		mov	r1, r0
 4883 006a 6D48     		ldr	r0, .L437
 4884              	.LVL601:
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 4885              		.loc 1 2649 19 discriminator 1 view .LVU1625
 4886 006c FFF7FEFF 		bl	chk_chr
 4887              	.LVL602:
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 4888              		.loc 1 2649 16 discriminator 1 view .LVU1626
 4889 0070 0028     		cmp	r0, #0
 4890 0072 E0D0     		beq	.L387
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 4891              		.loc 1 2649 55 discriminator 2 view .LVU1627
 4892 0074 0620     		movs	r0, #6
 4893 0076 C6E0     		b	.L386
 4894              	.LVL603:
 4895              	.L424:
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 4896              		.loc 1 2653 5 discriminator 2 view .LVU1628
 4897 0078 4FF00008 		mov	r8, #0
 4898              	.LVL604:
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 4899              		.loc 1 2664 2 is_stmt 1 view .LVU1629
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 4900              		.loc 1 2664 8 is_stmt 0 view .LVU1630
 4901 007c 00E0     		b	.L390
 4902              	.LVL605:
 4903              	.L391:
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4904              		.loc 1 2667 3 is_stmt 1 view .LVU1631
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4905              		.loc 1 2667 5 is_stmt 0 view .LVU1632
 4906 007e 013C     		subs	r4, r4, #1
 4907              	.LVL606:
 4908              	.L390:
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 4909              		.loc 1 2664 9 is_stmt 1 view .LVU1633
 4910 0080 44B1     		cbz	r4, .L392
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 4911              		.loc 1 2665 3 view .LVU1634
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 4912              		.loc 1 2665 10 is_stmt 0 view .LVU1635
 4913 0082 04F10043 		add	r3, r4, #-2147483648
ARM GAS  /tmp/ccSjSmmD.s 			page 213


 4914 0086 013B     		subs	r3, r3, #1
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 4915              		.loc 1 2665 5 view .LVU1636
 4916 0088 35F81330 		ldrh	r3, [r5, r3, lsl #1]
 4917              	.LVL607:
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 4918              		.loc 1 2666 3 is_stmt 1 view .LVU1637
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 4919              		.loc 1 2666 6 is_stmt 0 view .LVU1638
 4920 008c 202B     		cmp	r3, #32
 4921 008e F6D0     		beq	.L391
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 4922              		.loc 1 2666 16 discriminator 1 view .LVU1639
 4923 0090 2E2B     		cmp	r3, #46
 4924 0092 F4D0     		beq	.L391
 4925              	.LVL608:
 4926              	.L392:
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
 4927              		.loc 1 2669 2 is_stmt 1 view .LVU1640
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
 4928              		.loc 1 2669 10 is_stmt 0 view .LVU1641
 4929 0094 0023     		movs	r3, #0
 4930 0096 25F81430 		strh	r3, [r5, r4, lsl #1]	@ movhi
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4931              		.loc 1 2670 2 is_stmt 1 view .LVU1642
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4932              		.loc 1 2670 5 is_stmt 0 view .LVU1643
 4933 009a 002C     		cmp	r4, #0
 4934 009c 00F0BD80 		beq	.L425
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
 4935              		.loc 1 2673 2 is_stmt 1 view .LVU1644
 4936 00a0 0B22     		movs	r2, #11
 4937 00a2 2021     		movs	r1, #32
 4938 00a4 07F12400 		add	r0, r7, #36
 4939 00a8 FFF7FEFF 		bl	mem_set
 4940              	.LVL609:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 4941              		.loc 1 2674 2 view .LVU1645
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 4942              		.loc 1 2674 10 is_stmt 0 view .LVU1646
 4943 00ac 0023     		movs	r3, #0
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 4944              		.loc 1 2674 2 view .LVU1647
 4945 00ae 00E0     		b	.L394
 4946              	.LVL610:
 4947              	.L395:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 4948              		.loc 1 2674 51 is_stmt 1 discriminator 5 view .LVU1648
 4949 00b0 0133     		adds	r3, r3, #1
 4950              	.LVL611:
 4951              	.L394:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 4952              		.loc 1 2674 30 discriminator 1 view .LVU1649
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 4953              		.loc 1 2674 18 is_stmt 0 discriminator 1 view .LVU1650
 4954 00b2 35F81320 		ldrh	r2, [r5, r3, lsl #1]
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
ARM GAS  /tmp/ccSjSmmD.s 			page 214


 4955              		.loc 1 2674 30 discriminator 1 view .LVU1651
 4956 00b6 202A     		cmp	r2, #32
 4957 00b8 FAD0     		beq	.L395
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 4958              		.loc 1 2674 30 discriminator 4 view .LVU1652
 4959 00ba 2E2A     		cmp	r2, #46
 4960 00bc F8D0     		beq	.L395
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 4961              		.loc 1 2675 2 is_stmt 1 view .LVU1653
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 4962              		.loc 1 2675 5 is_stmt 0 view .LVU1654
 4963 00be 1BB1     		cbz	r3, .L397
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 4964              		.loc 1 2675 10 is_stmt 1 discriminator 1 view .LVU1655
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 4965              		.loc 1 2675 13 is_stmt 0 discriminator 1 view .LVU1656
 4966 00c0 48F00308 		orr	r8, r8, #3
 4967              	.LVL612:
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 4968              		.loc 1 2675 13 discriminator 1 view .LVU1657
 4969 00c4 00E0     		b	.L397
 4970              	.L399:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4971              		.loc 1 2676 35 is_stmt 1 discriminator 3 view .LVU1658
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4972              		.loc 1 2676 37 is_stmt 0 discriminator 3 view .LVU1659
 4973 00c6 013C     		subs	r4, r4, #1
 4974              	.LVL613:
 4975              	.L397:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4976              		.loc 1 2676 12 is_stmt 1 discriminator 1 view .LVU1660
 4977 00c8 6CB1     		cbz	r4, .L426
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4978              		.loc 1 2676 18 is_stmt 0 discriminator 2 view .LVU1661
 4979 00ca 04F10042 		add	r2, r4, #-2147483648
 4980 00ce 013A     		subs	r2, r2, #1
 4981 00d0 35F81220 		ldrh	r2, [r5, r2, lsl #1]
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4982              		.loc 1 2676 12 discriminator 2 view .LVU1662
 4983 00d4 2E2A     		cmp	r2, #46
 4984 00d6 F6D1     		bne	.L399
 4985 00d8 4FF0080B 		mov	fp, #8
 4986 00dc 4FF0000A 		mov	r10, #0
 4987              	.LVL614:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4988              		.loc 1 2676 12 discriminator 2 view .LVU1663
 4989 00e0 CDF804A0 		str	r10, [sp, #4]
 4990 00e4 0AE0     		b	.L400
 4991              	.LVL615:
 4992              	.L426:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4993              		.loc 1 2676 12 discriminator 2 view .LVU1664
 4994 00e6 A246     		mov	r10, r4
 4995              	.LVL616:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4996              		.loc 1 2676 12 discriminator 2 view .LVU1665
 4997 00e8 4FF0080B 		mov	fp, #8
ARM GAS  /tmp/ccSjSmmD.s 			page 215


 4998 00ec 0022     		movs	r2, #0
 4999 00ee 0192     		str	r2, [sp, #4]
 5000 00f0 04E0     		b	.L400
 5001              	.LVL617:
 5002              	.L429:
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5003              		.loc 1 2682 29 discriminator 3 view .LVU1666
 5004 00f2 4C45     		cmp	r4, r9
 5005 00f4 0BD0     		beq	.L403
 5006              	.L402:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5007              		.loc 1 2683 4 is_stmt 1 view .LVU1667
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5008              		.loc 1 2683 7 is_stmt 0 view .LVU1668
 5009 00f6 48F00308 		orr	r8, r8, #3
 5010              	.LVL618:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5011              		.loc 1 2683 28 is_stmt 1 view .LVU1669
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5012              		.loc 1 2680 13 is_stmt 0 view .LVU1670
 5013 00fa 4B46     		mov	r3, r9
 5014              	.LVL619:
 5015              	.L400:
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
 5016              		.loc 1 2679 2 is_stmt 1 view .LVU1671
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5017              		.loc 1 2680 3 view .LVU1672
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5018              		.loc 1 2680 13 is_stmt 0 view .LVU1673
 5019 00fc 03F10109 		add	r9, r3, #1
 5020              	.LVL620:
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5021              		.loc 1 2680 5 view .LVU1674
 5022 0100 35F81360 		ldrh	r6, [r5, r3, lsl #1]
 5023              	.LVL621:
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5024              		.loc 1 2681 3 is_stmt 1 view .LVU1675
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5025              		.loc 1 2681 6 is_stmt 0 view .LVU1676
 5026 0104 FEB1     		cbz	r6, .L401
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5027              		.loc 1 2682 3 is_stmt 1 view .LVU1677
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5028              		.loc 1 2682 6 is_stmt 0 view .LVU1678
 5029 0106 202E     		cmp	r6, #32
 5030 0108 F5D0     		beq	.L402
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5031              		.loc 1 2682 16 discriminator 2 view .LVU1679
 5032 010a 2E2E     		cmp	r6, #46
 5033 010c F1D0     		beq	.L429
 5034              	.L403:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5035              		.loc 1 2686 3 is_stmt 1 view .LVU1680
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5036              		.loc 1 2686 6 is_stmt 0 view .LVU1681
 5037 010e DA45     		cmp	r10, fp
 5038 0110 10D2     		bcs	.L405
ARM GAS  /tmp/ccSjSmmD.s 			page 216


2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5039              		.loc 1 2686 15 discriminator 1 view .LVU1682
 5040 0112 4C45     		cmp	r4, r9
 5041 0114 0ED0     		beq	.L405
2696:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 5042              		.loc 1 2696 3 is_stmt 1 view .LVU1683
2696:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 5043              		.loc 1 2696 6 is_stmt 0 view .LVU1684
 5044 0116 7F2E     		cmp	r6, #127
 5045 0118 3CD8     		bhi	.L430
 5046              	.LVL622:
 5047              	.L409:
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
 5048              		.loc 1 2706 3 is_stmt 1 view .LVU1685
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5049              		.loc 1 2712 4 view .LVU1686
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5050              		.loc 1 2712 7 is_stmt 0 view .LVU1687
 5051 011a 002E     		cmp	r6, #0
 5052 011c 49D1     		bne	.L431
 5053              	.LVL623:
 5054              	.L411:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5055              		.loc 1 2713 5 is_stmt 1 view .LVU1688
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5056              		.loc 1 2713 14 view .LVU1689
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5057              		.loc 1 2713 17 is_stmt 0 view .LVU1690
 5058 011e 48F00308 		orr	r8, r8, #3
 5059              	.LVL624:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5060              		.loc 1 2713 7 view .LVU1691
 5061 0122 5F26     		movs	r6, #95
 5062              	.LVL625:
 5063              	.L413:
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5064              		.loc 1 2724 3 is_stmt 1 view .LVU1692
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5065              		.loc 1 2724 15 is_stmt 0 view .LVU1693
 5066 0124 07EB0A03 		add	r3, r7, r10
 5067 0128 83F82460 		strb	r6, [r3, #36]
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5068              		.loc 1 2680 13 view .LVU1694
 5069 012c 4B46     		mov	r3, r9
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5070              		.loc 1 2724 11 view .LVU1695
 5071 012e 0AF1010A 		add	r10, r10, #1
 5072              	.LVL626:
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5073              		.loc 1 2724 11 view .LVU1696
 5074 0132 E3E7     		b	.L400
 5075              	.L405:
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
 5076              		.loc 1 2687 4 is_stmt 1 view .LVU1697
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
 5077              		.loc 1 2687 7 is_stmt 0 view .LVU1698
 5078 0134 BBF10B0F 		cmp	fp, #11
ARM GAS  /tmp/ccSjSmmD.s 			page 217


 5079 0138 1FD0     		beq	.L432
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5080              		.loc 1 2690 4 is_stmt 1 view .LVU1699
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5081              		.loc 1 2690 7 is_stmt 0 view .LVU1700
 5082 013a 4C45     		cmp	r4, r9
 5083 013c 01D0     		beq	.L408
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5084              		.loc 1 2690 18 is_stmt 1 discriminator 1 view .LVU1701
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5085              		.loc 1 2690 21 is_stmt 0 discriminator 1 view .LVU1702
 5086 013e 48F00308 		orr	r8, r8, #3
 5087              	.LVL627:
 5088              	.L408:
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5089              		.loc 1 2691 4 is_stmt 1 view .LVU1703
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5090              		.loc 1 2691 7 is_stmt 0 view .LVU1704
 5091 0142 4C45     		cmp	r4, r9
 5092 0144 1CD2     		bcs	.L433
 5093              	.L401:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5094              		.loc 1 2727 2 is_stmt 1 view .LVU1705
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5095              		.loc 1 2727 12 is_stmt 0 view .LVU1706
 5096 0146 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5097              		.loc 1 2727 5 view .LVU1707
 5098 014a E52B     		cmp	r3, #229
 5099 014c 4DD0     		beq	.L434
 5100              	.L415:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5101              		.loc 1 2729 2 is_stmt 1 view .LVU1708
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5102              		.loc 1 2729 5 is_stmt 0 view .LVU1709
 5103 014e BBF1080F 		cmp	fp, #8
 5104 0152 4ED0     		beq	.L435
 5105              	.LVL628:
 5106              	.L416:
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5107              		.loc 1 2730 2 is_stmt 1 view .LVU1710
 5108 0154 019B     		ldr	r3, [sp, #4]
 5109 0156 03F00C02 		and	r2, r3, #12
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5110              		.loc 1 2730 5 is_stmt 0 view .LVU1711
 5111 015a 0C2A     		cmp	r2, #12
 5112 015c 4ED0     		beq	.L417
 5113 015e 03F00303 		and	r3, r3, #3
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5114              		.loc 1 2730 25 discriminator 2 view .LVU1712
 5115 0162 032B     		cmp	r3, #3
 5116 0164 4AD0     		beq	.L417
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5117              		.loc 1 2731 2 is_stmt 1 view .LVU1713
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5118              		.loc 1 2731 5 is_stmt 0 view .LVU1714
 5119 0166 18F0020F 		tst	r8, #2
ARM GAS  /tmp/ccSjSmmD.s 			page 218


 5120 016a 49D1     		bne	.L419
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5121              		.loc 1 2732 3 is_stmt 1 view .LVU1715
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5122              		.loc 1 2732 6 is_stmt 0 view .LVU1716
 5123 016c 012B     		cmp	r3, #1
 5124 016e 4DD0     		beq	.L436
 5125              	.LVL629:
 5126              	.L420:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5127              		.loc 1 2733 3 is_stmt 1 view .LVU1717
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5128              		.loc 1 2733 6 is_stmt 0 view .LVU1718
 5129 0170 042A     		cmp	r2, #4
 5130 0172 45D1     		bne	.L419
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5131              		.loc 1 2733 27 is_stmt 1 discriminator 1 view .LVU1719
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5132              		.loc 1 2733 30 is_stmt 0 discriminator 1 view .LVU1720
 5133 0174 48F00808 		orr	r8, r8, #8
 5134              	.LVL630:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5135              		.loc 1 2733 30 discriminator 1 view .LVU1721
 5136 0178 42E0     		b	.L419
 5137              	.LVL631:
 5138              	.L432:
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5139              		.loc 1 2688 5 is_stmt 1 view .LVU1722
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5140              		.loc 1 2688 8 is_stmt 0 view .LVU1723
 5141 017a 48F00308 		orr	r8, r8, #3
 5142              	.LVL632:
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5143              		.loc 1 2688 29 is_stmt 1 view .LVU1724
 5144 017e E2E7     		b	.L401
 5145              	.L433:
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5146              		.loc 1 2692 4 view .LVU1725
 5147              	.LVL633:
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5148              		.loc 1 2692 13 view .LVU1726
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5149              		.loc 1 2692 20 view .LVU1727
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5150              		.loc 1 2693 4 view .LVU1728
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5151              		.loc 1 2693 6 is_stmt 0 view .LVU1729
 5152 0180 019B     		ldr	r3, [sp, #4]
 5153 0182 9B00     		lsls	r3, r3, #2
 5154 0184 DBB2     		uxtb	r3, r3
 5155 0186 0193     		str	r3, [sp, #4]
 5156              	.LVL634:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5157              		.loc 1 2693 13 is_stmt 1 view .LVU1730
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5158              		.loc 1 2692 7 is_stmt 0 view .LVU1731
 5159 0188 2346     		mov	r3, r4
ARM GAS  /tmp/ccSjSmmD.s 			page 219


2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5160              		.loc 1 2692 23 view .LVU1732
 5161 018a 4FF00B0B 		mov	fp, #11
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5162              		.loc 1 2692 15 view .LVU1733
 5163 018e 4FF0080A 		mov	r10, #8
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5164              		.loc 1 2693 13 view .LVU1734
 5165 0192 B3E7     		b	.L400
 5166              	.LVL635:
 5167              	.L430:
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
 5168              		.loc 1 2698 4 is_stmt 1 view .LVU1735
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
 5169              		.loc 1 2698 8 is_stmt 0 view .LVU1736
 5170 0194 0021     		movs	r1, #0
 5171 0196 3046     		mov	r0, r6
 5172 0198 FFF7FEFF 		bl	ff_convert
 5173              	.LVL636:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5174              		.loc 1 2699 4 is_stmt 1 view .LVU1737
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5175              		.loc 1 2699 7 is_stmt 0 view .LVU1738
 5176 019c 10B9     		cbnz	r0, .L410
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5177              		.loc 1 2703 4 is_stmt 1 view .LVU1739
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5178              		.loc 1 2703 7 is_stmt 0 view .LVU1740
 5179 019e 48F00208 		orr	r8, r8, #2
 5180              	.LVL637:
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
 5181              		.loc 1 2706 3 is_stmt 1 view .LVU1741
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5182              		.loc 1 2712 4 view .LVU1742
 5183 01a2 BCE7     		b	.L411
 5184              	.L410:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5185              		.loc 1 2699 11 discriminator 1 view .LVU1743
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5186              		.loc 1 2699 23 is_stmt 0 discriminator 1 view .LVU1744
 5187 01a4 A0F18003 		sub	r3, r0, #128
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5188              		.loc 1 2699 20 discriminator 1 view .LVU1745
 5189 01a8 1E4A     		ldr	r2, .L437+4
 5190 01aa D65C     		ldrb	r6, [r2, r3]	@ zero_extendqisi2
 5191              	.LVL638:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5192              		.loc 1 2703 4 is_stmt 1 view .LVU1746
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5193              		.loc 1 2703 7 is_stmt 0 view .LVU1747
 5194 01ac 48F00208 		orr	r8, r8, #2
 5195              	.LVL639:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5196              		.loc 1 2703 7 view .LVU1748
 5197 01b0 B3E7     		b	.L409
 5198              	.LVL640:
 5199              	.L431:
ARM GAS  /tmp/ccSjSmmD.s 			page 220


2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5200              		.loc 1 2712 14 discriminator 1 view .LVU1749
 5201 01b2 3146     		mov	r1, r6
 5202 01b4 1C48     		ldr	r0, .L437+8
 5203 01b6 FFF7FEFF 		bl	chk_chr
 5204              	.LVL641:
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5205              		.loc 1 2712 11 discriminator 1 view .LVU1750
 5206 01ba 0028     		cmp	r0, #0
 5207 01bc AFD1     		bne	.L411
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5208              		.loc 1 2715 5 is_stmt 1 view .LVU1751
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5209              		.loc 1 2715 9 is_stmt 0 view .LVU1752
 5210 01be A6F14103 		sub	r3, r6, #65
 5211 01c2 9BB2     		uxth	r3, r3
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5212              		.loc 1 2715 8 view .LVU1753
 5213 01c4 192B     		cmp	r3, #25
 5214 01c6 04D8     		bhi	.L414
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5215              		.loc 1 2716 6 is_stmt 1 view .LVU1754
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5216              		.loc 1 2716 8 is_stmt 0 view .LVU1755
 5217 01c8 019B     		ldr	r3, [sp, #4]
 5218 01ca 43F00203 		orr	r3, r3, #2
 5219 01ce 0193     		str	r3, [sp, #4]
 5220              	.LVL642:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5221              		.loc 1 2716 8 view .LVU1756
 5222 01d0 A8E7     		b	.L413
 5223              	.L414:
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5224              		.loc 1 2718 6 is_stmt 1 view .LVU1757
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5225              		.loc 1 2718 10 is_stmt 0 view .LVU1758
 5226 01d2 A6F16103 		sub	r3, r6, #97
 5227 01d6 9BB2     		uxth	r3, r3
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5228              		.loc 1 2718 9 view .LVU1759
 5229 01d8 192B     		cmp	r3, #25
 5230 01da A3D8     		bhi	.L413
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5231              		.loc 1 2719 7 is_stmt 1 view .LVU1760
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5232              		.loc 1 2719 9 is_stmt 0 view .LVU1761
 5233 01dc 019B     		ldr	r3, [sp, #4]
 5234 01de 43F00103 		orr	r3, r3, #1
 5235 01e2 0193     		str	r3, [sp, #4]
 5236              	.LVL643:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5237              		.loc 1 2719 15 is_stmt 1 view .LVU1762
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5238              		.loc 1 2719 17 is_stmt 0 view .LVU1763
 5239 01e4 203E     		subs	r6, r6, #32
 5240              	.LVL644:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  /tmp/ccSjSmmD.s 			page 221


 5241              		.loc 1 2719 17 view .LVU1764
 5242 01e6 B6B2     		uxth	r6, r6
 5243 01e8 9CE7     		b	.L413
 5244              	.LVL645:
 5245              	.L434:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5246              		.loc 1 2727 25 is_stmt 1 discriminator 1 view .LVU1765
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5247              		.loc 1 2727 35 is_stmt 0 discriminator 1 view .LVU1766
 5248 01ea 0523     		movs	r3, #5
 5249 01ec 87F82430 		strb	r3, [r7, #36]
 5250 01f0 ADE7     		b	.L415
 5251              	.L435:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5252              		.loc 1 2729 15 is_stmt 1 discriminator 1 view .LVU1767
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5253              		.loc 1 2729 17 is_stmt 0 discriminator 1 view .LVU1768
 5254 01f2 019B     		ldr	r3, [sp, #4]
 5255 01f4 9B00     		lsls	r3, r3, #2
 5256 01f6 DBB2     		uxtb	r3, r3
 5257 01f8 0193     		str	r3, [sp, #4]
 5258              	.LVL646:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5259              		.loc 1 2729 17 discriminator 1 view .LVU1769
 5260 01fa ABE7     		b	.L416
 5261              	.LVL647:
 5262              	.L417:
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5263              		.loc 1 2730 48 is_stmt 1 discriminator 3 view .LVU1770
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5264              		.loc 1 2730 51 is_stmt 0 discriminator 3 view .LVU1771
 5265 01fc 48F00208 		orr	r8, r8, #2
 5266              	.LVL648:
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5267              		.loc 1 2731 2 is_stmt 1 view .LVU1772
 5268              	.L419:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5269              		.loc 1 2736 2 view .LVU1773
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5270              		.loc 1 2736 17 is_stmt 0 view .LVU1774
 5271 0200 87F82F80 		strb	r8, [r7, #47]
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5272              		.loc 1 2738 2 is_stmt 1 view .LVU1775
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5273              		.loc 1 2738 9 is_stmt 0 view .LVU1776
 5274 0204 0020     		movs	r0, #0
 5275              	.LVL649:
 5276              	.L386:
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5277              		.loc 1 2803 1 view .LVU1777
 5278 0206 03B0     		add	sp, sp, #12
 5279              		.cfi_remember_state
 5280              		.cfi_def_cfa_offset 36
 5281              		@ sp needed
 5282 0208 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5283              	.LVL650:
 5284              	.L436:
ARM GAS  /tmp/ccSjSmmD.s 			page 222


 5285              		.cfi_restore_state
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5286              		.loc 1 2732 27 is_stmt 1 discriminator 1 view .LVU1778
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5287              		.loc 1 2732 30 is_stmt 0 discriminator 1 view .LVU1779
 5288 020c 48F01008 		orr	r8, r8, #16
 5289              	.LVL651:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5290              		.loc 1 2732 30 discriminator 1 view .LVU1780
 5291 0210 AEE7     		b	.L420
 5292              	.LVL652:
 5293              	.L421:
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5294              		.loc 1 2638 30 discriminator 1 view .LVU1781
 5295 0212 0620     		movs	r0, #6
 5296              	.LVL653:
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5297              		.loc 1 2638 30 discriminator 1 view .LVU1782
 5298 0214 F7E7     		b	.L386
 5299              	.LVL654:
 5300              	.L422:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5301              		.loc 1 2647 18 discriminator 1 view .LVU1783
 5302 0216 0620     		movs	r0, #6
 5303              	.LVL655:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5304              		.loc 1 2647 18 discriminator 1 view .LVU1784
 5305 0218 F5E7     		b	.L386
 5306              	.LVL656:
 5307              	.L425:
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5308              		.loc 1 2670 22 discriminator 1 view .LVU1785
 5309 021a 0620     		movs	r0, #6
 5310 021c F3E7     		b	.L386
 5311              	.L438:
 5312 021e 00BF     		.align	2
 5313              	.L437:
 5314 0220 00000000 		.word	.LC0
 5315 0224 00000000 		.word	ExCvt
 5316 0228 0C000000 		.word	.LC1
 5317              		.cfi_endproc
 5318              	.LFE171:
 5320              		.section	.text.get_fileinfo,"ax",%progbits
 5321              		.align	1
 5322              		.syntax unified
 5323              		.thumb
 5324              		.thumb_func
 5326              	get_fileinfo:
 5327              	.LVL657:
 5328              	.LFB170:
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 5329              		.loc 1 2448 1 is_stmt 1 view -0
 5330              		.cfi_startproc
 5331              		@ args = 0, pretend = 0, frame = 0
 5332              		@ frame_needed = 0, uses_anonymous_args = 0
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 5333              		.loc 1 2448 1 is_stmt 0 view .LVU1787
ARM GAS  /tmp/ccSjSmmD.s 			page 223


 5334 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5335              		.cfi_def_cfa_offset 24
 5336              		.cfi_offset 4, -24
 5337              		.cfi_offset 5, -20
 5338              		.cfi_offset 6, -16
 5339              		.cfi_offset 7, -12
 5340              		.cfi_offset 8, -8
 5341              		.cfi_offset 14, -4
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
 5342              		.loc 1 2449 2 is_stmt 1 view .LVU1788
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 5343              		.loc 1 2450 2 view .LVU1789
2451:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5344              		.loc 1 2451 2 view .LVU1790
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5345              		.loc 1 2453 2 view .LVU1791
2454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5346              		.loc 1 2454 2 view .LVU1792
2454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5347              		.loc 1 2454 9 is_stmt 0 view .LVU1793
 5348 0004 D0F80080 		ldr	r8, [r0]
 5349              	.LVL658:
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 5350              		.loc 1 2458 2 is_stmt 1 view .LVU1794
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 5351              		.loc 1 2458 16 is_stmt 0 view .LVU1795
 5352 0008 0023     		movs	r3, #0
 5353 000a 8B75     		strb	r3, [r1, #22]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5354              		.loc 1 2459 2 is_stmt 1 view .LVU1796
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5355              		.loc 1 2459 9 is_stmt 0 view .LVU1797
 5356 000c C369     		ldr	r3, [r0, #28]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5357              		.loc 1 2459 5 view .LVU1798
 5358 000e 002B     		cmp	r3, #0
 5359 0010 6BD0     		beq	.L439
 5360 0012 0646     		mov	r6, r0
 5361 0014 0C46     		mov	r4, r1
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5362              		.loc 1 2469 3 is_stmt 1 view .LVU1799
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5363              		.loc 1 2469 9 is_stmt 0 view .LVU1800
 5364 0016 036B     		ldr	r3, [r0, #48]
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5365              		.loc 1 2469 6 view .LVU1801
 5366 0018 B3F1FF3F 		cmp	r3, #-1
 5367 001c 16D0     		beq	.L442
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
 5368              		.loc 1 2470 10 view .LVU1802
 5369 001e 0023     		movs	r3, #0
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
 5370              		.loc 1 2470 6 view .LVU1803
 5371 0020 1D46     		mov	r5, r3
 5372              	.LVL659:
 5373              	.L441:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
ARM GAS  /tmp/ccSjSmmD.s 			page 224


 5374              		.loc 1 2471 33 is_stmt 1 view .LVU1804
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5375              		.loc 1 2471 18 is_stmt 0 view .LVU1805
 5376 0022 D8F80C20 		ldr	r2, [r8, #12]
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5377              		.loc 1 2471 28 view .LVU1806
 5378 0026 5F1C     		adds	r7, r3, #1
 5379              	.LVL660:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5380              		.loc 1 2471 14 view .LVU1807
 5381 0028 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 5382              	.LVL661:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5383              		.loc 1 2471 33 view .LVU1808
 5384 002c 58B1     		cbz	r0, .L443
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
 5385              		.loc 1 2473 5 is_stmt 1 view .LVU1809
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
 5386              		.loc 1 2473 9 is_stmt 0 view .LVU1810
 5387 002e 0021     		movs	r1, #0
 5388 0030 FFF7FEFF 		bl	ff_convert
 5389              	.LVL662:
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5390              		.loc 1 2474 5 is_stmt 1 view .LVU1811
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5391              		.loc 1 2474 8 is_stmt 0 view .LVU1812
 5392 0034 30B1     		cbz	r0, .L456
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
 5393              		.loc 1 2475 5 is_stmt 1 view .LVU1813
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5394              		.loc 1 2479 5 view .LVU1814
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5395              		.loc 1 2479 8 is_stmt 0 view .LVU1815
 5396 0036 FE2D     		cmp	r5, #254
 5397 0038 0CD8     		bhi	.L457
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5398              		.loc 1 2480 5 is_stmt 1 view .LVU1816
 5399              	.LVL663:
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5400              		.loc 1 2480 21 is_stmt 0 view .LVU1817
 5401 003a 6219     		adds	r2, r4, r5
 5402 003c 9075     		strb	r0, [r2, #22]
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5403              		.loc 1 2471 28 view .LVU1818
 5404 003e 3B46     		mov	r3, r7
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5405              		.loc 1 2480 17 view .LVU1819
 5406 0040 0135     		adds	r5, r5, #1
 5407              	.LVL664:
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5408              		.loc 1 2480 17 view .LVU1820
 5409 0042 EEE7     		b	.L441
 5410              	.L456:
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5411              		.loc 1 2474 21 discriminator 1 view .LVU1821
 5412 0044 0025     		movs	r5, #0
 5413              	.LVL665:
ARM GAS  /tmp/ccSjSmmD.s 			page 225


 5414              	.L443:
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5415              		.loc 1 2482 4 is_stmt 1 view .LVU1822
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5416              		.loc 1 2482 18 is_stmt 0 view .LVU1823
 5417 0046 2544     		add	r5, r5, r4
 5418              	.LVL666:
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5419              		.loc 1 2482 18 view .LVU1824
 5420 0048 0023     		movs	r3, #0
 5421 004a AB75     		strb	r3, [r5, #22]
 5422              	.LVL667:
 5423              	.L442:
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5424              		.loc 1 2486 2 is_stmt 1 view .LVU1825
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 5425              		.loc 1 2487 2 view .LVU1826
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 5426              		.loc 1 2487 18 is_stmt 0 view .LVU1827
 5427 004c A57D     		ldrb	r5, [r4, #22]	@ zero_extendqisi2
 5428              	.LVL668:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5429              		.loc 1 2488 2 is_stmt 1 view .LVU1828
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5430              		.loc 1 2486 8 is_stmt 0 view .LVU1829
 5431 004e 0022     		movs	r2, #0
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5432              		.loc 1 2486 4 view .LVU1830
 5433 0050 1346     		mov	r3, r2
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5434              		.loc 1 2488 8 view .LVU1831
 5435 0052 12E0     		b	.L445
 5436              	.LVL669:
 5437              	.L457:
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5438              		.loc 1 2479 28 discriminator 1 view .LVU1832
 5439 0054 0025     		movs	r5, #0
 5440              	.LVL670:
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5441              		.loc 1 2479 28 discriminator 1 view .LVU1833
 5442 0056 F6E7     		b	.L443
 5443              	.LVL671:
 5444              	.L463:
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5445              		.loc 1 2491 21 discriminator 1 view .LVU1834
 5446 0058 E523     		movs	r3, #229
 5447              	.LVL672:
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5448              		.loc 1 2491 21 discriminator 1 view .LVU1835
 5449 005a 17E0     		b	.L447
 5450              	.LVL673:
 5451              	.L464:
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5452              		.loc 1 2493 4 is_stmt 1 view .LVU1836
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5453              		.loc 1 2493 7 is_stmt 0 view .LVU1837
 5454 005c 15B9     		cbnz	r5, .L449
ARM GAS  /tmp/ccSjSmmD.s 			page 226


2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5455              		.loc 1 2493 14 is_stmt 1 discriminator 1 view .LVU1838
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5456              		.loc 1 2493 28 is_stmt 0 discriminator 1 view .LVU1839
 5457 005e A018     		adds	r0, r4, r2
 5458 0060 2E27     		movs	r7, #46
 5459 0062 8775     		strb	r7, [r0, #22]
 5460              	.L449:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5461              		.loc 1 2494 4 is_stmt 1 view .LVU1840
 5462              	.LVL674:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5463              		.loc 1 2494 22 is_stmt 0 view .LVU1841
 5464 0064 A018     		adds	r0, r4, r2
 5465 0066 2E27     		movs	r7, #46
 5466 0068 4772     		strb	r7, [r0, #9]
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5467              		.loc 1 2494 18 view .LVU1842
 5468 006a 0132     		adds	r2, r2, #1
 5469              	.LVL675:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5470              		.loc 1 2494 18 view .LVU1843
 5471 006c 10E0     		b	.L448
 5472              	.L465:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5473              		.loc 1 2505 63 discriminator 2 view .LVU1844
 5474 006e 1020     		movs	r0, #16
 5475 0070 1CE0     		b	.L452
 5476              	.LVL676:
 5477              	.L451:
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5478              		.loc 1 2508 4 is_stmt 1 view .LVU1845
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5479              		.loc 1 2508 18 is_stmt 0 view .LVU1846
 5480 0072 A018     		adds	r0, r4, r2
 5481 0074 8375     		strb	r3, [r0, #22]
 5482              	.L450:
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5483              		.loc 1 2510 3 is_stmt 1 view .LVU1847
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5484              		.loc 1 2510 4 is_stmt 0 view .LVU1848
 5485 0076 0132     		adds	r2, r2, #1
 5486              	.LVL677:
 5487              	.L446:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5488              		.loc 1 2505 63 discriminator 3 view .LVU1849
 5489 0078 0B46     		mov	r3, r1
 5490              	.LVL678:
 5491              	.L445:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5492              		.loc 1 2488 11 is_stmt 1 view .LVU1850
 5493 007a 0A2B     		cmp	r3, #10
 5494 007c 1BD8     		bhi	.L462
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5495              		.loc 1 2489 3 view .LVU1851
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5496              		.loc 1 2489 16 is_stmt 0 view .LVU1852
ARM GAS  /tmp/ccSjSmmD.s 			page 227


 5497 007e 306A     		ldr	r0, [r6, #32]
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5498              		.loc 1 2489 23 view .LVU1853
 5499 0080 591C     		adds	r1, r3, #1
 5500              	.LVL679:
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5501              		.loc 1 2489 5 view .LVU1854
 5502 0082 C35C     		ldrb	r3, [r0, r3]	@ zero_extendqisi2
 5503              	.LVL680:
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 5504              		.loc 1 2490 3 is_stmt 1 view .LVU1855
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 5505              		.loc 1 2490 6 is_stmt 0 view .LVU1856
 5506 0084 202B     		cmp	r3, #32
 5507 0086 F7D0     		beq	.L446
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5508              		.loc 1 2491 3 is_stmt 1 view .LVU1857
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5509              		.loc 1 2491 6 is_stmt 0 view .LVU1858
 5510 0088 052B     		cmp	r3, #5
 5511 008a E5D0     		beq	.L463
 5512              	.LVL681:
 5513              	.L447:
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
 5514              		.loc 1 2492 3 is_stmt 1 view .LVU1859
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
 5515              		.loc 1 2492 6 is_stmt 0 view .LVU1860
 5516 008c 0929     		cmp	r1, #9
 5517 008e E5D0     		beq	.L464
 5518              	.L448:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
 5519              		.loc 1 2503 3 is_stmt 1 view .LVU1861
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
 5520              		.loc 1 2503 19 is_stmt 0 view .LVU1862
 5521 0090 A018     		adds	r0, r4, r2
 5522 0092 4372     		strb	r3, [r0, #9]
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
 5523              		.loc 1 2504 3 is_stmt 1 view .LVU1863
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
 5524              		.loc 1 2504 6 is_stmt 0 view .LVU1864
 5525 0094 002D     		cmp	r5, #0
 5526 0096 EED1     		bne	.L450
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5527              		.loc 1 2505 4 is_stmt 1 view .LVU1865
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5528              		.loc 1 2505 8 is_stmt 0 view .LVU1866
 5529 0098 A3F14100 		sub	r0, r3, #65
 5530 009c C0B2     		uxtb	r0, r0
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5531              		.loc 1 2505 7 view .LVU1867
 5532 009e 1928     		cmp	r0, #25
 5533 00a0 E7D8     		bhi	.L451
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5534              		.loc 1 2505 25 discriminator 1 view .LVU1868
 5535 00a2 306A     		ldr	r0, [r6, #32]
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5536              		.loc 1 2505 30 discriminator 1 view .LVU1869
ARM GAS  /tmp/ccSjSmmD.s 			page 228


 5537 00a4 077B     		ldrb	r7, [r0, #12]	@ zero_extendqisi2
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5538              		.loc 1 2505 63 discriminator 1 view .LVU1870
 5539 00a6 0829     		cmp	r1, #8
 5540 00a8 E1D8     		bhi	.L465
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5541              		.loc 1 2505 63 discriminator 3 view .LVU1871
 5542 00aa 0820     		movs	r0, #8
 5543              	.L452:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5544              		.loc 1 2505 19 discriminator 5 view .LVU1872
 5545 00ac 0742     		tst	r7, r0
 5546 00ae E0D0     		beq	.L451
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5547              		.loc 1 2506 5 is_stmt 1 view .LVU1873
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5548              		.loc 1 2506 7 is_stmt 0 view .LVU1874
 5549 00b0 2033     		adds	r3, r3, #32
 5550              	.LVL682:
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5551              		.loc 1 2506 7 view .LVU1875
 5552 00b2 DBB2     		uxtb	r3, r3
 5553 00b4 DDE7     		b	.L451
 5554              	.LVL683:
 5555              	.L462:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
 5556              		.loc 1 2512 2 is_stmt 1 view .LVU1876
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
 5557              		.loc 1 2512 5 is_stmt 0 view .LVU1877
 5558 00b6 35B9     		cbnz	r5, .L454
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5559              		.loc 1 2513 3 is_stmt 1 view .LVU1878
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5560              		.loc 1 2513 17 is_stmt 0 view .LVU1879
 5561 00b8 A318     		adds	r3, r4, r2
 5562              	.LVL684:
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5563              		.loc 1 2513 17 view .LVU1880
 5564 00ba 0021     		movs	r1, #0
 5565 00bc 9975     		strb	r1, [r3, #22]
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5566              		.loc 1 2514 3 is_stmt 1 view .LVU1881
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5567              		.loc 1 2514 10 is_stmt 0 view .LVU1882
 5568 00be 336A     		ldr	r3, [r6, #32]
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5569              		.loc 1 2514 15 view .LVU1883
 5570 00c0 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5571              		.loc 1 2514 6 view .LVU1884
 5572 00c2 03B9     		cbnz	r3, .L454
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5573              		.loc 1 2514 30 discriminator 1 view .LVU1885
 5574 00c4 0A46     		mov	r2, r1
 5575              	.LVL685:
 5576              	.L454:
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 229


 5577              		.loc 1 2516 2 is_stmt 1 view .LVU1886
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5578              		.loc 1 2516 18 is_stmt 0 view .LVU1887
 5579 00c6 2244     		add	r2, r2, r4
 5580              	.LVL686:
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5581              		.loc 1 2516 18 view .LVU1888
 5582 00c8 0023     		movs	r3, #0
 5583 00ca 5372     		strb	r3, [r2, #9]
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5584              		.loc 1 2530 2 is_stmt 1 view .LVU1889
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5585              		.loc 1 2530 19 is_stmt 0 view .LVU1890
 5586 00cc 336A     		ldr	r3, [r6, #32]
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5587              		.loc 1 2530 15 view .LVU1891
 5588 00ce DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 5589 00d0 2372     		strb	r3, [r4, #8]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5590              		.loc 1 2531 2 is_stmt 1 view .LVU1892
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5591              		.loc 1 2531 26 is_stmt 0 view .LVU1893
 5592 00d2 306A     		ldr	r0, [r6, #32]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5593              		.loc 1 2531 15 view .LVU1894
 5594 00d4 1C30     		adds	r0, r0, #28
 5595 00d6 FFF7FEFF 		bl	ld_dword
 5596              	.LVL687:
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5597              		.loc 1 2531 13 discriminator 1 view .LVU1895
 5598 00da 2060     		str	r0, [r4]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5599              		.loc 1 2532 2 is_stmt 1 view .LVU1896
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5600              		.loc 1 2532 18 is_stmt 0 view .LVU1897
 5601 00dc 306A     		ldr	r0, [r6, #32]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5602              		.loc 1 2532 7 view .LVU1898
 5603 00de 1630     		adds	r0, r0, #22
 5604 00e0 FFF7FEFF 		bl	ld_dword
 5605              	.LVL688:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5606              		.loc 1 2533 2 is_stmt 1 view .LVU1899
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5607              		.loc 1 2533 13 is_stmt 0 view .LVU1900
 5608 00e4 E080     		strh	r0, [r4, #6]	@ movhi
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5609              		.loc 1 2533 25 is_stmt 1 view .LVU1901
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5610              		.loc 1 2533 38 is_stmt 0 view .LVU1902
 5611 00e6 000C     		lsrs	r0, r0, #16
 5612              	.LVL689:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5613              		.loc 1 2533 36 view .LVU1903
 5614 00e8 A080     		strh	r0, [r4, #4]	@ movhi
 5615              	.LVL690:
 5616              	.L439:
ARM GAS  /tmp/ccSjSmmD.s 			page 230


2534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5617              		.loc 1 2534 1 view .LVU1904
 5618 00ea BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
2534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5619              		.loc 1 2534 1 view .LVU1905
 5620              		.cfi_endproc
 5621              	.LFE170:
 5623              		.section	.text.cmp_lfn,"ax",%progbits
 5624              		.align	1
 5625              		.syntax unified
 5626              		.thumb
 5627              		.thumb_func
 5629              	cmp_lfn:
 5630              	.LVL691:
 5631              	.LFB161:
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 5632              		.loc 1 1681 1 is_stmt 1 view -0
 5633              		.cfi_startproc
 5634              		@ args = 0, pretend = 0, frame = 0
 5635              		@ frame_needed = 0, uses_anonymous_args = 0
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 5636              		.loc 1 1681 1 is_stmt 0 view .LVU1907
 5637 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5638              		.cfi_def_cfa_offset 32
 5639              		.cfi_offset 4, -32
 5640              		.cfi_offset 5, -28
 5641              		.cfi_offset 6, -24
 5642              		.cfi_offset 7, -20
 5643              		.cfi_offset 8, -16
 5644              		.cfi_offset 9, -12
 5645              		.cfi_offset 10, -8
 5646              		.cfi_offset 14, -4
 5647 0004 8146     		mov	r9, r0
 5648 0006 0F46     		mov	r7, r1
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
 5649              		.loc 1 1682 2 is_stmt 1 view .LVU1908
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5650              		.loc 1 1683 2 view .LVU1909
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5651              		.loc 1 1686 2 view .LVU1910
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5652              		.loc 1 1686 6 is_stmt 0 view .LVU1911
 5653 0008 01F11A00 		add	r0, r1, #26
 5654              	.LVL692:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5655              		.loc 1 1686 6 view .LVU1912
 5656 000c FFF7FEFF 		bl	ld_word
 5657              	.LVL693:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5658              		.loc 1 1686 5 discriminator 1 view .LVU1913
 5659 0010 C8BB     		cbnz	r0, .L473
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5660              		.loc 1 1688 2 is_stmt 1 view .LVU1914
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5661              		.loc 1 1688 11 is_stmt 0 view .LVU1915
 5662 0012 3E78     		ldrb	r6, [r7]	@ zero_extendqisi2
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 231


 5663              		.loc 1 1688 22 view .LVU1916
 5664 0014 06F03F06 		and	r6, r6, #63
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5665              		.loc 1 1688 30 view .LVU1917
 5666 0018 013E     		subs	r6, r6, #1
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5667              		.loc 1 1688 35 view .LVU1918
 5668 001a 06EB4603 		add	r3, r6, r6, lsl #1
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5669              		.loc 1 1688 4 view .LVU1919
 5670 001e 06EB8306 		add	r6, r6, r3, lsl #2
 5671              	.LVL694:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 5672              		.loc 1 1690 2 is_stmt 1 view .LVU1920
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 5673              		.loc 1 1690 10 is_stmt 0 view .LVU1921
 5674 0022 4FF00108 		mov	r8, #1
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 5675              		.loc 1 1690 17 view .LVU1922
 5676 0026 0025     		movs	r5, #0
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 5677              		.loc 1 1690 2 view .LVU1923
 5678 0028 06E0     		b	.L468
 5679              	.LVL695:
 5680              	.L470:
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5681              		.loc 1 1694 5 is_stmt 1 view .LVU1924
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5682              		.loc 1 1694 12 is_stmt 0 view .LVU1925
 5683 002a 0020     		movs	r0, #0
 5684 002c 2CE0     		b	.L466
 5685              	.LVL696:
 5686              	.L469:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5687              		.loc 1 1698 4 is_stmt 1 view .LVU1926
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5688              		.loc 1 1698 7 is_stmt 0 view .LVU1927
 5689 002e 4FF6FF73 		movw	r3, #65535
 5690 0032 9842     		cmp	r0, r3
 5691 0034 2AD1     		bne	.L480
 5692              	.LVL697:
 5693              	.L471:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 5694              		.loc 1 1690 31 is_stmt 1 discriminator 2 view .LVU1928
 5695 0036 0135     		adds	r5, r5, #1
 5696              	.LVL698:
 5697              	.L468:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 5698              		.loc 1 1690 24 discriminator 1 view .LVU1929
 5699 0038 0C2D     		cmp	r5, #12
 5700 003a 18D8     		bhi	.L481
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 5701              		.loc 1 1691 3 view .LVU1930
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 5702              		.loc 1 1691 28 is_stmt 0 view .LVU1931
 5703 003c 174B     		ldr	r3, .L482
 5704 003e 585D     		ldrb	r0, [r3, r5]	@ zero_extendqisi2
ARM GAS  /tmp/ccSjSmmD.s 			page 232


1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 5705              		.loc 1 1691 8 view .LVU1932
 5706 0040 3844     		add	r0, r0, r7
 5707 0042 FFF7FEFF 		bl	ld_word
 5708              	.LVL699:
 5709 0046 0446     		mov	r4, r0
 5710              	.LVL700:
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
 5711              		.loc 1 1692 3 is_stmt 1 view .LVU1933
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
 5712              		.loc 1 1692 6 is_stmt 0 view .LVU1934
 5713 0048 B8F1000F 		cmp	r8, #0
 5714 004c EFD0     		beq	.L469
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5715              		.loc 1 1693 4 is_stmt 1 view .LVU1935
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5716              		.loc 1 1693 7 is_stmt 0 view .LVU1936
 5717 004e FE2E     		cmp	r6, #254
 5718 0050 EBD8     		bhi	.L470
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5719              		.loc 1 1693 25 discriminator 1 view .LVU1937
 5720 0052 FFF7FEFF 		bl	ff_wtoupper
 5721              	.LVL701:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5722              		.loc 1 1693 25 discriminator 1 view .LVU1938
 5723 0056 8046     		mov	r8, r0
 5724              	.LVL702:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5725              		.loc 1 1693 64 discriminator 1 view .LVU1939
 5726 0058 06F1010A 		add	r10, r6, #1
 5727              	.LVL703:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5728              		.loc 1 1693 44 discriminator 1 view .LVU1940
 5729 005c 39F81600 		ldrh	r0, [r9, r6, lsl #1]
 5730 0060 FFF7FEFF 		bl	ff_wtoupper
 5731              	.LVL704:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5732              		.loc 1 1693 22 discriminator 2 view .LVU1941
 5733 0064 8045     		cmp	r8, r0
 5734 0066 E0D1     		bne	.L470
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 5735              		.loc 1 1696 7 view .LVU1942
 5736 0068 A046     		mov	r8, r4
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 5737              		.loc 1 1693 64 discriminator 1 view .LVU1943
 5738 006a 5646     		mov	r6, r10
 5739 006c E3E7     		b	.L471
 5740              	.LVL705:
 5741              	.L481:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5742              		.loc 1 1702 2 is_stmt 1 view .LVU1944
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5743              		.loc 1 1702 10 is_stmt 0 view .LVU1945
 5744 006e 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5745              		.loc 1 1702 5 view .LVU1946
 5746 0070 13F0400F 		tst	r3, #64
ARM GAS  /tmp/ccSjSmmD.s 			page 233


 5747 0074 0CD0     		beq	.L476
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5748              		.loc 1 1702 29 discriminator 1 view .LVU1947
 5749 0076 B8F1000F 		cmp	r8, #0
 5750 007a 0BD0     		beq	.L477
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5751              		.loc 1 1702 44 discriminator 2 view .LVU1948
 5752 007c 39F81630 		ldrh	r3, [r9, r6, lsl #1]
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5753              		.loc 1 1702 35 discriminator 2 view .LVU1949
 5754 0080 53B9     		cbnz	r3, .L478
1704:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5755              		.loc 1 1704 9 view .LVU1950
 5756 0082 0120     		movs	r0, #1
 5757 0084 00E0     		b	.L466
 5758              	.LVL706:
 5759              	.L473:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5760              		.loc 1 1686 49 discriminator 1 view .LVU1951
 5761 0086 0020     		movs	r0, #0
 5762              	.L466:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5763              		.loc 1 1705 1 view .LVU1952
 5764 0088 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5765              	.LVL707:
 5766              	.L480:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5767              		.loc 1 1698 29 discriminator 1 view .LVU1953
 5768 008c 0020     		movs	r0, #0
 5769              	.LVL708:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5770              		.loc 1 1698 29 discriminator 1 view .LVU1954
 5771 008e FBE7     		b	.L466
 5772              	.LVL709:
 5773              	.L476:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5774              		.loc 1 1704 9 view .LVU1955
 5775 0090 0120     		movs	r0, #1
 5776 0092 F9E7     		b	.L466
 5777              	.L477:
 5778 0094 0120     		movs	r0, #1
 5779 0096 F7E7     		b	.L466
 5780              	.L478:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5781              		.loc 1 1702 56 discriminator 3 view .LVU1956
 5782 0098 0020     		movs	r0, #0
 5783 009a F5E7     		b	.L466
 5784              	.L483:
 5785              		.align	2
 5786              	.L482:
 5787 009c 00000000 		.word	LfnOfs
 5788              		.cfi_endproc
 5789              	.LFE161:
 5791              		.section	.text.dir_find,"ax",%progbits
 5792              		.align	1
 5793              		.syntax unified
 5794              		.thumb
ARM GAS  /tmp/ccSjSmmD.s 			page 234


 5795              		.thumb_func
 5797              	dir_find:
 5798              	.LVL710:
 5799              	.LFB167:
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5800              		.loc 1 2213 1 is_stmt 1 view -0
 5801              		.cfi_startproc
 5802              		@ args = 0, pretend = 0, frame = 0
 5803              		@ frame_needed = 0, uses_anonymous_args = 0
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5804              		.loc 1 2213 1 is_stmt 0 view .LVU1958
 5805 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 5806              		.cfi_def_cfa_offset 32
 5807              		.cfi_offset 3, -32
 5808              		.cfi_offset 4, -28
 5809              		.cfi_offset 5, -24
 5810              		.cfi_offset 6, -20
 5811              		.cfi_offset 7, -16
 5812              		.cfi_offset 8, -12
 5813              		.cfi_offset 9, -8
 5814              		.cfi_offset 14, -4
 5815 0004 0446     		mov	r4, r0
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5816              		.loc 1 2214 2 is_stmt 1 view .LVU1959
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 5817              		.loc 1 2215 2 view .LVU1960
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 5818              		.loc 1 2215 9 is_stmt 0 view .LVU1961
 5819 0006 D0F80080 		ldr	r8, [r0]
 5820              	.LVL711:
2216:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5821              		.loc 1 2216 2 is_stmt 1 view .LVU1962
2218:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5822              		.loc 1 2218 2 view .LVU1963
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 5823              		.loc 1 2221 2 view .LVU1964
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 5824              		.loc 1 2221 8 is_stmt 0 view .LVU1965
 5825 000a 0021     		movs	r1, #0
 5826 000c FFF7FEFF 		bl	dir_sdi
 5827              	.LVL712:
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5828              		.loc 1 2222 2 is_stmt 1 view .LVU1966
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5829              		.loc 1 2222 5 is_stmt 0 view .LVU1967
 5830 0010 0646     		mov	r6, r0
 5831 0012 0028     		cmp	r0, #0
 5832 0014 64D1     		bne	.L485
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5833              		.loc 1 2245 2 is_stmt 1 view .LVU1968
 5834              	.LVL713:
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5835              		.loc 1 2245 20 view .LVU1969
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5836              		.loc 1 2245 32 is_stmt 0 view .LVU1970
 5837 0016 4FF0FF33 		mov	r3, #-1
 5838 001a 2363     		str	r3, [r4, #48]
ARM GAS  /tmp/ccSjSmmD.s 			page 235


2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5839              		.loc 1 2245 12 view .LVU1971
 5840 001c 4FF0FF09 		mov	r9, #255
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5841              		.loc 1 2245 6 view .LVU1972
 5842 0020 4F46     		mov	r7, r9
 5843 0022 0AE0     		b	.L494
 5844              	.LVL714:
 5845              	.L486:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 5846              		.loc 1 2255 4 is_stmt 1 view .LVU1973
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 5847              		.loc 1 2255 16 view .LVU1974
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 5848              		.loc 1 2255 28 is_stmt 0 view .LVU1975
 5849 0024 4FF0FF33 		mov	r3, #-1
 5850              	.LVL715:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 5851              		.loc 1 2255 28 view .LVU1976
 5852 0028 2363     		str	r3, [r4, #48]
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 5853              		.loc 1 2255 8 view .LVU1977
 5854 002a FF27     		movs	r7, #255
 5855              	.LVL716:
 5856              	.L489:
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 5857              		.loc 1 2277 3 is_stmt 1 view .LVU1978
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 5858              		.loc 1 2277 9 is_stmt 0 view .LVU1979
 5859 002c 0021     		movs	r1, #0
 5860 002e 2046     		mov	r0, r4
 5861 0030 FFF7FEFF 		bl	dir_next
 5862              	.LVL717:
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5863              		.loc 1 2278 15 is_stmt 1 view .LVU1980
 5864 0034 0646     		mov	r6, r0
 5865 0036 0028     		cmp	r0, #0
 5866 0038 52D1     		bne	.L485
 5867              	.LVL718:
 5868              	.L494:
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 5869              		.loc 1 2247 2 view .LVU1981
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5870              		.loc 1 2248 3 view .LVU1982
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5871              		.loc 1 2248 9 is_stmt 0 view .LVU1983
 5872 003a E169     		ldr	r1, [r4, #28]
 5873 003c 4046     		mov	r0, r8
 5874              	.LVL719:
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5875              		.loc 1 2248 9 view .LVU1984
 5876 003e FFF7FEFF 		bl	move_window
 5877              	.LVL720:
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 5878              		.loc 1 2249 3 is_stmt 1 view .LVU1985
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 5879              		.loc 1 2249 6 is_stmt 0 view .LVU1986
ARM GAS  /tmp/ccSjSmmD.s 			page 236


 5880 0042 0646     		mov	r6, r0
 5881 0044 0028     		cmp	r0, #0
 5882 0046 4BD1     		bne	.L485
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 5883              		.loc 1 2250 3 is_stmt 1 view .LVU1987
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 5884              		.loc 1 2250 9 is_stmt 0 view .LVU1988
 5885 0048 256A     		ldr	r5, [r4, #32]
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 5886              		.loc 1 2250 5 view .LVU1989
 5887 004a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 5888              	.LVL721:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5889              		.loc 1 2251 3 is_stmt 1 view .LVU1990
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5890              		.loc 1 2251 6 is_stmt 0 view .LVU1991
 5891 004c 002B     		cmp	r3, #0
 5892 004e 46D0     		beq	.L495
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 5893              		.loc 1 2253 3 is_stmt 1 view .LVU1992
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 5894              		.loc 1 2253 29 is_stmt 0 view .LVU1993
 5895 0050 EA7A     		ldrb	r2, [r5, #11]	@ zero_extendqisi2
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 5896              		.loc 1 2253 20 view .LVU1994
 5897 0052 02F03F01 		and	r1, r2, #63
 5898              	.LVL722:
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 5899              		.loc 1 2253 16 view .LVU1995
 5900 0056 A171     		strb	r1, [r4, #6]
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5901              		.loc 1 2254 3 is_stmt 1 view .LVU1996
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5902              		.loc 1 2254 6 is_stmt 0 view .LVU1997
 5903 0058 E52B     		cmp	r3, #229
 5904 005a E3D0     		beq	.L486
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5905              		.loc 1 2254 17 discriminator 1 view .LVU1998
 5906 005c 12F0080F 		tst	r2, #8
 5907 0060 14D0     		beq	.L487
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5908              		.loc 1 2254 34 discriminator 2 view .LVU1999
 5909 0062 0F29     		cmp	r1, #15
 5910 0064 DED1     		bne	.L486
 5911              	.L488:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 5912              		.loc 1 2258 5 is_stmt 1 view .LVU2000
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 5913              		.loc 1 2258 17 is_stmt 0 view .LVU2001
 5914 0066 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 5915              		.loc 1 2258 8 view .LVU2002
 5916 006a 12F0400F 		tst	r2, #64
 5917 006e DDD1     		bne	.L489
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 5918              		.loc 1 2259 6 is_stmt 1 view .LVU2003
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
ARM GAS  /tmp/ccSjSmmD.s 			page 237


 5919              		.loc 1 2259 9 is_stmt 0 view .LVU2004
 5920 0070 13F0400F 		tst	r3, #64
 5921 0074 06D0     		beq	.L491
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
 5922              		.loc 1 2260 7 is_stmt 1 view .LVU2005
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
 5923              		.loc 1 2260 11 is_stmt 0 view .LVU2006
 5924 0076 95F80D90 		ldrb	r9, [r5, #13]	@ zero_extendqisi2
 5925              	.LVL723:
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 5926              		.loc 1 2261 7 is_stmt 1 view .LVU2007
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 5927              		.loc 1 2261 9 is_stmt 0 view .LVU2008
 5928 007a 03F0BF03 		and	r3, r3, #191
 5929              	.LVL724:
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 5930              		.loc 1 2261 25 is_stmt 1 view .LVU2009
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5931              		.loc 1 2262 7 view .LVU2010
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5932              		.loc 1 2262 23 is_stmt 0 view .LVU2011
 5933 007e 6269     		ldr	r2, [r4, #20]
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5934              		.loc 1 2262 19 view .LVU2012
 5935 0080 2263     		str	r2, [r4, #48]
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 5936              		.loc 1 2261 29 view .LVU2013
 5937 0082 1F46     		mov	r7, r3
 5938              	.LVL725:
 5939              	.L491:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5940              		.loc 1 2265 6 is_stmt 1 view .LVU2014
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5941              		.loc 1 2265 10 is_stmt 0 view .LVU2015
 5942 0084 BB42     		cmp	r3, r7
 5943 0086 1AD0     		beq	.L500
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5944              		.loc 1 2265 10 discriminator 6 view .LVU2016
 5945 0088 FF27     		movs	r7, #255
 5946              	.LVL726:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5947              		.loc 1 2265 10 discriminator 6 view .LVU2017
 5948 008a CFE7     		b	.L489
 5949              	.LVL727:
 5950              	.L487:
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
 5951              		.loc 1 2257 4 is_stmt 1 view .LVU2018
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
 5952              		.loc 1 2257 7 is_stmt 0 view .LVU2019
 5953 008c 0F29     		cmp	r1, #15
 5954 008e EAD0     		beq	.L488
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 5955              		.loc 1 2268 5 is_stmt 1 view .LVU2020
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 5956              		.loc 1 2268 8 is_stmt 0 view .LVU2021
 5957 0090 27B9     		cbnz	r7, .L492
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
ARM GAS  /tmp/ccSjSmmD.s 			page 238


 5958              		.loc 1 2268 24 discriminator 1 view .LVU2022
 5959 0092 2846     		mov	r0, r5
 5960              	.LVL728:
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 5961              		.loc 1 2268 24 discriminator 1 view .LVU2023
 5962 0094 FFF7FEFF 		bl	sum_sfn
 5963              	.LVL729:
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 5964              		.loc 1 2268 14 discriminator 1 view .LVU2024
 5965 0098 4845     		cmp	r0, r9
 5966 009a 21D0     		beq	.L485
 5967              	.L492:
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5968              		.loc 1 2269 5 is_stmt 1 view .LVU2025
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5969              		.loc 1 2269 17 is_stmt 0 view .LVU2026
 5970 009c 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5971              		.loc 1 2269 8 view .LVU2027
 5972 00a0 13F0010F 		tst	r3, #1
 5973 00a4 06D1     		bne	.L493
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5974              		.loc 1 2269 41 discriminator 1 view .LVU2028
 5975 00a6 0B22     		movs	r2, #11
 5976 00a8 04F12401 		add	r1, r4, #36
 5977 00ac 2846     		mov	r0, r5
 5978 00ae FFF7FEFF 		bl	mem_cmp
 5979              	.LVL730:
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 5980              		.loc 1 2269 37 discriminator 1 view .LVU2029
 5981 00b2 A8B1     		cbz	r0, .L485
 5982              	.L493:
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5983              		.loc 1 2270 5 is_stmt 1 view .LVU2030
 5984              	.LVL731:
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5985              		.loc 1 2270 17 view .LVU2031
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5986              		.loc 1 2270 29 is_stmt 0 view .LVU2032
 5987 00b4 4FF0FF33 		mov	r3, #-1
 5988 00b8 2363     		str	r3, [r4, #48]
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5989              		.loc 1 2270 9 view .LVU2033
 5990 00ba FF27     		movs	r7, #255
 5991 00bc B6E7     		b	.L489
 5992              	.LVL732:
 5993              	.L500:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5994              		.loc 1 2265 39 discriminator 1 view .LVU2034
 5995 00be 6B7B     		ldrb	r3, [r5, #13]	@ zero_extendqisi2
 5996              	.LVL733:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5997              		.loc 1 2265 22 discriminator 1 view .LVU2035
 5998 00c0 4B45     		cmp	r3, r9
 5999 00c2 01D0     		beq	.L501
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6000              		.loc 1 2265 10 discriminator 6 view .LVU2036
ARM GAS  /tmp/ccSjSmmD.s 			page 239


 6001 00c4 FF27     		movs	r7, #255
 6002              	.LVL734:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6003              		.loc 1 2265 10 discriminator 6 view .LVU2037
 6004 00c6 B1E7     		b	.L489
 6005              	.LVL735:
 6006              	.L501:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6007              		.loc 1 2265 56 discriminator 3 view .LVU2038
 6008 00c8 2946     		mov	r1, r5
 6009              	.LVL736:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6010              		.loc 1 2265 56 discriminator 3 view .LVU2039
 6011 00ca D8F80C00 		ldr	r0, [r8, #12]
 6012              	.LVL737:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6013              		.loc 1 2265 56 discriminator 3 view .LVU2040
 6014 00ce FFF7FEFF 		bl	cmp_lfn
 6015              	.LVL738:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6016              		.loc 1 2265 53 discriminator 1 view .LVU2041
 6017 00d2 10B1     		cbz	r0, .L498
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6018              		.loc 1 2265 10 discriminator 5 view .LVU2042
 6019 00d4 013F     		subs	r7, r7, #1
 6020              	.LVL739:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6021              		.loc 1 2265 10 discriminator 5 view .LVU2043
 6022 00d6 FFB2     		uxtb	r7, r7
 6023              	.LVL740:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6024              		.loc 1 2265 10 view .LVU2044
 6025 00d8 A8E7     		b	.L489
 6026              	.LVL741:
 6027              	.L498:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6028              		.loc 1 2265 10 discriminator 6 view .LVU2045
 6029 00da FF27     		movs	r7, #255
 6030              	.LVL742:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6031              		.loc 1 2265 10 discriminator 6 view .LVU2046
 6032 00dc A6E7     		b	.L489
 6033              	.LVL743:
 6034              	.L495:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6035              		.loc 1 2251 21 discriminator 1 view .LVU2047
 6036 00de 0426     		movs	r6, #4
 6037              	.LVL744:
 6038              	.L485:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6039              		.loc 1 2281 1 view .LVU2048
 6040 00e0 3046     		mov	r0, r6
 6041 00e2 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6042              		.loc 1 2281 1 view .LVU2049
 6043              		.cfi_endproc
 6044              	.LFE167:
ARM GAS  /tmp/ccSjSmmD.s 			page 240


 6046              		.section	.text.follow_path,"ax",%progbits
 6047              		.align	1
 6048              		.syntax unified
 6049              		.thumb
 6050              		.thumb_func
 6052              	follow_path:
 6053              	.LVL745:
 6054              	.LFB172:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6055              		.loc 1 2817 1 is_stmt 1 view -0
 6056              		.cfi_startproc
 6057              		@ args = 0, pretend = 0, frame = 8
 6058              		@ frame_needed = 0, uses_anonymous_args = 0
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6059              		.loc 1 2817 1 is_stmt 0 view .LVU2051
 6060 0000 30B5     		push	{r4, r5, lr}
 6061              		.cfi_def_cfa_offset 12
 6062              		.cfi_offset 4, -12
 6063              		.cfi_offset 5, -8
 6064              		.cfi_offset 14, -4
 6065 0002 83B0     		sub	sp, sp, #12
 6066              		.cfi_def_cfa_offset 24
 6067 0004 0446     		mov	r4, r0
 6068 0006 0191     		str	r1, [sp, #4]
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
 6069              		.loc 1 2818 2 is_stmt 1 view .LVU2052
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
 6070              		.loc 1 2819 2 view .LVU2053
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 6071              		.loc 1 2820 2 view .LVU2054
 6072              	.LVL746:
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6073              		.loc 1 2821 2 view .LVU2055
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6074              		.loc 1 2821 9 is_stmt 0 view .LVU2056
 6075 0008 0568     		ldr	r5, [r0]
 6076              	.LVL747:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6077              		.loc 1 2830 3 is_stmt 1 view .LVU2057
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6078              		.loc 1 2830 9 is_stmt 0 view .LVU2058
 6079 000a 01E0     		b	.L503
 6080              	.L504:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6081              		.loc 1 2830 41 is_stmt 1 discriminator 4 view .LVU2059
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6082              		.loc 1 2830 45 is_stmt 0 discriminator 4 view .LVU2060
 6083 000c 0133     		adds	r3, r3, #1
 6084 000e 0193     		str	r3, [sp, #4]
 6085              	.L503:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6086              		.loc 1 2830 23 is_stmt 1 discriminator 1 view .LVU2061
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6087              		.loc 1 2830 10 is_stmt 0 discriminator 1 view .LVU2062
 6088 0010 019B     		ldr	r3, [sp, #4]
 6089 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
ARM GAS  /tmp/ccSjSmmD.s 			page 241


 6090              		.loc 1 2830 23 discriminator 1 view .LVU2063
 6091 0014 2F2A     		cmp	r2, #47
 6092 0016 F9D0     		beq	.L504
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6093              		.loc 1 2830 23 discriminator 3 view .LVU2064
 6094 0018 5C2A     		cmp	r2, #92
 6095 001a F7D0     		beq	.L504
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6096              		.loc 1 2831 3 is_stmt 1 view .LVU2065
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6097              		.loc 1 2831 15 is_stmt 0 view .LVU2066
 6098 001c 0022     		movs	r2, #0
 6099 001e A260     		str	r2, [r4, #8]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6100              		.loc 1 2850 2 is_stmt 1 view .LVU2067
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6101              		.loc 1 2850 12 is_stmt 0 view .LVU2068
 6102 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6103              		.loc 1 2850 5 view .LVU2069
 6104 0022 1F2B     		cmp	r3, #31
 6105 0024 1ED9     		bls	.L511
 6106              	.LVL748:
 6107              	.L505:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 6108              		.loc 1 2855 3 is_stmt 1 view .LVU2070
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6109              		.loc 1 2856 4 view .LVU2071
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6110              		.loc 1 2856 10 is_stmt 0 view .LVU2072
 6111 0026 01A9     		add	r1, sp, #4
 6112 0028 2046     		mov	r0, r4
 6113 002a FFF7FEFF 		bl	create_name
 6114              	.LVL749:
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 6115              		.loc 1 2857 4 is_stmt 1 view .LVU2073
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 6116              		.loc 1 2857 7 is_stmt 0 view .LVU2074
 6117 002e 0346     		mov	r3, r0
 6118 0030 00BB     		cbnz	r0, .L506
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6119              		.loc 1 2858 4 is_stmt 1 view .LVU2075
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6120              		.loc 1 2858 10 is_stmt 0 view .LVU2076
 6121 0032 2046     		mov	r0, r4
 6122              	.LVL750:
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6123              		.loc 1 2858 10 view .LVU2077
 6124 0034 FFF7FEFF 		bl	dir_find
 6125              	.LVL751:
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 6126              		.loc 1 2859 4 is_stmt 1 view .LVU2078
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 6127              		.loc 1 2859 7 is_stmt 0 view .LVU2079
 6128 0038 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
 6129              	.LVL752:
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
ARM GAS  /tmp/ccSjSmmD.s 			page 242


 6130              		.loc 1 2860 4 is_stmt 1 view .LVU2080
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 6131              		.loc 1 2860 7 is_stmt 0 view .LVU2081
 6132 003c 0346     		mov	r3, r0
 6133 003e E0B9     		cbnz	r0, .L512
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 6134              		.loc 1 2872 4 is_stmt 1 view .LVU2082
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 6135              		.loc 1 2872 7 is_stmt 0 view .LVU2083
 6136 0040 12F0040F 		tst	r2, #4
 6137 0044 16D1     		bne	.L506
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6138              		.loc 1 2874 4 is_stmt 1 view .LVU2084
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6139              		.loc 1 2874 13 is_stmt 0 view .LVU2085
 6140 0046 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6141              		.loc 1 2874 7 view .LVU2086
 6142 0048 13F0100F 		tst	r3, #16
 6143 004c 1CD0     		beq	.L509
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6144              		.loc 1 2888 5 is_stmt 1 view .LVU2087
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6145              		.loc 1 2888 32 is_stmt 0 view .LVU2088
 6146 004e 05F13401 		add	r1, r5, #52
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6147              		.loc 1 2888 44 view .LVU2089
 6148 0052 6369     		ldr	r3, [r4, #20]
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6149              		.loc 1 2888 51 view .LVU2090
 6150 0054 C3F30803 		ubfx	r3, r3, #0, #9
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6151              		.loc 1 2888 19 view .LVU2091
 6152 0058 1944     		add	r1, r1, r3
 6153 005a 2846     		mov	r0, r5
 6154              	.LVL753:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6155              		.loc 1 2888 19 view .LVU2092
 6156 005c FFF7FEFF 		bl	ld_clust
 6157              	.LVL754:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6158              		.loc 1 2888 17 discriminator 1 view .LVU2093
 6159 0060 A060     		str	r0, [r4, #8]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 6160              		.loc 1 2855 3 is_stmt 1 view .LVU2094
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6161              		.loc 1 2856 8 is_stmt 0 view .LVU2095
 6162 0062 E0E7     		b	.L505
 6163              	.LVL755:
 6164              	.L511:
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 6165              		.loc 1 2851 3 is_stmt 1 view .LVU2096
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 6166              		.loc 1 2851 18 is_stmt 0 view .LVU2097
 6167 0064 8023     		movs	r3, #128
 6168 0066 84F82F30 		strb	r3, [r4, #47]
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 243


 6169              		.loc 1 2852 3 is_stmt 1 view .LVU2098
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6170              		.loc 1 2852 9 is_stmt 0 view .LVU2099
 6171 006a 1146     		mov	r1, r2
 6172              	.LVL756:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6173              		.loc 1 2852 9 view .LVU2100
 6174 006c 2046     		mov	r0, r4
 6175              	.LVL757:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6176              		.loc 1 2852 9 view .LVU2101
 6177 006e FFF7FEFF 		bl	dir_sdi
 6178              	.LVL758:
 6179 0072 0346     		mov	r3, r0
 6180              	.LVL759:
 6181              	.L506:
2893:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6182              		.loc 1 2893 2 is_stmt 1 view .LVU2102
2894:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6183              		.loc 1 2894 1 is_stmt 0 view .LVU2103
 6184 0074 1846     		mov	r0, r3
 6185 0076 03B0     		add	sp, sp, #12
 6186              		.cfi_remember_state
 6187              		.cfi_def_cfa_offset 12
 6188              		@ sp needed
 6189 0078 30BD     		pop	{r4, r5, pc}
 6190              	.LVL760:
 6191              	.L512:
 6192              		.cfi_restore_state
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 6193              		.loc 1 2861 5 is_stmt 1 view .LVU2104
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 6194              		.loc 1 2861 8 is_stmt 0 view .LVU2105
 6195 007a 0428     		cmp	r0, #4
 6196 007c FAD1     		bne	.L506
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
 6197              		.loc 1 2862 6 is_stmt 1 view .LVU2106
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6198              		.loc 1 2867 7 view .LVU2107
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6199              		.loc 1 2867 10 is_stmt 0 view .LVU2108
 6200 007e 12F0040F 		tst	r2, #4
 6201 0082 F7D1     		bne	.L506
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6202              		.loc 1 2867 32 discriminator 1 view .LVU2109
 6203 0084 0523     		movs	r3, #5
 6204 0086 F5E7     		b	.L506
 6205              	.L509:
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6206              		.loc 1 2875 9 view .LVU2110
 6207 0088 0523     		movs	r3, #5
 6208 008a F3E7     		b	.L506
 6209              		.cfi_endproc
 6210              	.LFE172:
 6212              		.section	.text.dir_register,"ax",%progbits
 6213              		.align	1
 6214              		.syntax unified
ARM GAS  /tmp/ccSjSmmD.s 			page 244


 6215              		.thumb
 6216              		.thumb_func
 6218              	dir_register:
 6219              	.LVL761:
 6220              	.LFB168:
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6221              		.loc 1 2295 1 is_stmt 1 view -0
 6222              		.cfi_startproc
 6223              		@ args = 0, pretend = 0, frame = 16
 6224              		@ frame_needed = 0, uses_anonymous_args = 0
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6225              		.loc 1 2295 1 is_stmt 0 view .LVU2112
 6226 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 6227              		.cfi_def_cfa_offset 28
 6228              		.cfi_offset 4, -28
 6229              		.cfi_offset 5, -24
 6230              		.cfi_offset 6, -20
 6231              		.cfi_offset 7, -16
 6232              		.cfi_offset 8, -12
 6233              		.cfi_offset 9, -8
 6234              		.cfi_offset 14, -4
 6235 0004 85B0     		sub	sp, sp, #20
 6236              		.cfi_def_cfa_offset 48
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 6237              		.loc 1 2296 2 is_stmt 1 view .LVU2113
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6238              		.loc 1 2297 2 view .LVU2114
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6239              		.loc 1 2297 9 is_stmt 0 view .LVU2115
 6240 0006 0668     		ldr	r6, [r0]
 6241              	.LVL762:
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
 6242              		.loc 1 2299 2 is_stmt 1 view .LVU2116
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6243              		.loc 1 2300 2 view .LVU2117
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6244              		.loc 1 2303 2 view .LVU2118
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6245              		.loc 1 2303 12 is_stmt 0 view .LVU2119
 6246 0008 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6247              		.loc 1 2303 5 view .LVU2120
 6248 000c 13F0A00F 		tst	r3, #160
 6249 0010 40F08A80 		bne	.L524
 6250 0014 0746     		mov	r7, r0
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6251              		.loc 1 2304 12 view .LVU2121
 6252 0016 0024     		movs	r4, #0
 6253 0018 00E0     		b	.L515
 6254              	.LVL763:
 6255              	.L516:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6256              		.loc 1 2304 39 is_stmt 1 discriminator 3 view .LVU2122
 6257 001a 0134     		adds	r4, r4, #1
 6258              	.LVL764:
 6259              	.L515:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 245


 6260              		.loc 1 2304 17 discriminator 1 view .LVU2123
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6261              		.loc 1 2304 19 is_stmt 0 discriminator 1 view .LVU2124
 6262 001c F368     		ldr	r3, [r6, #12]
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6263              		.loc 1 2304 27 discriminator 1 view .LVU2125
 6264 001e 33F81430 		ldrh	r3, [r3, r4, lsl #1]
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6265              		.loc 1 2304 17 discriminator 1 view .LVU2126
 6266 0022 002B     		cmp	r3, #0
 6267 0024 F9D1     		bne	.L516
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6268              		.loc 1 2335 2 is_stmt 1 view .LVU2127
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6269              		.loc 1 2335 16 is_stmt 0 view .LVU2128
 6270 0026 07F12408 		add	r8, r7, #36
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6271              		.loc 1 2335 2 view .LVU2129
 6272 002a 0C22     		movs	r2, #12
 6273 002c 4146     		mov	r1, r8
 6274 002e 01A8     		add	r0, sp, #4
 6275              	.LVL765:
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6276              		.loc 1 2335 2 view .LVU2130
 6277 0030 FFF7FEFF 		bl	mem_cpy
 6278              	.LVL766:
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6279              		.loc 1 2336 2 is_stmt 1 view .LVU2131
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6280              		.loc 1 2336 8 is_stmt 0 view .LVU2132
 6281 0034 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6282              		.loc 1 2336 5 view .LVU2133
 6283 0038 13F0010F 		tst	r3, #1
 6284 003c 1CD0     		beq	.L517
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
 6285              		.loc 1 2337 3 is_stmt 1 view .LVU2134
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
 6286              		.loc 1 2337 18 is_stmt 0 view .LVU2135
 6287 003e 4023     		movs	r3, #64
 6288 0040 87F82F30 		strb	r3, [r7, #47]
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6289              		.loc 1 2338 3 is_stmt 1 view .LVU2136
 6290              	.LVL767:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6291              		.loc 1 2338 10 is_stmt 0 view .LVU2137
 6292 0044 0125     		movs	r5, #1
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6293              		.loc 1 2338 3 view .LVU2138
 6294 0046 00E0     		b	.L518
 6295              	.LVL768:
 6296              	.L528:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6297              		.loc 1 2338 25 is_stmt 1 discriminator 2 view .LVU2139
 6298 0048 0135     		adds	r5, r5, #1
 6299              	.LVL769:
 6300              	.L518:
ARM GAS  /tmp/ccSjSmmD.s 			page 246


2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6301              		.loc 1 2338 17 discriminator 1 view .LVU2140
 6302 004a 632D     		cmp	r5, #99
 6303 004c 0BD8     		bhi	.L519
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
 6304              		.loc 1 2339 4 view .LVU2141
 6305 004e 2B46     		mov	r3, r5
 6306 0050 F268     		ldr	r2, [r6, #12]
 6307 0052 01A9     		add	r1, sp, #4
 6308 0054 4046     		mov	r0, r8
 6309 0056 FFF7FEFF 		bl	gen_numname
 6310              	.LVL770:
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6311              		.loc 1 2340 4 view .LVU2142
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6312              		.loc 1 2340 10 is_stmt 0 view .LVU2143
 6313 005a 3846     		mov	r0, r7
 6314 005c FFF7FEFF 		bl	dir_find
 6315              	.LVL771:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6316              		.loc 1 2341 4 is_stmt 1 view .LVU2144
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6317              		.loc 1 2341 7 is_stmt 0 view .LVU2145
 6318 0060 8146     		mov	r9, r0
 6319 0062 0028     		cmp	r0, #0
 6320 0064 F0D0     		beq	.L528
 6321              	.LVL772:
 6322              	.L519:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6323              		.loc 1 2343 3 is_stmt 1 view .LVU2146
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6324              		.loc 1 2343 6 is_stmt 0 view .LVU2147
 6325 0066 642D     		cmp	r5, #100
 6326 0068 64D0     		beq	.L525
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
 6327              		.loc 1 2344 3 is_stmt 1 view .LVU2148
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
 6328              		.loc 1 2344 6 is_stmt 0 view .LVU2149
 6329 006a B9F1040F 		cmp	r9, #4
 6330 006e 5DD1     		bne	.L514
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6331              		.loc 1 2345 3 is_stmt 1 view .LVU2150
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6332              		.loc 1 2345 22 is_stmt 0 view .LVU2151
 6333 0070 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6334              		.loc 1 2345 18 view .LVU2152
 6335 0074 87F82F30 		strb	r3, [r7, #47]
 6336              	.LVL773:
 6337              	.L517:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6338              		.loc 1 2349 2 is_stmt 1 view .LVU2153
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6339              		.loc 1 2349 12 is_stmt 0 view .LVU2154
 6340 0078 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6341              		.loc 1 2349 54 view .LVU2155
ARM GAS  /tmp/ccSjSmmD.s 			page 247


 6342 007c 13F0020F 		tst	r3, #2
 6343 0080 06D0     		beq	.L526
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6344              		.loc 1 2349 39 discriminator 1 view .LVU2156
 6345 0082 0C34     		adds	r4, r4, #12
 6346              	.LVL774:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6347              		.loc 1 2349 45 discriminator 1 view .LVU2157
 6348 0084 2D4B     		ldr	r3, .L530
 6349 0086 A3FB0434 		umull	r3, r4, r3, r4
 6350              	.LVL775:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6351              		.loc 1 2349 45 discriminator 1 view .LVU2158
 6352 008a A408     		lsrs	r4, r4, #2
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6353              		.loc 1 2349 54 discriminator 1 view .LVU2159
 6354 008c 0134     		adds	r4, r4, #1
 6355 008e 00E0     		b	.L521
 6356              	.LVL776:
 6357              	.L526:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6358              		.loc 1 2349 54 discriminator 2 view .LVU2160
 6359 0090 0124     		movs	r4, #1
 6360              	.LVL777:
 6361              	.L521:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
 6362              		.loc 1 2350 2 is_stmt 1 view .LVU2161
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
 6363              		.loc 1 2350 8 is_stmt 0 view .LVU2162
 6364 0092 2146     		mov	r1, r4
 6365 0094 3846     		mov	r0, r7
 6366 0096 FFF7FEFF 		bl	dir_alloc
 6367              	.LVL778:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6368              		.loc 1 2351 2 is_stmt 1 view .LVU2163
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6369              		.loc 1 2351 5 is_stmt 0 view .LVU2164
 6370 009a 8146     		mov	r9, r0
 6371 009c 0028     		cmp	r0, #0
 6372 009e 45D1     		bne	.L514
 6373              	.LVL779:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6374              		.loc 1 2351 19 discriminator 1 view .LVU2165
 6375 00a0 013C     		subs	r4, r4, #1
 6376              	.LVL780:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6377              		.loc 1 2351 19 discriminator 1 view .LVU2166
 6378 00a2 1CD1     		bne	.L529
 6379              	.L522:
 6380              	.LVL781:
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6381              		.loc 1 2371 2 is_stmt 1 view .LVU2167
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6382              		.loc 1 2371 5 is_stmt 0 view .LVU2168
 6383 00a4 B9F1000F 		cmp	r9, #0
 6384 00a8 40D1     		bne	.L514
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/ccSjSmmD.s 			page 248


 6385              		.loc 1 2372 3 is_stmt 1 view .LVU2169
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6386              		.loc 1 2372 9 is_stmt 0 view .LVU2170
 6387 00aa F969     		ldr	r1, [r7, #28]
 6388 00ac 3046     		mov	r0, r6
 6389 00ae FFF7FEFF 		bl	move_window
 6390              	.LVL782:
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 6391              		.loc 1 2373 3 is_stmt 1 view .LVU2171
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 6392              		.loc 1 2373 6 is_stmt 0 view .LVU2172
 6393 00b2 8146     		mov	r9, r0
 6394 00b4 0028     		cmp	r0, #0
 6395 00b6 39D1     		bne	.L514
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 6396              		.loc 1 2374 4 is_stmt 1 view .LVU2173
 6397 00b8 2022     		movs	r2, #32
 6398 00ba 0021     		movs	r1, #0
 6399 00bc 386A     		ldr	r0, [r7, #32]
 6400              	.LVL783:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 6401              		.loc 1 2374 4 is_stmt 0 view .LVU2174
 6402 00be FFF7FEFF 		bl	mem_set
 6403              	.LVL784:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 6404              		.loc 1 2375 4 is_stmt 1 view .LVU2175
 6405 00c2 0B22     		movs	r2, #11
 6406 00c4 4146     		mov	r1, r8
 6407 00c6 386A     		ldr	r0, [r7, #32]
 6408 00c8 FFF7FEFF 		bl	mem_cpy
 6409              	.LVL785:
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6410              		.loc 1 2377 4 view .LVU2176
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6411              		.loc 1 2377 31 is_stmt 0 view .LVU2177
 6412 00cc 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6413              		.loc 1 2377 6 view .LVU2178
 6414 00d0 3A6A     		ldr	r2, [r7, #32]
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6415              		.loc 1 2377 40 view .LVU2179
 6416 00d2 03F01803 		and	r3, r3, #24
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6417              		.loc 1 2377 23 view .LVU2180
 6418 00d6 1373     		strb	r3, [r2, #12]
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6419              		.loc 1 2379 4 is_stmt 1 view .LVU2181
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6420              		.loc 1 2379 14 is_stmt 0 view .LVU2182
 6421 00d8 0123     		movs	r3, #1
 6422 00da F370     		strb	r3, [r6, #3]
 6423 00dc 26E0     		b	.L514
 6424              	.LVL786:
 6425              	.L529:
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6426              		.loc 1 2352 3 is_stmt 1 view .LVU2183
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/ccSjSmmD.s 			page 249


 6427              		.loc 1 2352 23 is_stmt 0 view .LVU2184
 6428 00de 7969     		ldr	r1, [r7, #20]
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6429              		.loc 1 2352 9 view .LVU2185
 6430 00e0 A1EB4411 		sub	r1, r1, r4, lsl #5
 6431 00e4 3846     		mov	r0, r7
 6432              	.LVL787:
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6433              		.loc 1 2352 9 view .LVU2186
 6434 00e6 FFF7FEFF 		bl	dir_sdi
 6435              	.LVL788:
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
 6436              		.loc 1 2353 3 is_stmt 1 view .LVU2187
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
 6437              		.loc 1 2353 6 is_stmt 0 view .LVU2188
 6438 00ea 8146     		mov	r9, r0
 6439 00ec F0B9     		cbnz	r0, .L514
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6440              		.loc 1 2354 4 is_stmt 1 view .LVU2189
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6441              		.loc 1 2354 10 is_stmt 0 view .LVU2190
 6442 00ee 4046     		mov	r0, r8
 6443              	.LVL789:
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6444              		.loc 1 2354 10 view .LVU2191
 6445 00f0 FFF7FEFF 		bl	sum_sfn
 6446              	.LVL790:
 6447 00f4 0546     		mov	r5, r0
 6448              	.LVL791:
 6449              	.L523:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
 6450              		.loc 1 2355 4 is_stmt 1 view .LVU2192
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 6451              		.loc 1 2356 5 view .LVU2193
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 6452              		.loc 1 2356 11 is_stmt 0 view .LVU2194
 6453 00f6 F969     		ldr	r1, [r7, #28]
 6454 00f8 3046     		mov	r0, r6
 6455 00fa FFF7FEFF 		bl	move_window
 6456              	.LVL792:
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 6457              		.loc 1 2357 5 is_stmt 1 view .LVU2195
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 6458              		.loc 1 2357 8 is_stmt 0 view .LVU2196
 6459 00fe 8146     		mov	r9, r0
 6460 0100 0028     		cmp	r0, #0
 6461 0102 CFD1     		bne	.L522
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
 6462              		.loc 1 2358 5 is_stmt 1 view .LVU2197
 6463 0104 2B46     		mov	r3, r5
 6464 0106 E2B2     		uxtb	r2, r4
 6465 0108 396A     		ldr	r1, [r7, #32]
 6466 010a F068     		ldr	r0, [r6, #12]
 6467              	.LVL793:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
 6468              		.loc 1 2358 5 is_stmt 0 view .LVU2198
 6469 010c FFF7FEFF 		bl	put_lfn
ARM GAS  /tmp/ccSjSmmD.s 			page 250


 6470              	.LVL794:
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
 6471              		.loc 1 2359 5 is_stmt 1 view .LVU2199
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
 6472              		.loc 1 2359 15 is_stmt 0 view .LVU2200
 6473 0110 0123     		movs	r3, #1
 6474 0112 F370     		strb	r3, [r6, #3]
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
 6475              		.loc 1 2360 5 is_stmt 1 view .LVU2201
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
 6476              		.loc 1 2360 11 is_stmt 0 view .LVU2202
 6477 0114 0021     		movs	r1, #0
 6478 0116 3846     		mov	r0, r7
 6479 0118 FFF7FEFF 		bl	dir_next
 6480              	.LVL795:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6481              		.loc 1 2361 26 is_stmt 1 view .LVU2203
 6482 011c 8146     		mov	r9, r0
 6483 011e 0028     		cmp	r0, #0
 6484 0120 C0D1     		bne	.L522
 6485              	.LVL796:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6486              		.loc 1 2361 26 is_stmt 0 discriminator 1 view .LVU2204
 6487 0122 013C     		subs	r4, r4, #1
 6488              	.LVL797:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6489              		.loc 1 2361 26 discriminator 1 view .LVU2205
 6490 0124 E7D1     		bne	.L523
 6491 0126 BDE7     		b	.L522
 6492              	.LVL798:
 6493              	.L524:
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6494              		.loc 1 2303 52 discriminator 1 view .LVU2206
 6495 0128 4FF00609 		mov	r9, #6
 6496              	.LVL799:
 6497              	.L514:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6498              		.loc 1 2384 1 view .LVU2207
 6499 012c 4846     		mov	r0, r9
 6500 012e 05B0     		add	sp, sp, #20
 6501              		.cfi_remember_state
 6502              		.cfi_def_cfa_offset 28
 6503              		@ sp needed
 6504 0130 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6505              	.LVL800:
 6506              	.L525:
 6507              		.cfi_restore_state
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6508              		.loc 1 2343 24 discriminator 1 view .LVU2208
 6509 0134 4FF00709 		mov	r9, #7
 6510              	.LVL801:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6511              		.loc 1 2343 24 discriminator 1 view .LVU2209
 6512 0138 F8E7     		b	.L514
 6513              	.L531:
 6514 013a 00BF     		.align	2
 6515              	.L530:
ARM GAS  /tmp/ccSjSmmD.s 			page 251


 6516 013c 4FECC44E 		.word	1321528399
 6517              		.cfi_endproc
 6518              	.LFE168:
 6520              		.section	.text.sync_fs,"ax",%progbits
 6521              		.align	1
 6522              		.syntax unified
 6523              		.thumb
 6524              		.thumb_func
 6526              	sync_fs:
 6527              	.LVL802:
 6528              	.LFB149:
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6529              		.loc 1 947 1 is_stmt 1 view -0
 6530              		.cfi_startproc
 6531              		@ args = 0, pretend = 0, frame = 0
 6532              		@ frame_needed = 0, uses_anonymous_args = 0
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6533              		.loc 1 947 1 is_stmt 0 view .LVU2211
 6534 0000 70B5     		push	{r4, r5, r6, lr}
 6535              		.cfi_def_cfa_offset 16
 6536              		.cfi_offset 4, -16
 6537              		.cfi_offset 5, -12
 6538              		.cfi_offset 6, -8
 6539              		.cfi_offset 14, -4
 6540 0002 0446     		mov	r4, r0
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6541              		.loc 1 948 2 is_stmt 1 view .LVU2212
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6542              		.loc 1 951 2 view .LVU2213
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6543              		.loc 1 951 8 is_stmt 0 view .LVU2214
 6544 0004 FFF7FEFF 		bl	sync_window
 6545              	.LVL803:
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 6546              		.loc 1 952 2 is_stmt 1 view .LVU2215
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 6547              		.loc 1 952 5 is_stmt 0 view .LVU2216
 6548 0008 0546     		mov	r5, r0
 6549 000a 48B9     		cbnz	r0, .L533
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 6550              		.loc 1 954 3 is_stmt 1 view .LVU2217
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 6551              		.loc 1 954 9 is_stmt 0 view .LVU2218
 6552 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 6553              		.loc 1 954 6 view .LVU2219
 6554 000e 032B     		cmp	r3, #3
 6555 0010 08D0     		beq	.L537
 6556              	.LVL804:
 6557              	.L534:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6558              		.loc 1 968 3 is_stmt 1 view .LVU2220
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6559              		.loc 1 968 7 is_stmt 0 view .LVU2221
 6560 0012 0022     		movs	r2, #0
 6561 0014 1146     		mov	r1, r2
 6562 0016 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
ARM GAS  /tmp/ccSjSmmD.s 			page 252


 6563 0018 FFF7FEFF 		bl	disk_ioctl
 6564              	.LVL805:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6565              		.loc 1 968 6 discriminator 1 view .LVU2222
 6566 001c 00B1     		cbz	r0, .L533
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6567              		.loc 1 968 56 discriminator 1 view .LVU2223
 6568 001e 0125     		movs	r5, #1
 6569              	.LVL806:
 6570              	.L533:
 971:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6571              		.loc 1 971 2 is_stmt 1 view .LVU2224
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6572              		.loc 1 972 1 is_stmt 0 view .LVU2225
 6573 0020 2846     		mov	r0, r5
 6574 0022 70BD     		pop	{r4, r5, r6, pc}
 6575              	.LVL807:
 6576              	.L537:
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 6577              		.loc 1 954 36 discriminator 1 view .LVU2226
 6578 0024 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 6579              		.loc 1 954 31 discriminator 1 view .LVU2227
 6580 0026 012B     		cmp	r3, #1
 6581 0028 F3D1     		bne	.L534
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 6582              		.loc 1 956 4 is_stmt 1 view .LVU2228
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 6583              		.loc 1 956 14 is_stmt 0 view .LVU2229
 6584 002a 04F13406 		add	r6, r4, #52
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 6585              		.loc 1 956 4 view .LVU2230
 6586 002e 4FF40072 		mov	r2, #512
 6587 0032 0021     		movs	r1, #0
 6588 0034 3046     		mov	r0, r6
 6589              	.LVL808:
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 6590              		.loc 1 956 4 view .LVU2231
 6591 0036 FFF7FEFF 		bl	mem_set
 6592              	.LVL809:
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 6593              		.loc 1 957 4 is_stmt 1 view .LVU2232
 6594 003a 4AF65521 		movw	r1, #43605
 6595 003e 04F23220 		addw	r0, r4, #562
 6596 0042 FFF7FEFF 		bl	st_word
 6597              	.LVL810:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 6598              		.loc 1 958 4 view .LVU2233
 6599 0046 0F49     		ldr	r1, .L538
 6600 0048 3046     		mov	r0, r6
 6601 004a FFF7FEFF 		bl	st_dword
 6602              	.LVL811:
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 6603              		.loc 1 959 4 view .LVU2234
 6604 004e 0E49     		ldr	r1, .L538+4
 6605 0050 04F50670 		add	r0, r4, #536
 6606 0054 FFF7FEFF 		bl	st_dword
ARM GAS  /tmp/ccSjSmmD.s 			page 253


 6607              	.LVL812:
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 6608              		.loc 1 960 4 view .LVU2235
 6609 0058 6169     		ldr	r1, [r4, #20]
 6610 005a 04F50770 		add	r0, r4, #540
 6611 005e FFF7FEFF 		bl	st_dword
 6612              	.LVL813:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 6613              		.loc 1 961 4 view .LVU2236
 6614 0062 2169     		ldr	r1, [r4, #16]
 6615 0064 04F50870 		add	r0, r4, #544
 6616 0068 FFF7FEFF 		bl	st_dword
 6617              	.LVL814:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 6618              		.loc 1 963 4 view .LVU2237
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 6619              		.loc 1 963 20 is_stmt 0 view .LVU2238
 6620 006c 226A     		ldr	r2, [r4, #32]
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 6621              		.loc 1 963 30 view .LVU2239
 6622 006e 0132     		adds	r2, r2, #1
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 6623              		.loc 1 963 16 view .LVU2240
 6624 0070 2263     		str	r2, [r4, #48]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 6625              		.loc 1 964 4 is_stmt 1 view .LVU2241
 6626 0072 0123     		movs	r3, #1
 6627 0074 3146     		mov	r1, r6
 6628 0076 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 6629 0078 FFF7FEFF 		bl	disk_write
 6630              	.LVL815:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6631              		.loc 1 965 4 view .LVU2242
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6632              		.loc 1 965 17 is_stmt 0 view .LVU2243
 6633 007c 0023     		movs	r3, #0
 6634 007e 2371     		strb	r3, [r4, #4]
 6635 0080 C7E7     		b	.L534
 6636              	.L539:
 6637 0082 00BF     		.align	2
 6638              	.L538:
 6639 0084 52526141 		.word	1096897106
 6640 0088 72724161 		.word	1631679090
 6641              		.cfi_endproc
 6642              	.LFE149:
 6644              		.section	.text.f_mount,"ax",%progbits
 6645              		.align	1
 6646              		.global	f_mount
 6647              		.syntax unified
 6648              		.thumb
 6649              		.thumb_func
 6651              	f_mount:
 6652              	.LVL816:
 6653              	.LFB177:
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 6654              		.loc 1 3265 1 is_stmt 1 view -0
 6655              		.cfi_startproc
ARM GAS  /tmp/ccSjSmmD.s 			page 254


 6656              		@ args = 0, pretend = 0, frame = 16
 6657              		@ frame_needed = 0, uses_anonymous_args = 0
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 6658              		.loc 1 3265 1 is_stmt 0 view .LVU2245
 6659 0000 70B5     		push	{r4, r5, r6, lr}
 6660              		.cfi_def_cfa_offset 16
 6661              		.cfi_offset 4, -16
 6662              		.cfi_offset 5, -12
 6663              		.cfi_offset 6, -8
 6664              		.cfi_offset 14, -4
 6665 0002 84B0     		sub	sp, sp, #16
 6666              		.cfi_def_cfa_offset 32
 6667 0004 0190     		str	r0, [sp, #4]
 6668 0006 0091     		str	r1, [sp]
 6669 0008 1646     		mov	r6, r2
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 6670              		.loc 1 3266 2 is_stmt 1 view .LVU2246
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6671              		.loc 1 3267 2 view .LVU2247
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 6672              		.loc 1 3268 2 view .LVU2248
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6673              		.loc 1 3269 2 view .LVU2249
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6674              		.loc 1 3269 15 is_stmt 0 view .LVU2250
 6675 000a 0391     		str	r1, [sp, #12]
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6676              		.loc 1 3273 2 is_stmt 1 view .LVU2251
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6677              		.loc 1 3273 8 is_stmt 0 view .LVU2252
 6678 000c 03A8     		add	r0, sp, #12
 6679              	.LVL817:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6680              		.loc 1 3273 8 view .LVU2253
 6681 000e FFF7FEFF 		bl	get_ldnumber
 6682              	.LVL818:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6683              		.loc 1 3274 2 is_stmt 1 view .LVU2254
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6684              		.loc 1 3274 5 is_stmt 0 view .LVU2255
 6685 0012 041E     		subs	r4, r0, #0
 6686 0014 1CDB     		blt	.L544
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6687              		.loc 1 3275 2 is_stmt 1 view .LVU2256
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6688              		.loc 1 3275 6 is_stmt 0 view .LVU2257
 6689 0016 104B     		ldr	r3, .L549
 6690 0018 53F82450 		ldr	r5, [r3, r4, lsl #2]
 6691              	.LVL819:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6692              		.loc 1 3277 2 is_stmt 1 view .LVU2258
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6693              		.loc 1 3277 5 is_stmt 0 view .LVU2259
 6694 001c 25B1     		cbz	r5, .L542
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6695              		.loc 1 3279 3 is_stmt 1 view .LVU2260
 6696 001e 2846     		mov	r0, r5
ARM GAS  /tmp/ccSjSmmD.s 			page 255


 6697              	.LVL820:
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6698              		.loc 1 3279 3 is_stmt 0 view .LVU2261
 6699 0020 FFF7FEFF 		bl	clear_lock
 6700              	.LVL821:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6701              		.loc 1 3284 3 is_stmt 1 view .LVU2262
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6702              		.loc 1 3284 16 is_stmt 0 view .LVU2263
 6703 0024 0023     		movs	r3, #0
 6704 0026 2B70     		strb	r3, [r5]
 6705              	.L542:
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6706              		.loc 1 3287 2 is_stmt 1 view .LVU2264
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6707              		.loc 1 3287 6 is_stmt 0 view .LVU2265
 6708 0028 019B     		ldr	r3, [sp, #4]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6709              		.loc 1 3287 5 view .LVU2266
 6710 002a 0BB1     		cbz	r3, .L543
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 6711              		.loc 1 3288 3 is_stmt 1 view .LVU2267
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 6712              		.loc 1 3288 15 is_stmt 0 view .LVU2268
 6713 002c 0022     		movs	r2, #0
 6714 002e 1A70     		strb	r2, [r3]
 6715              	.L543:
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6716              		.loc 1 3293 2 is_stmt 1 view .LVU2269
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6717              		.loc 1 3293 13 is_stmt 0 view .LVU2270
 6718 0030 019B     		ldr	r3, [sp, #4]
 6719 0032 094A     		ldr	r2, .L549
 6720 0034 42F82430 		str	r3, [r2, r4, lsl #2]
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6721              		.loc 1 3295 2 is_stmt 1 view .LVU2271
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6722              		.loc 1 3295 5 is_stmt 0 view .LVU2272
 6723 0038 63B1     		cbz	r3, .L545
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6724              		.loc 1 3295 10 discriminator 2 view .LVU2273
 6725 003a 012E     		cmp	r6, #1
 6726 003c 02D0     		beq	.L548
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6727              		.loc 1 3295 30 discriminator 3 view .LVU2274
 6728 003e 0020     		movs	r0, #0
 6729              	.LVL822:
 6730              	.L541:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6731              		.loc 1 3299 1 view .LVU2275
 6732 0040 04B0     		add	sp, sp, #16
 6733              		.cfi_remember_state
 6734              		.cfi_def_cfa_offset 16
 6735              		@ sp needed
 6736 0042 70BD     		pop	{r4, r5, r6, pc}
 6737              	.LVL823:
 6738              	.L548:
ARM GAS  /tmp/ccSjSmmD.s 			page 256


 6739              		.cfi_restore_state
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 6740              		.loc 1 3297 2 is_stmt 1 view .LVU2276
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 6741              		.loc 1 3297 8 is_stmt 0 view .LVU2277
 6742 0044 0022     		movs	r2, #0
 6743 0046 01A9     		add	r1, sp, #4
 6744 0048 6846     		mov	r0, sp
 6745 004a FFF7FEFF 		bl	find_volume
 6746              	.LVL824:
3298:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6747              		.loc 1 3298 2 is_stmt 1 view .LVU2278
 6748 004e F7E7     		b	.L541
 6749              	.LVL825:
 6750              	.L544:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6751              		.loc 1 3274 22 is_stmt 0 discriminator 1 view .LVU2279
 6752 0050 0B20     		movs	r0, #11
 6753              	.LVL826:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6754              		.loc 1 3274 22 discriminator 1 view .LVU2280
 6755 0052 F5E7     		b	.L541
 6756              	.LVL827:
 6757              	.L545:
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6758              		.loc 1 3295 30 discriminator 3 view .LVU2281
 6759 0054 0020     		movs	r0, #0
 6760 0056 F3E7     		b	.L541
 6761              	.L550:
 6762              		.align	2
 6763              	.L549:
 6764 0058 00000000 		.word	FatFs
 6765              		.cfi_endproc
 6766              	.LFE177:
 6768              		.section	.text.f_open,"ax",%progbits
 6769              		.align	1
 6770              		.global	f_open
 6771              		.syntax unified
 6772              		.thumb
 6773              		.thumb_func
 6775              	f_open:
 6776              	.LVL828:
 6777              	.LFB178:
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6778              		.loc 1 3313 1 is_stmt 1 view -0
 6779              		.cfi_startproc
 6780              		@ args = 0, pretend = 0, frame = 64
 6781              		@ frame_needed = 0, uses_anonymous_args = 0
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6782              		.loc 1 3313 1 is_stmt 0 view .LVU2283
 6783 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 6784              		.cfi_def_cfa_offset 28
 6785              		.cfi_offset 4, -28
 6786              		.cfi_offset 5, -24
 6787              		.cfi_offset 6, -20
 6788              		.cfi_offset 7, -16
 6789              		.cfi_offset 8, -12
ARM GAS  /tmp/ccSjSmmD.s 			page 257


 6790              		.cfi_offset 9, -8
 6791              		.cfi_offset 14, -4
 6792 0004 91B0     		sub	sp, sp, #68
 6793              		.cfi_def_cfa_offset 96
 6794 0006 0191     		str	r1, [sp, #4]
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 6795              		.loc 1 3314 2 is_stmt 1 view .LVU2284
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 6796              		.loc 1 3315 2 view .LVU2285
3316:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6797              		.loc 1 3316 2 view .LVU2286
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
 6798              		.loc 1 3318 2 view .LVU2287
3319:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6799              		.loc 1 3319 2 view .LVU2288
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6800              		.loc 1 3324 2 view .LVU2289
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6801              		.loc 1 3324 5 is_stmt 0 view .LVU2290
 6802 0008 0028     		cmp	r0, #0
 6803 000a 00F00A81 		beq	.L567
 6804 000e 1446     		mov	r4, r2
 6805 0010 0646     		mov	r6, r0
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 6806              		.loc 1 3327 2 is_stmt 1 view .LVU2291
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 6807              		.loc 1 3327 7 is_stmt 0 view .LVU2292
 6808 0012 02F03F07 		and	r7, r2, #63
 6809              	.LVL829:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6810              		.loc 1 3328 2 is_stmt 1 view .LVU2293
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6811              		.loc 1 3328 8 is_stmt 0 view .LVU2294
 6812 0016 3A46     		mov	r2, r7
 6813 0018 02A9     		add	r1, sp, #8
 6814              	.LVL830:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6815              		.loc 1 3328 8 view .LVU2295
 6816 001a 01A8     		add	r0, sp, #4
 6817              	.LVL831:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6818              		.loc 1 3328 8 view .LVU2296
 6819 001c FFF7FEFF 		bl	find_volume
 6820              	.LVL832:
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 6821              		.loc 1 3329 2 is_stmt 1 view .LVU2297
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 6822              		.loc 1 3329 5 is_stmt 0 view .LVU2298
 6823 0020 0546     		mov	r5, r0
 6824 0022 28B1     		cbz	r0, .L579
 6825              	.LVL833:
 6826              	.L553:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6827              		.loc 1 3499 20 is_stmt 1 discriminator 1 view .LVU2299
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6828              		.loc 1 3499 31 is_stmt 0 discriminator 1 view .LVU2300
 6829 0024 0023     		movs	r3, #0
ARM GAS  /tmp/ccSjSmmD.s 			page 258


 6830 0026 3360     		str	r3, [r6]
 6831              	.LVL834:
 6832              	.L552:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6833              		.loc 1 3502 1 view .LVU2301
 6834 0028 2846     		mov	r0, r5
 6835 002a 11B0     		add	sp, sp, #68
 6836              		.cfi_remember_state
 6837              		.cfi_def_cfa_offset 28
 6838              		@ sp needed
 6839 002c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6840              	.LVL835:
 6841              	.L579:
 6842              		.cfi_restore_state
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 6843              		.loc 1 3330 3 is_stmt 1 view .LVU2302
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 6844              		.loc 1 3330 13 is_stmt 0 view .LVU2303
 6845 0030 029B     		ldr	r3, [sp, #8]
 6846 0032 0393     		str	r3, [sp, #12]
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 6847              		.loc 1 3331 18 is_stmt 1 view .LVU2304
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 6848              		.loc 1 3332 3 view .LVU2305
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 6849              		.loc 1 3332 9 is_stmt 0 view .LVU2306
 6850 0034 0199     		ldr	r1, [sp, #4]
 6851 0036 03A8     		add	r0, sp, #12
 6852              	.LVL836:
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 6853              		.loc 1 3332 9 view .LVU2307
 6854 0038 FFF7FEFF 		bl	follow_path
 6855              	.LVL837:
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 6856              		.loc 1 3334 3 is_stmt 1 view .LVU2308
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 6857              		.loc 1 3334 6 is_stmt 0 view .LVU2309
 6858 003c 0546     		mov	r5, r0
 6859 003e 60B9     		cbnz	r0, .L554
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 6860              		.loc 1 3335 4 is_stmt 1 view .LVU2310
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 6861              		.loc 1 3335 8 is_stmt 0 view .LVU2311
 6862 0040 9DF93B30 		ldrsb	r3, [sp, #59]
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 6863              		.loc 1 3335 7 view .LVU2312
 6864 0044 002B     		cmp	r3, #0
 6865 0046 2DDB     		blt	.L568
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6866              		.loc 1 3340 5 is_stmt 1 view .LVU2313
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6867              		.loc 1 3340 11 is_stmt 0 view .LVU2314
 6868 0048 04F03E01 		and	r1, r4, #62
 6869 004c 0039     		subs	r1, r1, #0
 6870 004e 18BF     		it	ne
 6871 0050 0121     		movne	r1, #1
 6872 0052 03A8     		add	r0, sp, #12
ARM GAS  /tmp/ccSjSmmD.s 			page 259


 6873              	.LVL838:
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6874              		.loc 1 3340 11 view .LVU2315
 6875 0054 FFF7FEFF 		bl	chk_lock
 6876              	.LVL839:
 6877 0058 0546     		mov	r5, r0
 6878              	.LVL840:
 6879              	.L554:
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 6880              		.loc 1 3345 3 is_stmt 1 view .LVU2316
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 6881              		.loc 1 3345 6 is_stmt 0 view .LVU2317
 6882 005a 14F01C0F 		tst	r4, #28
 6883 005e 77D0     		beq	.L555
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 6884              		.loc 1 3346 4 is_stmt 1 view .LVU2318
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 6885              		.loc 1 3346 7 is_stmt 0 view .LVU2319
 6886 0060 75B3     		cbz	r5, .L556
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6887              		.loc 1 3347 5 is_stmt 1 view .LVU2320
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6888              		.loc 1 3347 8 is_stmt 0 view .LVU2321
 6889 0062 042D     		cmp	r5, #4
 6890 0064 20D0     		beq	.L580
 6891              	.LVL841:
 6892              	.L557:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6893              		.loc 1 3354 5 is_stmt 1 view .LVU2322
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6894              		.loc 1 3354 10 is_stmt 0 view .LVU2323
 6895 0066 47F00807 		orr	r7, r7, #8
 6896              	.LVL842:
 6897              	.L560:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 6898              		.loc 1 3363 4 is_stmt 1 view .LVU2324
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 6899              		.loc 1 3363 7 is_stmt 0 view .LVU2325
 6900 006a 002D     		cmp	r5, #0
 6901 006c DAD1     		bne	.L553
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 6902              		.loc 1 3363 21 discriminator 1 view .LVU2326
 6903 006e 17F0080F 		tst	r7, #8
 6904 0072 30D1     		bne	.L581
 6905              	.LVL843:
 6906              	.L559:
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 6907              		.loc 1 3422 3 is_stmt 1 view .LVU2327
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 6908              		.loc 1 3422 6 is_stmt 0 view .LVU2328
 6909 0074 002D     		cmp	r5, #0
 6910 0076 D5D1     		bne	.L553
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 6911              		.loc 1 3423 4 is_stmt 1 view .LVU2329
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 6912              		.loc 1 3423 7 is_stmt 0 view .LVU2330
 6913 0078 17F0080F 		tst	r7, #8
ARM GAS  /tmp/ccSjSmmD.s 			page 260


 6914 007c 01D0     		beq	.L561
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 6915              		.loc 1 3424 5 is_stmt 1 view .LVU2331
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 6916              		.loc 1 3424 10 is_stmt 0 view .LVU2332
 6917 007e 47F04007 		orr	r7, r7, #64
 6918              	.LVL844:
 6919              	.L561:
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 6920              		.loc 1 3425 4 is_stmt 1 view .LVU2333
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 6921              		.loc 1 3425 21 is_stmt 0 view .LVU2334
 6922 0082 029B     		ldr	r3, [sp, #8]
 6923 0084 1B6B     		ldr	r3, [r3, #48]
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 6924              		.loc 1 3425 17 view .LVU2335
 6925 0086 7362     		str	r3, [r6, #36]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6926              		.loc 1 3426 4 is_stmt 1 view .LVU2336
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6927              		.loc 1 3426 20 is_stmt 0 view .LVU2337
 6928 0088 0B9B     		ldr	r3, [sp, #44]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6929              		.loc 1 3426 16 view .LVU2338
 6930 008a B362     		str	r3, [r6, #40]
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 6931              		.loc 1 3428 4 is_stmt 1 view .LVU2339
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 6932              		.loc 1 3428 21 is_stmt 0 view .LVU2340
 6933 008c 012F     		cmp	r7, #1
 6934 008e 94BF     		ite	ls
 6935 0090 0021     		movls	r1, #0
 6936 0092 0121     		movhi	r1, #1
 6937 0094 03A8     		add	r0, sp, #12
 6938 0096 FFF7FEFF 		bl	inc_lock
 6939              	.LVL845:
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 6940              		.loc 1 3428 19 discriminator 1 view .LVU2341
 6941 009a 3061     		str	r0, [r6, #16]
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6942              		.loc 1 3429 4 is_stmt 1 view .LVU2342
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6943              		.loc 1 3429 7 is_stmt 0 view .LVU2343
 6944 009c 0028     		cmp	r0, #0
 6945 009e 67D1     		bne	.L582
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6946              		.loc 1 3429 29 discriminator 1 view .LVU2344
 6947 00a0 0225     		movs	r5, #2
 6948              	.LVL846:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6949              		.loc 1 3429 29 discriminator 1 view .LVU2345
 6950 00a2 BFE7     		b	.L553
 6951              	.LVL847:
 6952              	.L568:
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6953              		.loc 1 3336 9 view .LVU2346
 6954 00a4 0625     		movs	r5, #6
ARM GAS  /tmp/ccSjSmmD.s 			page 261


 6955 00a6 D8E7     		b	.L554
 6956              	.LVL848:
 6957              	.L580:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 6958              		.loc 1 3349 6 is_stmt 1 view .LVU2347
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 6959              		.loc 1 3349 12 is_stmt 0 view .LVU2348
 6960 00a8 FFF7FEFF 		bl	enq_lock
 6961              	.LVL849:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 6962              		.loc 1 3349 43 discriminator 1 view .LVU2349
 6963 00ac 18B9     		cbnz	r0, .L558
 6964              	.LVL850:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6965              		.loc 1 3354 5 is_stmt 1 view .LVU2350
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6966              		.loc 1 3354 10 is_stmt 0 view .LVU2351
 6967 00ae 47F00807 		orr	r7, r7, #8
 6968              	.LVL851:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 6969              		.loc 1 3363 4 is_stmt 1 view .LVU2352
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 6970              		.loc 1 3349 10 is_stmt 0 discriminator 4 view .LVU2353
 6971 00b2 1225     		movs	r5, #18
 6972 00b4 DEE7     		b	.L559
 6973              	.LVL852:
 6974              	.L558:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 6975              		.loc 1 3349 25 discriminator 1 view .LVU2354
 6976 00b6 03A8     		add	r0, sp, #12
 6977 00b8 FFF7FEFF 		bl	dir_register
 6978              	.LVL853:
 6979 00bc 0546     		mov	r5, r0
 6980              	.LVL854:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 6981              		.loc 1 3349 25 discriminator 1 view .LVU2355
 6982 00be D2E7     		b	.L557
 6983              	.LVL855:
 6984              	.L556:
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 6985              		.loc 1 3357 5 is_stmt 1 view .LVU2356
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 6986              		.loc 1 3357 15 is_stmt 0 view .LVU2357
 6987 00c0 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 6988              		.loc 1 3357 8 view .LVU2358
 6989 00c4 13F0110F 		tst	r3, #17
 6990 00c8 40F0A580 		bne	.L569
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6991              		.loc 1 3360 6 is_stmt 1 view .LVU2359
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6992              		.loc 1 3360 9 is_stmt 0 view .LVU2360
 6993 00cc 14F0040F 		tst	r4, #4
 6994 00d0 CBD0     		beq	.L560
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6995              		.loc 1 3360 36 discriminator 1 view .LVU2361
 6996 00d2 0825     		movs	r5, #8
ARM GAS  /tmp/ccSjSmmD.s 			page 262


 6997              	.LVL856:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6998              		.loc 1 3360 36 discriminator 1 view .LVU2362
 6999 00d4 A6E7     		b	.L553
 7000              	.LVL857:
 7001              	.L581:
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7002              		.loc 1 3364 5 is_stmt 1 view .LVU2363
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7003              		.loc 1 3364 10 is_stmt 0 view .LVU2364
 7004 00d6 FFF7FEFF 		bl	get_fattime
 7005              	.LVL858:
 7006 00da 0446     		mov	r4, r0
 7007              	.LVL859:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 7008              		.loc 1 3392 6 is_stmt 1 view .LVU2365
 7009 00dc 0146     		mov	r1, r0
 7010 00de 0B98     		ldr	r0, [sp, #44]
 7011              	.LVL860:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 7012              		.loc 1 3392 6 is_stmt 0 view .LVU2366
 7013 00e0 0E30     		adds	r0, r0, #14
 7014 00e2 FFF7FEFF 		bl	st_dword
 7015              	.LVL861:
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 7016              		.loc 1 3393 6 is_stmt 1 view .LVU2367
 7017 00e6 2146     		mov	r1, r4
 7018 00e8 0B98     		ldr	r0, [sp, #44]
 7019 00ea 1630     		adds	r0, r0, #22
 7020 00ec FFF7FEFF 		bl	st_dword
 7021              	.LVL862:
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 7022              		.loc 1 3394 6 view .LVU2368
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 7023              		.loc 1 3394 23 is_stmt 0 view .LVU2369
 7024 00f0 0B9B     		ldr	r3, [sp, #44]
 7025 00f2 2022     		movs	r2, #32
 7026 00f4 DA72     		strb	r2, [r3, #11]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7027              		.loc 1 3395 6 is_stmt 1 view .LVU2370
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7028              		.loc 1 3395 11 is_stmt 0 view .LVU2371
 7029 00f6 DDF80880 		ldr	r8, [sp, #8]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7030              		.loc 1 3395 26 view .LVU2372
 7031 00fa DDF82C90 		ldr	r9, [sp, #44]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7032              		.loc 1 3395 11 view .LVU2373
 7033 00fe 4946     		mov	r1, r9
 7034 0100 4046     		mov	r0, r8
 7035 0102 FFF7FEFF 		bl	ld_clust
 7036              	.LVL863:
 7037 0106 0446     		mov	r4, r0
 7038              	.LVL864:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 7039              		.loc 1 3396 6 is_stmt 1 view .LVU2374
 7040 0108 0022     		movs	r2, #0
ARM GAS  /tmp/ccSjSmmD.s 			page 263


 7041 010a 4946     		mov	r1, r9
 7042 010c 4046     		mov	r0, r8
 7043              	.LVL865:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 7044              		.loc 1 3396 6 is_stmt 0 view .LVU2375
 7045 010e FFF7FEFF 		bl	st_clust
 7046              	.LVL866:
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7047              		.loc 1 3397 6 is_stmt 1 view .LVU2376
 7048 0112 0021     		movs	r1, #0
 7049 0114 0B98     		ldr	r0, [sp, #44]
 7050 0116 1C30     		adds	r0, r0, #28
 7051 0118 FFF7FEFF 		bl	st_dword
 7052              	.LVL867:
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7053              		.loc 1 3398 6 view .LVU2377
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7054              		.loc 1 3398 16 is_stmt 0 view .LVU2378
 7055 011c 029B     		ldr	r3, [sp, #8]
 7056 011e 0122     		movs	r2, #1
 7057 0120 DA70     		strb	r2, [r3, #3]
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 7058              		.loc 1 3400 6 is_stmt 1 view .LVU2379
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 7059              		.loc 1 3400 9 is_stmt 0 view .LVU2380
 7060 0122 002C     		cmp	r4, #0
 7061 0124 A6D0     		beq	.L559
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7062              		.loc 1 3401 7 is_stmt 1 view .LVU2381
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7063              		.loc 1 3401 14 is_stmt 0 view .LVU2382
 7064 0126 029B     		ldr	r3, [sp, #8]
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7065              		.loc 1 3401 10 view .LVU2383
 7066 0128 D3F83080 		ldr	r8, [r3, #48]
 7067              	.LVL868:
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7068              		.loc 1 3402 7 is_stmt 1 view .LVU2384
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7069              		.loc 1 3402 13 is_stmt 0 view .LVU2385
 7070 012c 0022     		movs	r2, #0
 7071 012e 2146     		mov	r1, r4
 7072 0130 03A8     		add	r0, sp, #12
 7073 0132 FFF7FEFF 		bl	remove_chain
 7074              	.LVL869:
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 7075              		.loc 1 3403 7 is_stmt 1 view .LVU2386
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 7076              		.loc 1 3403 10 is_stmt 0 view .LVU2387
 7077 0136 0546     		mov	r5, r0
 7078 0138 0028     		cmp	r0, #0
 7079 013a 7FF473AF 		bne	.L553
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7080              		.loc 1 3404 8 is_stmt 1 view .LVU2388
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7081              		.loc 1 3404 14 is_stmt 0 view .LVU2389
 7082 013e 4146     		mov	r1, r8
ARM GAS  /tmp/ccSjSmmD.s 			page 264


 7083 0140 0298     		ldr	r0, [sp, #8]
 7084              	.LVL870:
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7085              		.loc 1 3404 14 view .LVU2390
 7086 0142 FFF7FEFF 		bl	move_window
 7087              	.LVL871:
 7088 0146 0546     		mov	r5, r0
 7089              	.LVL872:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7090              		.loc 1 3405 8 is_stmt 1 view .LVU2391
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7091              		.loc 1 3405 27 is_stmt 0 view .LVU2392
 7092 0148 013C     		subs	r4, r4, #1
 7093              	.LVL873:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7094              		.loc 1 3405 22 view .LVU2393
 7095 014a 029B     		ldr	r3, [sp, #8]
 7096 014c 1C61     		str	r4, [r3, #16]
 7097 014e 91E7     		b	.L559
 7098              	.LVL874:
 7099              	.L555:
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 7100              		.loc 1 3412 4 is_stmt 1 view .LVU2394
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 7101              		.loc 1 3412 7 is_stmt 0 view .LVU2395
 7102 0150 002D     		cmp	r5, #0
 7103 0152 7FF467AF 		bne	.L553
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7104              		.loc 1 3413 5 is_stmt 1 view .LVU2396
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7105              		.loc 1 3413 15 is_stmt 0 view .LVU2397
 7106 0156 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7107              		.loc 1 3413 8 view .LVU2398
 7108 015a 13F0100F 		tst	r3, #16
 7109 015e 5CD1     		bne	.L571
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7110              		.loc 1 3416 6 is_stmt 1 view .LVU2399
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7111              		.loc 1 3416 9 is_stmt 0 view .LVU2400
 7112 0160 14F0020F 		tst	r4, #2
 7113 0164 86D0     		beq	.L559
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7114              		.loc 1 3416 28 discriminator 1 view .LVU2401
 7115 0166 13F0010F 		tst	r3, #1
 7116 016a 83D0     		beq	.L559
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7117              		.loc 1 3417 11 view .LVU2402
 7118 016c 0725     		movs	r5, #7
 7119              	.LVL875:
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7120              		.loc 1 3417 11 view .LVU2403
 7121 016e 59E7     		b	.L553
 7122              	.LVL876:
 7123              	.L582:
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7124              		.loc 1 3444 3 is_stmt 1 view .LVU2404
ARM GAS  /tmp/ccSjSmmD.s 			page 265


3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7125              		.loc 1 3456 5 view .LVU2405
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7126              		.loc 1 3456 22 is_stmt 0 view .LVU2406
 7127 0170 029C     		ldr	r4, [sp, #8]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7128              		.loc 1 3456 37 view .LVU2407
 7129 0172 DDF82C80 		ldr	r8, [sp, #44]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7130              		.loc 1 3456 22 view .LVU2408
 7131 0176 4146     		mov	r1, r8
 7132 0178 2046     		mov	r0, r4
 7133 017a FFF7FEFF 		bl	ld_clust
 7134              	.LVL877:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7135              		.loc 1 3456 20 discriminator 1 view .LVU2409
 7136 017e B060     		str	r0, [r6, #8]
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7137              		.loc 1 3457 5 is_stmt 1 view .LVU2410
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7138              		.loc 1 3457 23 is_stmt 0 view .LVU2411
 7139 0180 08F11C00 		add	r0, r8, #28
 7140 0184 FFF7FEFF 		bl	ld_dword
 7141              	.LVL878:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7142              		.loc 1 3457 21 discriminator 1 view .LVU2412
 7143 0188 F060     		str	r0, [r6, #12]
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7144              		.loc 1 3460 4 is_stmt 1 view .LVU2413
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7145              		.loc 1 3460 14 is_stmt 0 view .LVU2414
 7146 018a 0021     		movs	r1, #0
 7147 018c F162     		str	r1, [r6, #44]
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 7148              		.loc 1 3462 4 is_stmt 1 view .LVU2415
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 7149              		.loc 1 3462 15 is_stmt 0 view .LVU2416
 7150 018e 3460     		str	r4, [r6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7151              		.loc 1 3463 4 is_stmt 1 view .LVU2417
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7152              		.loc 1 3463 19 is_stmt 0 view .LVU2418
 7153 0190 E388     		ldrh	r3, [r4, #6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7154              		.loc 1 3463 15 view .LVU2419
 7155 0192 B380     		strh	r3, [r6, #4]	@ movhi
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 7156              		.loc 1 3464 4 is_stmt 1 view .LVU2420
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 7157              		.loc 1 3464 13 is_stmt 0 view .LVU2421
 7158 0194 3775     		strb	r7, [r6, #20]
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 7159              		.loc 1 3465 4 is_stmt 1 view .LVU2422
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 7160              		.loc 1 3465 12 is_stmt 0 view .LVU2423
 7161 0196 7175     		strb	r1, [r6, #21]
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
ARM GAS  /tmp/ccSjSmmD.s 			page 266


 7162              		.loc 1 3466 4 is_stmt 1 view .LVU2424
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 7163              		.loc 1 3466 13 is_stmt 0 view .LVU2425
 7164 0198 3162     		str	r1, [r6, #32]
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7165              		.loc 1 3467 4 is_stmt 1 view .LVU2426
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7166              		.loc 1 3467 13 is_stmt 0 view .LVU2427
 7167 019a B161     		str	r1, [r6, #24]
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7168              		.loc 1 3470 4 is_stmt 1 view .LVU2428
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7169              		.loc 1 3470 14 is_stmt 0 view .LVU2429
 7170 019c 06F13008 		add	r8, r6, #48
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7171              		.loc 1 3470 4 view .LVU2430
 7172 01a0 4FF40072 		mov	r2, #512
 7173 01a4 4046     		mov	r0, r8
 7174 01a6 FFF7FEFF 		bl	mem_set
 7175              	.LVL879:
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7176              		.loc 1 3472 4 is_stmt 1 view .LVU2431
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7177              		.loc 1 3472 7 is_stmt 0 view .LVU2432
 7178 01aa 17F0200F 		tst	r7, #32
 7179 01ae 2ED0     		beq	.L562
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7180              		.loc 1 3472 38 discriminator 1 view .LVU2433
 7181 01b0 F468     		ldr	r4, [r6, #12]
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7182              		.loc 1 3472 28 discriminator 1 view .LVU2434
 7183 01b2 64B3     		cbz	r4, .L562
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 7184              		.loc 1 3473 5 is_stmt 1 view .LVU2435
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 7185              		.loc 1 3473 14 is_stmt 0 view .LVU2436
 7186 01b4 B461     		str	r4, [r6, #24]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7187              		.loc 1 3474 5 is_stmt 1 view .LVU2437
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7188              		.loc 1 3474 20 is_stmt 0 view .LVU2438
 7189 01b6 029B     		ldr	r3, [sp, #8]
 7190 01b8 5F89     		ldrh	r7, [r3, #10]
 7191              	.LVL880:
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7192              		.loc 1 3474 9 view .LVU2439
 7193 01ba 7F02     		lsls	r7, r7, #9
 7194              	.LVL881:
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 7195              		.loc 1 3475 5 is_stmt 1 view .LVU2440
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 7196              		.loc 1 3475 10 is_stmt 0 view .LVU2441
 7197 01bc B168     		ldr	r1, [r6, #8]
 7198              	.LVL882:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7199              		.loc 1 3476 5 is_stmt 1 view .LVU2442
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
ARM GAS  /tmp/ccSjSmmD.s 			page 267


 7200              		.loc 1 3476 5 is_stmt 0 view .LVU2443
 7201 01be 01E0     		b	.L563
 7202              	.LVL883:
 7203              	.L574:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7204              		.loc 1 3478 25 discriminator 1 view .LVU2444
 7205 01c0 0225     		movs	r5, #2
 7206              	.LVL884:
 7207              	.L564:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7208              		.loc 1 3476 64 is_stmt 1 discriminator 2 view .LVU2445
 7209 01c2 E41B     		subs	r4, r4, r7
 7210              	.LVL885:
 7211              	.L563:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7212              		.loc 1 3476 46 discriminator 1 view .LVU2446
 7213 01c4 65B9     		cbnz	r5, .L565
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7214              		.loc 1 3476 46 is_stmt 0 discriminator 3 view .LVU2447
 7215 01c6 BC42     		cmp	r4, r7
 7216 01c8 0AD9     		bls	.L565
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7217              		.loc 1 3477 6 is_stmt 1 view .LVU2448
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7218              		.loc 1 3477 13 is_stmt 0 view .LVU2449
 7219 01ca 3046     		mov	r0, r6
 7220 01cc FFF7FEFF 		bl	get_fat
 7221              	.LVL886:
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7222              		.loc 1 3477 13 view .LVU2450
 7223 01d0 0146     		mov	r1, r0
 7224              	.LVL887:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7225              		.loc 1 3478 6 is_stmt 1 view .LVU2451
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7226              		.loc 1 3478 9 is_stmt 0 view .LVU2452
 7227 01d2 0128     		cmp	r0, #1
 7228 01d4 F4D9     		bls	.L574
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7229              		.loc 1 3479 6 is_stmt 1 view .LVU2453
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7230              		.loc 1 3479 9 is_stmt 0 view .LVU2454
 7231 01d6 B0F1FF3F 		cmp	r0, #-1
 7232 01da F2D1     		bne	.L564
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7233              		.loc 1 3479 34 discriminator 1 view .LVU2455
 7234 01dc 0125     		movs	r5, #1
 7235              	.LVL888:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7236              		.loc 1 3479 34 discriminator 1 view .LVU2456
 7237 01de F0E7     		b	.L564
 7238              	.LVL889:
 7239              	.L565:
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 7240              		.loc 1 3481 5 is_stmt 1 view .LVU2457
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 7241              		.loc 1 3481 15 is_stmt 0 view .LVU2458
ARM GAS  /tmp/ccSjSmmD.s 			page 268


 7242 01e0 F161     		str	r1, [r6, #28]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7243              		.loc 1 3482 5 is_stmt 1 view .LVU2459
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7244              		.loc 1 3482 8 is_stmt 0 view .LVU2460
 7245 01e2 002D     		cmp	r5, #0
 7246 01e4 7FF41EAF 		bne	.L553
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7247              		.loc 1 3482 29 discriminator 1 view .LVU2461
 7248 01e8 C4F30803 		ubfx	r3, r4, #0, #9
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7249              		.loc 1 3482 22 discriminator 1 view .LVU2462
 7250 01ec 7BB1     		cbz	r3, .L562
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7251              		.loc 1 3483 6 is_stmt 1 view .LVU2463
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7252              		.loc 1 3483 16 is_stmt 0 view .LVU2464
 7253 01ee 029F     		ldr	r7, [sp, #8]
 7254              	.LVL890:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7255              		.loc 1 3483 16 view .LVU2465
 7256 01f0 3846     		mov	r0, r7
 7257 01f2 FFF7FEFF 		bl	clust2sect
 7258              	.LVL891:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7259              		.loc 1 3483 9 discriminator 1 view .LVU2466
 7260 01f6 08B9     		cbnz	r0, .L583
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7261              		.loc 1 3484 11 view .LVU2467
 7262 01f8 0225     		movs	r5, #2
 7263              	.LVL892:
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7264              		.loc 1 3484 11 view .LVU2468
 7265 01fa 13E7     		b	.L553
 7266              	.LVL893:
 7267              	.L583:
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7268              		.loc 1 3486 7 is_stmt 1 view .LVU2469
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7269              		.loc 1 3486 21 is_stmt 0 view .LVU2470
 7270 01fc 00EB5422 		add	r2, r0, r4, lsr #9
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7271              		.loc 1 3486 16 view .LVU2471
 7272 0200 3262     		str	r2, [r6, #32]
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7273              		.loc 1 3488 7 is_stmt 1 view .LVU2472
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7274              		.loc 1 3488 11 is_stmt 0 view .LVU2473
 7275 0202 0123     		movs	r3, #1
 7276 0204 4146     		mov	r1, r8
 7277 0206 7878     		ldrb	r0, [r7, #1]	@ zero_extendqisi2
 7278              	.LVL894:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7279              		.loc 1 3488 11 view .LVU2474
 7280 0208 FFF7FEFF 		bl	disk_read
 7281              	.LVL895:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccSjSmmD.s 			page 269


 7282              		.loc 1 3488 10 discriminator 1 view .LVU2475
 7283 020c 38B9     		cbnz	r0, .L577
 7284              	.LVL896:
 7285              	.L562:
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7286              		.loc 1 3496 16 is_stmt 1 view .LVU2476
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7287              		.loc 1 3499 2 view .LVU2477
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7288              		.loc 1 3499 5 is_stmt 0 view .LVU2478
 7289 020e 002D     		cmp	r5, #0
 7290 0210 3FF40AAF 		beq	.L552
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7291              		.loc 1 3499 5 view .LVU2479
 7292 0214 06E7     		b	.L553
 7293              	.LVL897:
 7294              	.L569:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7295              		.loc 1 3358 10 view .LVU2480
 7296 0216 0725     		movs	r5, #7
 7297              	.LVL898:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7298              		.loc 1 3358 10 view .LVU2481
 7299 0218 04E7     		b	.L553
 7300              	.LVL899:
 7301              	.L571:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7302              		.loc 1 3414 10 view .LVU2482
 7303 021a 0425     		movs	r5, #4
 7304              	.LVL900:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7305              		.loc 1 3414 10 view .LVU2483
 7306 021c 02E7     		b	.L553
 7307              	.LVL901:
 7308              	.L577:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7309              		.loc 1 3488 67 discriminator 1 view .LVU2484
 7310 021e 0125     		movs	r5, #1
 7311              	.LVL902:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7312              		.loc 1 3488 67 discriminator 1 view .LVU2485
 7313 0220 00E7     		b	.L553
 7314              	.LVL903:
 7315              	.L567:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7316              		.loc 1 3324 18 discriminator 1 view .LVU2486
 7317 0222 0925     		movs	r5, #9
 7318 0224 00E7     		b	.L552
 7319              		.cfi_endproc
 7320              	.LFE178:
 7322              		.section	.text.f_read,"ax",%progbits
 7323              		.align	1
 7324              		.global	f_read
 7325              		.syntax unified
 7326              		.thumb
 7327              		.thumb_func
 7329              	f_read:
ARM GAS  /tmp/ccSjSmmD.s 			page 270


 7330              	.LVL904:
 7331              	.LFB179:
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7332              		.loc 1 3517 1 is_stmt 1 view -0
 7333              		.cfi_startproc
 7334              		@ args = 0, pretend = 0, frame = 16
 7335              		@ frame_needed = 0, uses_anonymous_args = 0
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7336              		.loc 1 3517 1 is_stmt 0 view .LVU2488
 7337 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7338              		.cfi_def_cfa_offset 36
 7339              		.cfi_offset 4, -36
 7340              		.cfi_offset 5, -32
 7341              		.cfi_offset 6, -28
 7342              		.cfi_offset 7, -24
 7343              		.cfi_offset 8, -20
 7344              		.cfi_offset 9, -16
 7345              		.cfi_offset 10, -12
 7346              		.cfi_offset 11, -8
 7347              		.cfi_offset 14, -4
 7348 0004 85B0     		sub	sp, sp, #20
 7349              		.cfi_def_cfa_offset 56
 7350 0006 0446     		mov	r4, r0
 7351 0008 0E46     		mov	r6, r1
 7352 000a 1746     		mov	r7, r2
 7353 000c 9846     		mov	r8, r3
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7354              		.loc 1 3518 2 is_stmt 1 view .LVU2489
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 7355              		.loc 1 3519 2 view .LVU2490
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
 7356              		.loc 1 3520 2 view .LVU2491
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
 7357              		.loc 1 3521 2 view .LVU2492
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 7358              		.loc 1 3522 2 view .LVU2493
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7359              		.loc 1 3523 2 view .LVU2494
 7360              	.LVL905:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7361              		.loc 1 3526 2 view .LVU2495
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7362              		.loc 1 3526 6 is_stmt 0 view .LVU2496
 7363 000e 0023     		movs	r3, #0
 7364              	.LVL906:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7365              		.loc 1 3526 6 view .LVU2497
 7366 0010 C8F80030 		str	r3, [r8]
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7367              		.loc 1 3527 2 is_stmt 1 view .LVU2498
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7368              		.loc 1 3527 8 is_stmt 0 view .LVU2499
 7369 0014 03A9     		add	r1, sp, #12
 7370              	.LVL907:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7371              		.loc 1 3527 8 view .LVU2500
 7372 0016 FFF7FEFF 		bl	validate
ARM GAS  /tmp/ccSjSmmD.s 			page 271


 7373              	.LVL908:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7374              		.loc 1 3528 2 is_stmt 1 view .LVU2501
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7375              		.loc 1 3528 5 is_stmt 0 view .LVU2502
 7376 001a 0190     		str	r0, [sp, #4]
 7377 001c 0028     		cmp	r0, #0
 7378 001e 40F0AE80 		bne	.L587
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7379              		.loc 1 3528 27 discriminator 2 view .LVU2503
 7380 0022 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 7381 0024 0193     		str	r3, [sp, #4]
 7382              	.LVL909:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7383              		.loc 1 3528 19 discriminator 2 view .LVU2504
 7384 0026 002B     		cmp	r3, #0
 7385 0028 40F0A980 		bne	.L587
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7386              		.loc 1 3529 2 is_stmt 1 view .LVU2505
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7387              		.loc 1 3529 10 is_stmt 0 view .LVU2506
 7388 002c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 7389              	.LVL910:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7390              		.loc 1 3529 5 view .LVU2507
 7391 002e 13F0010F 		tst	r3, #1
 7392 0032 00F0C380 		beq	.L609
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7393              		.loc 1 3530 2 is_stmt 1 view .LVU2508
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7394              		.loc 1 3530 18 is_stmt 0 view .LVU2509
 7395 0036 E568     		ldr	r5, [r4, #12]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7396              		.loc 1 3530 31 view .LVU2510
 7397 0038 A369     		ldr	r3, [r4, #24]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7398              		.loc 1 3530 9 view .LVU2511
 7399 003a ED1A     		subs	r5, r5, r3
 7400              	.LVL911:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7401              		.loc 1 3531 2 is_stmt 1 view .LVU2512
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7402              		.loc 1 3531 5 is_stmt 0 view .LVU2513
 7403 003c BD42     		cmp	r5, r7
 7404 003e 62D3     		bcc	.L607
 7405 0040 3D46     		mov	r5, r7
 7406              	.LVL912:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7407              		.loc 1 3531 5 view .LVU2514
 7408 0042 60E0     		b	.L607
 7409              	.LVL913:
 7410              	.L592:
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7411              		.loc 1 3542 6 is_stmt 1 view .LVU2515
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7412              		.loc 1 3542 12 is_stmt 0 view .LVU2516
 7413 0044 E36A     		ldr	r3, [r4, #44]
ARM GAS  /tmp/ccSjSmmD.s 			page 272


3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7414              		.loc 1 3542 9 view .LVU2517
 7415 0046 1BB1     		cbz	r3, .L594
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7416              		.loc 1 3543 7 is_stmt 1 view .LVU2518
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7417              		.loc 1 3543 14 is_stmt 0 view .LVU2519
 7418 0048 2046     		mov	r0, r4
 7419 004a FFF7FEFF 		bl	clmt_clust
 7420              	.LVL914:
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7421              		.loc 1 3543 14 view .LVU2520
 7422 004e 6AE0     		b	.L593
 7423              	.LVL915:
 7424              	.L594:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7425              		.loc 1 3547 7 is_stmt 1 view .LVU2521
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7426              		.loc 1 3547 14 is_stmt 0 view .LVU2522
 7427 0050 E169     		ldr	r1, [r4, #28]
 7428 0052 2046     		mov	r0, r4
 7429 0054 FFF7FEFF 		bl	get_fat
 7430              	.LVL916:
 7431 0058 65E0     		b	.L593
 7432              	.LVL917:
 7433              	.L616:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7434              		.loc 1 3550 19 is_stmt 1 discriminator 1 view .LVU2523
 7435 005a 4FF0020A 		mov	r10, #2
 7436 005e 84F815A0 		strb	r10, [r4, #21]
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7437              		.loc 1 3550 19 view .LVU2524
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7438              		.loc 1 3550 19 is_stmt 0 discriminator 1 view .LVU2525
 7439 0062 CDF804A0 		str	r10, [sp, #4]
 7440              	.LVL918:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7441              		.loc 1 3550 19 view .LVU2526
 7442 0066 8AE0     		b	.L587
 7443              	.LVL919:
 7444              	.L617:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7445              		.loc 1 3551 29 is_stmt 1 discriminator 1 view .LVU2527
 7446 0068 4FF0010A 		mov	r10, #1
 7447 006c 84F815A0 		strb	r10, [r4, #21]
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7448              		.loc 1 3551 29 view .LVU2528
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7449              		.loc 1 3551 29 is_stmt 0 discriminator 1 view .LVU2529
 7450 0070 CDF804A0 		str	r10, [sp, #4]
 7451              	.LVL920:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7452              		.loc 1 3551 29 view .LVU2530
 7453 0074 83E0     		b	.L587
 7454              	.LVL921:
 7455              	.L618:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
ARM GAS  /tmp/ccSjSmmD.s 			page 273


 7456              		.loc 1 3555 15 is_stmt 1 discriminator 1 view .LVU2531
 7457 0076 4FF0020A 		mov	r10, #2
 7458 007a 84F815A0 		strb	r10, [r4, #21]
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7459              		.loc 1 3555 15 view .LVU2532
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7460              		.loc 1 3555 15 is_stmt 0 discriminator 1 view .LVU2533
 7461 007e CDF804A0 		str	r10, [sp, #4]
 7462              	.LVL922:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7463              		.loc 1 3555 15 view .LVU2534
 7464 0082 7CE0     		b	.L587
 7465              	.LVL923:
 7466              	.L600:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7467              		.loc 1 3562 78 is_stmt 1 discriminator 2 view .LVU2535
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7468              		.loc 1 3569 5 view .LVU2536
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7469              		.loc 1 3569 9 is_stmt 0 view .LVU2537
 7470 0084 94F91430 		ldrsb	r3, [r4, #20]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7471              		.loc 1 3569 8 view .LVU2538
 7472 0088 002B     		cmp	r3, #0
 7473 008a 02DB     		blt	.L613
 7474              	.L601:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7475              		.loc 1 3574 5 is_stmt 1 view .LVU2539
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7476              		.loc 1 3574 10 is_stmt 0 view .LVU2540
 7477 008c 4FEA4A27 		lsl	r7, r10, #9
 7478              	.LVL924:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7479              		.loc 1 3575 5 is_stmt 1 view .LVU2541
 7480 0090 2FE0     		b	.L602
 7481              	.LVL925:
 7482              	.L613:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7483              		.loc 1 3569 36 is_stmt 0 discriminator 1 view .LVU2542
 7484 0092 206A     		ldr	r0, [r4, #32]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7485              		.loc 1 3569 43 discriminator 1 view .LVU2543
 7486 0094 A0EB0900 		sub	r0, r0, r9
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7487              		.loc 1 3569 31 discriminator 1 view .LVU2544
 7488 0098 5045     		cmp	r0, r10
 7489 009a F7D2     		bcs	.L601
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7490              		.loc 1 3570 6 is_stmt 1 view .LVU2545
 7491 009c 4FF40072 		mov	r2, #512
 7492 00a0 04F13001 		add	r1, r4, #48
 7493 00a4 06EB4020 		add	r0, r6, r0, lsl #9
 7494 00a8 FFF7FEFF 		bl	mem_cpy
 7495              	.LVL926:
 7496 00ac EEE7     		b	.L601
 7497              	.L598:
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  /tmp/ccSjSmmD.s 			page 274


 7498              		.loc 1 3578 4 view .LVU2546
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7499              		.loc 1 3578 10 is_stmt 0 view .LVU2547
 7500 00ae 226A     		ldr	r2, [r4, #32]
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7501              		.loc 1 3578 7 view .LVU2548
 7502 00b0 4A45     		cmp	r2, r9
 7503 00b2 0DD0     		beq	.L603
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7504              		.loc 1 3580 5 is_stmt 1 view .LVU2549
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7505              		.loc 1 3580 9 is_stmt 0 view .LVU2550
 7506 00b4 94F91430 		ldrsb	r3, [r4, #20]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7507              		.loc 1 3580 8 view .LVU2551
 7508 00b8 002B     		cmp	r3, #0
 7509 00ba 64DB     		blt	.L614
 7510              	.L604:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7511              		.loc 1 3585 5 is_stmt 1 view .LVU2552
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7512              		.loc 1 3585 9 is_stmt 0 view .LVU2553
 7513 00bc 0123     		movs	r3, #1
 7514 00be 4A46     		mov	r2, r9
 7515 00c0 04F13001 		add	r1, r4, #48
 7516 00c4 0398     		ldr	r0, [sp, #12]
 7517 00c6 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7518 00c8 FFF7FEFF 		bl	disk_read
 7519              	.LVL927:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7520              		.loc 1 3585 8 discriminator 1 view .LVU2554
 7521 00cc 0028     		cmp	r0, #0
 7522 00ce 6ED1     		bne	.L615
 7523              	.L603:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7524              		.loc 1 3585 79 is_stmt 1 discriminator 2 view .LVU2555
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7525              		.loc 1 3588 4 view .LVU2556
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7526              		.loc 1 3588 13 is_stmt 0 view .LVU2557
 7527 00d0 C4F82090 		str	r9, [r4, #32]
 7528              	.LVL928:
 7529              	.L590:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7530              		.loc 1 3590 3 is_stmt 1 view .LVU2558
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7531              		.loc 1 3590 27 is_stmt 0 view .LVU2559
 7532 00d4 A369     		ldr	r3, [r4, #24]
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7533              		.loc 1 3590 34 view .LVU2560
 7534 00d6 C3F30803 		ubfx	r3, r3, #0, #9
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7535              		.loc 1 3590 8 view .LVU2561
 7536 00da C3F50077 		rsb	r7, r3, #512
 7537              	.LVL929:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7538              		.loc 1 3591 3 is_stmt 1 view .LVU2562
ARM GAS  /tmp/ccSjSmmD.s 			page 275


3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7539              		.loc 1 3591 6 is_stmt 0 view .LVU2563
 7540 00de BD42     		cmp	r5, r7
 7541 00e0 00D2     		bcs	.L606
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7542              		.loc 1 3591 24 discriminator 1 view .LVU2564
 7543 00e2 2F46     		mov	r7, r5
 7544              	.LVL930:
 7545              	.L606:
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7546              		.loc 1 3596 3 is_stmt 1 view .LVU2565
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7547              		.loc 1 3596 18 is_stmt 0 view .LVU2566
 7548 00e4 04F13001 		add	r1, r4, #48
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7549              		.loc 1 3596 3 view .LVU2567
 7550 00e8 3A46     		mov	r2, r7
 7551 00ea 1944     		add	r1, r1, r3
 7552 00ec 3046     		mov	r0, r6
 7553 00ee FFF7FEFF 		bl	mem_cpy
 7554              	.LVL931:
 7555              	.L602:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7556              		.loc 1 3534 47 is_stmt 1 view .LVU2568
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7557              		.loc 1 3534 9 is_stmt 0 view .LVU2569
 7558 00f2 3E44     		add	r6, r6, r7
 7559              	.LVL932:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7560              		.loc 1 3534 20 view .LVU2570
 7561 00f4 A369     		ldr	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7562              		.loc 1 3534 27 view .LVU2571
 7563 00f6 3B44     		add	r3, r3, r7
 7564 00f8 A361     		str	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7565              		.loc 1 3534 36 view .LVU2572
 7566 00fa D8F80030 		ldr	r3, [r8]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7567              		.loc 1 3534 40 view .LVU2573
 7568 00fe 3B44     		add	r3, r3, r7
 7569 0100 C8F80030 		str	r3, [r8]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7570              		.loc 1 3534 53 view .LVU2574
 7571 0104 ED1B     		subs	r5, r5, r7
 7572              	.LVL933:
 7573              	.L607:
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 7574              		.loc 1 3533 11 is_stmt 1 view .LVU2575
 7575 0106 002D     		cmp	r5, #0
 7576 0108 39D0     		beq	.L587
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7577              		.loc 1 3535 3 view .LVU2576
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7578              		.loc 1 3535 9 is_stmt 0 view .LVU2577
 7579 010a A169     		ldr	r1, [r4, #24]
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
ARM GAS  /tmp/ccSjSmmD.s 			page 276


 7580              		.loc 1 3535 16 view .LVU2578
 7581 010c C1F30803 		ubfx	r3, r1, #0, #9
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7582              		.loc 1 3535 6 view .LVU2579
 7583 0110 002B     		cmp	r3, #0
 7584 0112 DFD1     		bne	.L590
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7585              		.loc 1 3536 4 is_stmt 1 view .LVU2580
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7586              		.loc 1 3536 42 is_stmt 0 view .LVU2581
 7587 0114 039B     		ldr	r3, [sp, #12]
 7588 0116 5F89     		ldrh	r7, [r3, #10]
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7589              		.loc 1 3536 50 view .LVU2582
 7590 0118 013F     		subs	r7, r7, #1
 7591              	.LVL934:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7592              		.loc 1 3537 4 is_stmt 1 view .LVU2583
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7593              		.loc 1 3537 7 is_stmt 0 view .LVU2584
 7594 011a 17EA5127 		ands	r7, r7, r1, lsr #9
 7595              	.LVL935:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7596              		.loc 1 3537 7 view .LVU2585
 7597 011e 08D1     		bne	.L591
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 7598              		.loc 1 3538 5 is_stmt 1 view .LVU2586
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 7599              		.loc 1 3538 8 is_stmt 0 view .LVU2587
 7600 0120 0029     		cmp	r1, #0
 7601 0122 8FD1     		bne	.L592
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 7602              		.loc 1 3539 6 is_stmt 1 view .LVU2588
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 7603              		.loc 1 3539 11 is_stmt 0 view .LVU2589
 7604 0124 A068     		ldr	r0, [r4, #8]
 7605              	.LVL936:
 7606              	.L593:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7607              		.loc 1 3550 5 is_stmt 1 view .LVU2590
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7608              		.loc 1 3550 8 is_stmt 0 view .LVU2591
 7609 0126 0128     		cmp	r0, #1
 7610 0128 97D9     		bls	.L616
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7611              		.loc 1 3550 40 is_stmt 1 discriminator 2 view .LVU2592
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7612              		.loc 1 3551 5 view .LVU2593
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7613              		.loc 1 3551 8 is_stmt 0 view .LVU2594
 7614 012a B0F1FF3F 		cmp	r0, #-1
 7615 012e 9BD0     		beq	.L617
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7616              		.loc 1 3551 51 is_stmt 1 discriminator 2 view .LVU2595
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7617              		.loc 1 3552 5 view .LVU2596
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccSjSmmD.s 			page 277


 7618              		.loc 1 3552 15 is_stmt 0 view .LVU2597
 7619 0130 E061     		str	r0, [r4, #28]
 7620              	.LVL937:
 7621              	.L591:
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7622              		.loc 1 3554 4 is_stmt 1 view .LVU2598
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7623              		.loc 1 3554 11 is_stmt 0 view .LVU2599
 7624 0132 DDF80CB0 		ldr	fp, [sp, #12]
 7625 0136 E169     		ldr	r1, [r4, #28]
 7626 0138 5846     		mov	r0, fp
 7627 013a FFF7FEFF 		bl	clust2sect
 7628              	.LVL938:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7629              		.loc 1 3555 4 is_stmt 1 view .LVU2600
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7630              		.loc 1 3555 7 is_stmt 0 view .LVU2601
 7631 013e 8146     		mov	r9, r0
 7632 0140 0028     		cmp	r0, #0
 7633 0142 98D0     		beq	.L618
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7634              		.loc 1 3555 36 is_stmt 1 discriminator 2 view .LVU2602
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 7635              		.loc 1 3556 4 view .LVU2603
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 7636              		.loc 1 3556 9 is_stmt 0 view .LVU2604
 7637 0144 B944     		add	r9, r9, r7
 7638              	.LVL939:
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7639              		.loc 1 3557 4 is_stmt 1 view .LVU2605
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7640              		.loc 1 3557 7 is_stmt 0 view .LVU2606
 7641 0146 4FEA552A 		lsr	r10, r5, #9
 7642              	.LVL940:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7643              		.loc 1 3558 4 is_stmt 1 view .LVU2607
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7644              		.loc 1 3558 7 is_stmt 0 view .LVU2608
 7645 014a B5F5007F 		cmp	r5, #512
 7646 014e AED3     		bcc	.L598
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7647              		.loc 1 3559 5 is_stmt 1 view .LVU2609
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7648              		.loc 1 3559 15 is_stmt 0 view .LVU2610
 7649 0150 07EB0A03 		add	r3, r7, r10
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7650              		.loc 1 3559 24 view .LVU2611
 7651 0154 BBF80A20 		ldrh	r2, [fp, #10]
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7652              		.loc 1 3559 8 view .LVU2612
 7653 0158 9342     		cmp	r3, r2
 7654 015a 01D9     		bls	.L599
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7655              		.loc 1 3560 6 is_stmt 1 view .LVU2613
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7656              		.loc 1 3560 9 is_stmt 0 view .LVU2614
 7657 015c A2EB070A 		sub	r10, r2, r7
ARM GAS  /tmp/ccSjSmmD.s 			page 278


 7658              	.LVL941:
 7659              	.L599:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7660              		.loc 1 3562 5 is_stmt 1 view .LVU2615
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7661              		.loc 1 3562 9 is_stmt 0 view .LVU2616
 7662 0160 5346     		mov	r3, r10
 7663 0162 4A46     		mov	r2, r9
 7664 0164 3146     		mov	r1, r6
 7665 0166 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 7666 016a FFF7FEFF 		bl	disk_read
 7667              	.LVL942:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7668              		.loc 1 3562 8 discriminator 1 view .LVU2617
 7669 016e 0028     		cmp	r0, #0
 7670 0170 88D0     		beq	.L600
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7671              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2618
 7672 0172 4FF0010A 		mov	r10, #1
 7673              	.LVL943:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7674              		.loc 1 3562 56 is_stmt 0 discriminator 1 view .LVU2619
 7675 0176 84F815A0 		strb	r10, [r4, #21]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7676              		.loc 1 3562 56 is_stmt 1 view .LVU2620
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7677              		.loc 1 3562 56 is_stmt 0 discriminator 1 view .LVU2621
 7678 017a CDF804A0 		str	r10, [sp, #4]
 7679              	.LVL944:
 7680              	.L587:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7681              		.loc 1 3601 1 view .LVU2622
 7682 017e 0198     		ldr	r0, [sp, #4]
 7683 0180 05B0     		add	sp, sp, #20
 7684              		.cfi_remember_state
 7685              		.cfi_def_cfa_offset 36
 7686              		@ sp needed
 7687 0182 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7688              	.LVL945:
 7689              	.L614:
 7690              		.cfi_restore_state
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7691              		.loc 1 3581 6 is_stmt 1 view .LVU2623
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7692              		.loc 1 3581 10 is_stmt 0 view .LVU2624
 7693 0186 0123     		movs	r3, #1
 7694 0188 04F13001 		add	r1, r4, #48
 7695 018c 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 7696 0190 FFF7FEFF 		bl	disk_write
 7697              	.LVL946:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7698              		.loc 1 3581 9 discriminator 1 view .LVU2625
 7699 0194 20B9     		cbnz	r0, .L619
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7700              		.loc 1 3581 85 is_stmt 1 discriminator 2 view .LVU2626
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7701              		.loc 1 3582 6 view .LVU2627
ARM GAS  /tmp/ccSjSmmD.s 			page 279


3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7702              		.loc 1 3582 8 is_stmt 0 view .LVU2628
 7703 0196 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7704              		.loc 1 3582 15 view .LVU2629
 7705 0198 03F07F03 		and	r3, r3, #127
 7706 019c 2375     		strb	r3, [r4, #20]
 7707 019e 8DE7     		b	.L604
 7708              	.L619:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7709              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2630
 7710 01a0 4FF0010A 		mov	r10, #1
 7711              	.LVL947:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7712              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2631
 7713 01a4 84F815A0 		strb	r10, [r4, #21]
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7714              		.loc 1 3581 63 is_stmt 1 view .LVU2632
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7715              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2633
 7716 01a8 CDF804A0 		str	r10, [sp, #4]
 7717              	.LVL948:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7718              		.loc 1 3581 63 view .LVU2634
 7719 01ac E7E7     		b	.L587
 7720              	.LVL949:
 7721              	.L615:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7722              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2635
 7723 01ae 4FF0010A 		mov	r10, #1
 7724              	.LVL950:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7725              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2636
 7726 01b2 84F815A0 		strb	r10, [r4, #21]
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7727              		.loc 1 3585 57 is_stmt 1 view .LVU2637
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7728              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2638
 7729 01b6 CDF804A0 		str	r10, [sp, #4]
 7730              	.LVL951:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7731              		.loc 1 3585 57 view .LVU2639
 7732 01ba E0E7     		b	.L587
 7733              	.LVL952:
 7734              	.L609:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7735              		.loc 1 3529 29 discriminator 1 view .LVU2640
 7736 01bc 0723     		movs	r3, #7
 7737 01be 0193     		str	r3, [sp, #4]
 7738              	.LVL953:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7739              		.loc 1 3529 29 discriminator 1 view .LVU2641
 7740 01c0 DDE7     		b	.L587
 7741              		.cfi_endproc
 7742              	.LFE179:
 7744              		.section	.text.f_write,"ax",%progbits
 7745              		.align	1
ARM GAS  /tmp/ccSjSmmD.s 			page 280


 7746              		.global	f_write
 7747              		.syntax unified
 7748              		.thumb
 7749              		.thumb_func
 7751              	f_write:
 7752              	.LVL954:
 7753              	.LFB180:
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7754              		.loc 1 3617 1 is_stmt 1 view -0
 7755              		.cfi_startproc
 7756              		@ args = 0, pretend = 0, frame = 16
 7757              		@ frame_needed = 0, uses_anonymous_args = 0
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7758              		.loc 1 3617 1 is_stmt 0 view .LVU2643
 7759 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7760              		.cfi_def_cfa_offset 36
 7761              		.cfi_offset 4, -36
 7762              		.cfi_offset 5, -32
 7763              		.cfi_offset 6, -28
 7764              		.cfi_offset 7, -24
 7765              		.cfi_offset 8, -20
 7766              		.cfi_offset 9, -16
 7767              		.cfi_offset 10, -12
 7768              		.cfi_offset 11, -8
 7769              		.cfi_offset 14, -4
 7770 0004 85B0     		sub	sp, sp, #20
 7771              		.cfi_def_cfa_offset 56
 7772 0006 0446     		mov	r4, r0
 7773 0008 0E46     		mov	r6, r1
 7774 000a 1546     		mov	r5, r2
 7775 000c 9846     		mov	r8, r3
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7776              		.loc 1 3618 2 is_stmt 1 view .LVU2644
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 7777              		.loc 1 3619 2 view .LVU2645
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
 7778              		.loc 1 3620 2 view .LVU2646
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 7779              		.loc 1 3621 2 view .LVU2647
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7780              		.loc 1 3622 2 view .LVU2648
 7781              	.LVL955:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 7782              		.loc 1 3625 2 view .LVU2649
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 7783              		.loc 1 3625 6 is_stmt 0 view .LVU2650
 7784 000e 0023     		movs	r3, #0
 7785              	.LVL956:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 7786              		.loc 1 3625 6 view .LVU2651
 7787 0010 C8F80030 		str	r3, [r8]
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7788              		.loc 1 3626 2 is_stmt 1 view .LVU2652
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7789              		.loc 1 3626 8 is_stmt 0 view .LVU2653
 7790 0014 03A9     		add	r1, sp, #12
 7791              	.LVL957:
ARM GAS  /tmp/ccSjSmmD.s 			page 281


3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7792              		.loc 1 3626 8 view .LVU2654
 7793 0016 FFF7FEFF 		bl	validate
 7794              	.LVL958:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7795              		.loc 1 3627 2 is_stmt 1 view .LVU2655
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7796              		.loc 1 3627 5 is_stmt 0 view .LVU2656
 7797 001a 0190     		str	r0, [sp, #4]
 7798 001c 0028     		cmp	r0, #0
 7799 001e 49D1     		bne	.L623
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7800              		.loc 1 3627 27 discriminator 2 view .LVU2657
 7801 0020 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 7802 0022 0193     		str	r3, [sp, #4]
 7803              	.LVL959:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7804              		.loc 1 3627 19 discriminator 2 view .LVU2658
 7805 0024 002B     		cmp	r3, #0
 7806 0026 45D1     		bne	.L623
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7807              		.loc 1 3628 2 is_stmt 1 view .LVU2659
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7808              		.loc 1 3628 10 is_stmt 0 view .LVU2660
 7809 0028 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 7810              	.LVL960:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7811              		.loc 1 3628 5 view .LVU2661
 7812 002a 13F0020F 		tst	r3, #2
 7813 002e 00F0E280 		beq	.L646
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 7814              		.loc 1 3631 2 is_stmt 1 view .LVU2662
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 7815              		.loc 1 3631 59 is_stmt 0 view .LVU2663
 7816 0032 A369     		ldr	r3, [r4, #24]
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 7817              		.loc 1 3631 5 view .LVU2664
 7818 0034 EB42     		cmn	r3, r5
 7819 0036 C0F0B080 		bcc	.L644
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7820              		.loc 1 3632 3 is_stmt 1 view .LVU2665
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7821              		.loc 1 3632 7 is_stmt 0 view .LVU2666
 7822 003a DD43     		mvns	r5, r3
 7823              	.LVL961:
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7824              		.loc 1 3632 7 view .LVU2667
 7825 003c ADE0     		b	.L644
 7826              	.LVL962:
 7827              	.L627:
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7828              		.loc 1 3647 6 is_stmt 1 view .LVU2668
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7829              		.loc 1 3647 12 is_stmt 0 view .LVU2669
 7830 003e E36A     		ldr	r3, [r4, #44]
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7831              		.loc 1 3647 9 view .LVU2670
ARM GAS  /tmp/ccSjSmmD.s 			page 282


 7832 0040 002B     		cmp	r3, #0
 7833 0042 3BD0     		beq	.L630
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7834              		.loc 1 3648 7 is_stmt 1 view .LVU2671
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7835              		.loc 1 3648 14 is_stmt 0 view .LVU2672
 7836 0044 2046     		mov	r0, r4
 7837 0046 FFF7FEFF 		bl	clmt_clust
 7838              	.LVL963:
 7839              	.L629:
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7840              		.loc 1 3655 5 is_stmt 1 view .LVU2673
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 7841              		.loc 1 3655 8 is_stmt 0 view .LVU2674
 7842 004a 0028     		cmp	r0, #0
 7843 004c 00F0CE80 		beq	.L631
 7844              	.L628:
 7845              	.LVL964:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7846              		.loc 1 3656 5 is_stmt 1 view .LVU2675
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7847              		.loc 1 3656 8 is_stmt 0 view .LVU2676
 7848 0050 0128     		cmp	r0, #1
 7849 0052 38D0     		beq	.L649
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7850              		.loc 1 3656 41 is_stmt 1 discriminator 2 view .LVU2677
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7851              		.loc 1 3657 5 view .LVU2678
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7852              		.loc 1 3657 8 is_stmt 0 view .LVU2679
 7853 0054 B0F1FF3F 		cmp	r0, #-1
 7854 0058 3CD0     		beq	.L650
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7855              		.loc 1 3657 51 is_stmt 1 discriminator 2 view .LVU2680
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 7856              		.loc 1 3658 5 view .LVU2681
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 7857              		.loc 1 3658 15 is_stmt 0 view .LVU2682
 7858 005a E061     		str	r0, [r4, #28]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7859              		.loc 1 3659 5 is_stmt 1 view .LVU2683
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7860              		.loc 1 3659 16 is_stmt 0 view .LVU2684
 7861 005c A368     		ldr	r3, [r4, #8]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7862              		.loc 1 3659 8 view .LVU2685
 7863 005e 03B9     		cbnz	r3, .L626
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7864              		.loc 1 3659 30 is_stmt 1 discriminator 1 view .LVU2686
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7865              		.loc 1 3659 45 is_stmt 0 discriminator 1 view .LVU2687
 7866 0060 A060     		str	r0, [r4, #8]
 7867              	.L626:
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7868              		.loc 1 3664 4 is_stmt 1 view .LVU2688
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7869              		.loc 1 3664 8 is_stmt 0 view .LVU2689
ARM GAS  /tmp/ccSjSmmD.s 			page 283


 7870 0062 94F91430 		ldrsb	r3, [r4, #20]
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7871              		.loc 1 3664 7 view .LVU2690
 7872 0066 002B     		cmp	r3, #0
 7873 0068 3BDB     		blt	.L651
 7874              	.L634:
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7875              		.loc 1 3669 4 is_stmt 1 view .LVU2691
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7876              		.loc 1 3669 11 is_stmt 0 view .LVU2692
 7877 006a DDF80CB0 		ldr	fp, [sp, #12]
 7878 006e E169     		ldr	r1, [r4, #28]
 7879 0070 5846     		mov	r0, fp
 7880 0072 FFF7FEFF 		bl	clust2sect
 7881              	.LVL965:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7882              		.loc 1 3670 4 is_stmt 1 view .LVU2693
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7883              		.loc 1 3670 7 is_stmt 0 view .LVU2694
 7884 0076 8146     		mov	r9, r0
 7885 0078 0028     		cmp	r0, #0
 7886 007a 47D0     		beq	.L652
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7887              		.loc 1 3670 36 is_stmt 1 discriminator 2 view .LVU2695
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 7888              		.loc 1 3671 4 view .LVU2696
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 7889              		.loc 1 3671 9 is_stmt 0 view .LVU2697
 7890 007c B944     		add	r9, r9, r7
 7891              	.LVL966:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 7892              		.loc 1 3672 4 is_stmt 1 view .LVU2698
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 7893              		.loc 1 3672 7 is_stmt 0 view .LVU2699
 7894 007e 4FEA552A 		lsr	r10, r5, #9
 7895              	.LVL967:
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7896              		.loc 1 3673 4 is_stmt 1 view .LVU2700
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7897              		.loc 1 3673 7 is_stmt 0 view .LVU2701
 7898 0082 B5F5007F 		cmp	r5, #512
 7899 0086 5DD3     		bcc	.L637
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7900              		.loc 1 3674 5 is_stmt 1 view .LVU2702
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7901              		.loc 1 3674 15 is_stmt 0 view .LVU2703
 7902 0088 07EB0A03 		add	r3, r7, r10
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7903              		.loc 1 3674 24 view .LVU2704
 7904 008c BBF80A20 		ldrh	r2, [fp, #10]
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7905              		.loc 1 3674 8 view .LVU2705
 7906 0090 9342     		cmp	r3, r2
 7907 0092 01D9     		bls	.L638
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7908              		.loc 1 3675 6 is_stmt 1 view .LVU2706
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccSjSmmD.s 			page 284


 7909              		.loc 1 3675 9 is_stmt 0 view .LVU2707
 7910 0094 A2EB070A 		sub	r10, r2, r7
 7911              	.LVL968:
 7912              	.L638:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7913              		.loc 1 3677 5 is_stmt 1 view .LVU2708
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7914              		.loc 1 3677 9 is_stmt 0 view .LVU2709
 7915 0098 5346     		mov	r3, r10
 7916 009a 4A46     		mov	r2, r9
 7917 009c 3146     		mov	r1, r6
 7918 009e 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 7919 00a2 FFF7FEFF 		bl	disk_write
 7920              	.LVL969:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7921              		.loc 1 3677 8 discriminator 1 view .LVU2710
 7922 00a6 C0B3     		cbz	r0, .L639
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7923              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2711
 7924 00a8 4FF0010A 		mov	r10, #1
 7925              	.LVL970:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7926              		.loc 1 3677 57 is_stmt 0 discriminator 1 view .LVU2712
 7927 00ac 84F815A0 		strb	r10, [r4, #21]
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7928              		.loc 1 3677 57 is_stmt 1 view .LVU2713
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 7929              		.loc 1 3677 57 is_stmt 0 discriminator 1 view .LVU2714
 7930 00b0 CDF804A0 		str	r10, [sp, #4]
 7931              	.LVL971:
 7932              	.L623:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7933              		.loc 1 3723 1 view .LVU2715
 7934 00b4 0198     		ldr	r0, [sp, #4]
 7935 00b6 05B0     		add	sp, sp, #20
 7936              		.cfi_remember_state
 7937              		.cfi_def_cfa_offset 36
 7938              		@ sp needed
 7939 00b8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7940              	.LVL972:
 7941              	.L630:
 7942              		.cfi_restore_state
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7943              		.loc 1 3652 7 is_stmt 1 view .LVU2716
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7944              		.loc 1 3652 14 is_stmt 0 view .LVU2717
 7945 00bc E169     		ldr	r1, [r4, #28]
 7946 00be 2046     		mov	r0, r4
 7947 00c0 FFF7FEFF 		bl	create_chain
 7948              	.LVL973:
 7949 00c4 C1E7     		b	.L629
 7950              	.L649:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7951              		.loc 1 3656 20 is_stmt 1 discriminator 1 view .LVU2718
 7952 00c6 4FF0020A 		mov	r10, #2
 7953 00ca 84F815A0 		strb	r10, [r4, #21]
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
ARM GAS  /tmp/ccSjSmmD.s 			page 285


 7954              		.loc 1 3656 20 view .LVU2719
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7955              		.loc 1 3656 20 is_stmt 0 discriminator 1 view .LVU2720
 7956 00ce CDF804A0 		str	r10, [sp, #4]
 7957              	.LVL974:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7958              		.loc 1 3656 20 view .LVU2721
 7959 00d2 EFE7     		b	.L623
 7960              	.LVL975:
 7961              	.L650:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7962              		.loc 1 3657 29 is_stmt 1 discriminator 1 view .LVU2722
 7963 00d4 4FF0010A 		mov	r10, #1
 7964 00d8 84F815A0 		strb	r10, [r4, #21]
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7965              		.loc 1 3657 29 view .LVU2723
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7966              		.loc 1 3657 29 is_stmt 0 discriminator 1 view .LVU2724
 7967 00dc CDF804A0 		str	r10, [sp, #4]
 7968              	.LVL976:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 7969              		.loc 1 3657 29 view .LVU2725
 7970 00e0 E8E7     		b	.L623
 7971              	.LVL977:
 7972              	.L651:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7973              		.loc 1 3665 5 is_stmt 1 view .LVU2726
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7974              		.loc 1 3665 9 is_stmt 0 view .LVU2727
 7975 00e2 0123     		movs	r3, #1
 7976 00e4 226A     		ldr	r2, [r4, #32]
 7977 00e6 04F13001 		add	r1, r4, #48
 7978 00ea 0398     		ldr	r0, [sp, #12]
 7979 00ec 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7980 00ee FFF7FEFF 		bl	disk_write
 7981              	.LVL978:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7982              		.loc 1 3665 8 discriminator 1 view .LVU2728
 7983 00f2 20B9     		cbnz	r0, .L653
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7984              		.loc 1 3665 84 is_stmt 1 discriminator 2 view .LVU2729
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7985              		.loc 1 3666 5 view .LVU2730
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7986              		.loc 1 3666 7 is_stmt 0 view .LVU2731
 7987 00f4 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7988              		.loc 1 3666 14 view .LVU2732
 7989 00f6 03F07F03 		and	r3, r3, #127
 7990 00fa 2375     		strb	r3, [r4, #20]
 7991 00fc B5E7     		b	.L634
 7992              	.L653:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7993              		.loc 1 3665 62 is_stmt 1 discriminator 1 view .LVU2733
 7994 00fe 4FF0010A 		mov	r10, #1
 7995 0102 84F815A0 		strb	r10, [r4, #21]
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
ARM GAS  /tmp/ccSjSmmD.s 			page 286


 7996              		.loc 1 3665 62 view .LVU2734
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 7997              		.loc 1 3665 62 is_stmt 0 discriminator 1 view .LVU2735
 7998 0106 CDF804A0 		str	r10, [sp, #4]
 7999              	.LVL979:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8000              		.loc 1 3665 62 view .LVU2736
 8001 010a D3E7     		b	.L623
 8002              	.LVL980:
 8003              	.L652:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8004              		.loc 1 3670 15 is_stmt 1 discriminator 1 view .LVU2737
 8005 010c 4FF0020A 		mov	r10, #2
 8006 0110 84F815A0 		strb	r10, [r4, #21]
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8007              		.loc 1 3670 15 view .LVU2738
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8008              		.loc 1 3670 15 is_stmt 0 discriminator 1 view .LVU2739
 8009 0114 CDF804A0 		str	r10, [sp, #4]
 8010              	.LVL981:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8011              		.loc 1 3670 15 view .LVU2740
 8012 0118 CCE7     		b	.L623
 8013              	.LVL982:
 8014              	.L639:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8015              		.loc 1 3677 79 is_stmt 1 discriminator 2 view .LVU2741
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8016              		.loc 1 3685 5 view .LVU2742
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8017              		.loc 1 3685 11 is_stmt 0 view .LVU2743
 8018 011a 216A     		ldr	r1, [r4, #32]
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8019              		.loc 1 3685 18 view .LVU2744
 8020 011c A1EB0901 		sub	r1, r1, r9
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8021              		.loc 1 3685 8 view .LVU2745
 8022 0120 5145     		cmp	r1, r10
 8023 0122 02D3     		bcc	.L654
 8024              	.L640:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8025              		.loc 1 3691 5 is_stmt 1 view .LVU2746
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8026              		.loc 1 3691 10 is_stmt 0 view .LVU2747
 8027 0124 4FEA4A27 		lsl	r7, r10, #9
 8028              	.LVL983:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8029              		.loc 1 3692 5 is_stmt 1 view .LVU2748
 8030 0128 28E0     		b	.L641
 8031              	.LVL984:
 8032              	.L654:
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8033              		.loc 1 3686 6 view .LVU2749
 8034 012a 4FF40072 		mov	r2, #512
 8035 012e 06EB4121 		add	r1, r6, r1, lsl #9
 8036 0132 04F13000 		add	r0, r4, #48
 8037 0136 FFF7FEFF 		bl	mem_cpy
ARM GAS  /tmp/ccSjSmmD.s 			page 287


 8038              	.LVL985:
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8039              		.loc 1 3687 6 view .LVU2750
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8040              		.loc 1 3687 8 is_stmt 0 view .LVU2751
 8041 013a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8042              		.loc 1 3687 15 view .LVU2752
 8043 013c 03F07F03 		and	r3, r3, #127
 8044 0140 2375     		strb	r3, [r4, #20]
 8045 0142 EFE7     		b	.L640
 8046              	.L637:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8047              		.loc 1 3700 4 is_stmt 1 view .LVU2753
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8048              		.loc 1 3700 10 is_stmt 0 view .LVU2754
 8049 0144 236A     		ldr	r3, [r4, #32]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8050              		.loc 1 3700 7 view .LVU2755
 8051 0146 4B45     		cmp	r3, r9
 8052 0148 03D0     		beq	.L642
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8053              		.loc 1 3701 7 view .LVU2756
 8054 014a A269     		ldr	r2, [r4, #24]
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8055              		.loc 1 3701 23 view .LVU2757
 8056 014c E368     		ldr	r3, [r4, #12]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8057              		.loc 1 3700 25 discriminator 1 view .LVU2758
 8058 014e 9A42     		cmp	r2, r3
 8059 0150 3BD3     		bcc	.L655
 8060              	.L642:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8061              		.loc 1 3703 28 is_stmt 1 view .LVU2759
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8062              		.loc 1 3706 4 view .LVU2760
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8063              		.loc 1 3706 13 is_stmt 0 view .LVU2761
 8064 0152 C4F82090 		str	r9, [r4, #32]
 8065              	.LVL986:
 8066              	.L625:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8067              		.loc 1 3708 3 is_stmt 1 view .LVU2762
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8068              		.loc 1 3708 27 is_stmt 0 view .LVU2763
 8069 0156 A369     		ldr	r3, [r4, #24]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8070              		.loc 1 3708 34 view .LVU2764
 8071 0158 C3F30803 		ubfx	r3, r3, #0, #9
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8072              		.loc 1 3708 8 view .LVU2765
 8073 015c C3F50077 		rsb	r7, r3, #512
 8074              	.LVL987:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8075              		.loc 1 3709 3 is_stmt 1 view .LVU2766
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8076              		.loc 1 3709 6 is_stmt 0 view .LVU2767
ARM GAS  /tmp/ccSjSmmD.s 			page 288


 8077 0160 BD42     		cmp	r5, r7
 8078 0162 00D2     		bcs	.L643
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8079              		.loc 1 3709 24 discriminator 1 view .LVU2768
 8080 0164 2F46     		mov	r7, r5
 8081              	.LVL988:
 8082              	.L643:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8083              		.loc 1 3715 3 is_stmt 1 view .LVU2769
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8084              		.loc 1 3715 11 is_stmt 0 view .LVU2770
 8085 0166 04F13000 		add	r0, r4, #48
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8086              		.loc 1 3715 3 view .LVU2771
 8087 016a 3A46     		mov	r2, r7
 8088 016c 3146     		mov	r1, r6
 8089 016e 1844     		add	r0, r0, r3
 8090 0170 FFF7FEFF 		bl	mem_cpy
 8091              	.LVL989:
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8092              		.loc 1 3716 3 is_stmt 1 view .LVU2772
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8093              		.loc 1 3716 5 is_stmt 0 view .LVU2773
 8094 0174 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8095              		.loc 1 3716 12 view .LVU2774
 8096 0176 63F07F03 		orn	r3, r3, #127
 8097 017a 2375     		strb	r3, [r4, #20]
 8098              	.L641:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8099              		.loc 1 3636 124 is_stmt 1 view .LVU2775
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8100              		.loc 1 3636 9 is_stmt 0 view .LVU2776
 8101 017c 3E44     		add	r6, r6, r7
 8102              	.LVL990:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8103              		.loc 1 3636 20 view .LVU2777
 8104 017e A369     		ldr	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8105              		.loc 1 3636 27 view .LVU2778
 8106 0180 3B44     		add	r3, r3, r7
 8107 0182 A361     		str	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8108              		.loc 1 3636 73 view .LVU2779
 8109 0184 E268     		ldr	r2, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8110              		.loc 1 3636 94 view .LVU2780
 8111 0186 9342     		cmp	r3, r2
 8112 0188 38BF     		it	cc
 8113 018a 1346     		movcc	r3, r2
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8114              		.loc 1 3636 52 view .LVU2781
 8115 018c E360     		str	r3, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8116              		.loc 1 3636 113 view .LVU2782
 8117 018e D8F80030 		ldr	r3, [r8]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
ARM GAS  /tmp/ccSjSmmD.s 			page 289


 8118              		.loc 1 3636 117 view .LVU2783
 8119 0192 3B44     		add	r3, r3, r7
 8120 0194 C8F80030 		str	r3, [r8]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8121              		.loc 1 3636 130 view .LVU2784
 8122 0198 ED1B     		subs	r5, r5, r7
 8123              	.LVL991:
 8124              	.L644:
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 8125              		.loc 1 3635 11 is_stmt 1 view .LVU2785
 8126 019a 3DB3     		cbz	r5, .L631
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8127              		.loc 1 3637 3 view .LVU2786
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8128              		.loc 1 3637 9 is_stmt 0 view .LVU2787
 8129 019c A169     		ldr	r1, [r4, #24]
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8130              		.loc 1 3637 16 view .LVU2788
 8131 019e C1F30803 		ubfx	r3, r1, #0, #9
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8132              		.loc 1 3637 6 view .LVU2789
 8133 01a2 002B     		cmp	r3, #0
 8134 01a4 D7D1     		bne	.L625
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8135              		.loc 1 3638 4 is_stmt 1 view .LVU2790
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8136              		.loc 1 3638 43 is_stmt 0 view .LVU2791
 8137 01a6 039B     		ldr	r3, [sp, #12]
 8138 01a8 5F89     		ldrh	r7, [r3, #10]
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8139              		.loc 1 3638 51 view .LVU2792
 8140 01aa 013F     		subs	r7, r7, #1
 8141              	.LVL992:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8142              		.loc 1 3639 4 is_stmt 1 view .LVU2793
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8143              		.loc 1 3639 7 is_stmt 0 view .LVU2794
 8144 01ac 17EA5127 		ands	r7, r7, r1, lsr #9
 8145              	.LVL993:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8146              		.loc 1 3639 7 view .LVU2795
 8147 01b0 7FF457AF 		bne	.L626
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 8148              		.loc 1 3640 5 is_stmt 1 view .LVU2796
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 8149              		.loc 1 3640 8 is_stmt 0 view .LVU2797
 8150 01b4 0029     		cmp	r1, #0
 8151 01b6 7FF442AF 		bne	.L627
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 8152              		.loc 1 3641 6 is_stmt 1 view .LVU2798
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 8153              		.loc 1 3641 11 is_stmt 0 view .LVU2799
 8154 01ba A068     		ldr	r0, [r4, #8]
 8155              	.LVL994:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 8156              		.loc 1 3642 6 is_stmt 1 view .LVU2800
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
ARM GAS  /tmp/ccSjSmmD.s 			page 290


 8157              		.loc 1 3642 9 is_stmt 0 view .LVU2801
 8158 01bc 0028     		cmp	r0, #0
 8159 01be 7FF447AF 		bne	.L628
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8160              		.loc 1 3643 7 is_stmt 1 view .LVU2802
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8161              		.loc 1 3643 14 is_stmt 0 view .LVU2803
 8162 01c2 2046     		mov	r0, r4
 8163              	.LVL995:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8164              		.loc 1 3643 14 view .LVU2804
 8165 01c4 FFF7FEFF 		bl	create_chain
 8166              	.LVL996:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8167              		.loc 1 3643 14 view .LVU2805
 8168 01c8 3FE7     		b	.L629
 8169              	.LVL997:
 8170              	.L655:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 8171              		.loc 1 3702 5 view .LVU2806
 8172 01ca 0123     		movs	r3, #1
 8173 01cc 4A46     		mov	r2, r9
 8174 01ce 04F13001 		add	r1, r4, #48
 8175 01d2 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 8176 01d6 FFF7FEFF 		bl	disk_read
 8177              	.LVL998:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8178              		.loc 1 3701 32 view .LVU2807
 8179 01da 0028     		cmp	r0, #0
 8180 01dc B9D0     		beq	.L642
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8181              		.loc 1 3703 6 is_stmt 1 view .LVU2808
 8182 01de 4FF0010A 		mov	r10, #1
 8183              	.LVL999:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8184              		.loc 1 3703 6 is_stmt 0 view .LVU2809
 8185 01e2 84F815A0 		strb	r10, [r4, #21]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8186              		.loc 1 3703 6 is_stmt 1 view .LVU2810
 8187 01e6 CDF804A0 		str	r10, [sp, #4]
 8188              	.LVL1000:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8189              		.loc 1 3703 6 is_stmt 0 view .LVU2811
 8190 01ea 63E7     		b	.L623
 8191              	.LVL1001:
 8192              	.L631:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8193              		.loc 1 3720 2 is_stmt 1 view .LVU2812
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8194              		.loc 1 3720 4 is_stmt 0 view .LVU2813
 8195 01ec 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8196              		.loc 1 3720 11 view .LVU2814
 8197 01ee 43F04003 		orr	r3, r3, #64
 8198 01f2 2375     		strb	r3, [r4, #20]
3722:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8199              		.loc 1 3722 2 is_stmt 1 view .LVU2815
ARM GAS  /tmp/ccSjSmmD.s 			page 291


 8200 01f4 5EE7     		b	.L623
 8201              	.LVL1002:
 8202              	.L646:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8203              		.loc 1 3628 30 is_stmt 0 discriminator 1 view .LVU2816
 8204 01f6 0723     		movs	r3, #7
 8205 01f8 0193     		str	r3, [sp, #4]
 8206              	.LVL1003:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8207              		.loc 1 3628 30 discriminator 1 view .LVU2817
 8208 01fa 5BE7     		b	.L623
 8209              		.cfi_endproc
 8210              	.LFE180:
 8212              		.section	.text.putc_bfd,"ax",%progbits
 8213              		.align	1
 8214              		.syntax unified
 8215              		.thumb
 8216              		.thumb_func
 8218              	putc_bfd:
 8219              	.LVL1004:
 8220              	.LFB195:
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 8221              		.loc 1 5921 1 is_stmt 1 view -0
 8222              		.cfi_startproc
 8223              		@ args = 0, pretend = 0, frame = 8
 8224              		@ frame_needed = 0, uses_anonymous_args = 0
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 8225              		.loc 1 5921 1 is_stmt 0 view .LVU2819
 8226 0000 70B5     		push	{r4, r5, r6, lr}
 8227              		.cfi_def_cfa_offset 16
 8228              		.cfi_offset 4, -16
 8229              		.cfi_offset 5, -12
 8230              		.cfi_offset 6, -8
 8231              		.cfi_offset 14, -4
 8232 0002 82B0     		sub	sp, sp, #8
 8233              		.cfi_def_cfa_offset 24
 8234 0004 0446     		mov	r4, r0
 8235 0006 0D46     		mov	r5, r1
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 8236              		.loc 1 5922 2 is_stmt 1 view .LVU2820
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8237              		.loc 1 5923 2 view .LVU2821
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 8238              		.loc 1 5926 2 view .LVU2822
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 8239              		.loc 1 5926 5 is_stmt 0 view .LVU2823
 8240 0008 0A29     		cmp	r1, #10
 8241 000a 0DD0     		beq	.L663
 8242              	.LVL1005:
 8243              	.L657:
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 8244              		.loc 1 5930 2 is_stmt 1 view .LVU2824
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 8245              		.loc 1 5930 4 is_stmt 0 view .LVU2825
 8246 000c 6368     		ldr	r3, [r4, #4]
 8247              	.LVL1006:
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 292


 8248              		.loc 1 5931 2 is_stmt 1 view .LVU2826
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8249              		.loc 1 5931 5 is_stmt 0 view .LVU2827
 8250 000e 002B     		cmp	r3, #0
 8251 0010 08DB     		blt	.L656
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8252              		.loc 1 5960 2 is_stmt 1 view .LVU2828
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8253              		.loc 1 5960 11 is_stmt 0 view .LVU2829
 8254 0012 5E1C     		adds	r6, r3, #1
 8255              	.LVL1007:
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8256              		.loc 1 5960 15 view .LVU2830
 8257 0014 2344     		add	r3, r3, r4
 8258 0016 1D73     		strb	r5, [r3, #12]
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 8259              		.loc 1 5963 2 is_stmt 1 view .LVU2831
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 8260              		.loc 1 5963 5 is_stmt 0 view .LVU2832
 8261 0018 3C2E     		cmp	r6, #60
 8262 001a 09DC     		bgt	.L664
 8263              	.LVL1008:
 8264              	.L660:
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 8265              		.loc 1 5967 2 is_stmt 1 view .LVU2833
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 8266              		.loc 1 5967 10 is_stmt 0 view .LVU2834
 8267 001c 6660     		str	r6, [r4, #4]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8268              		.loc 1 5968 2 is_stmt 1 view .LVU2835
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8269              		.loc 1 5968 4 is_stmt 0 view .LVU2836
 8270 001e A368     		ldr	r3, [r4, #8]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8271              		.loc 1 5968 10 view .LVU2837
 8272 0020 0133     		adds	r3, r3, #1
 8273 0022 A360     		str	r3, [r4, #8]
 8274              	.LVL1009:
 8275              	.L656:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8276              		.loc 1 5969 1 view .LVU2838
 8277 0024 02B0     		add	sp, sp, #8
 8278              		.cfi_remember_state
 8279              		.cfi_def_cfa_offset 16
 8280              		@ sp needed
 8281 0026 70BD     		pop	{r4, r5, r6, pc}
 8282              	.LVL1010:
 8283              	.L663:
 8284              		.cfi_restore_state
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8285              		.loc 1 5927 3 is_stmt 1 view .LVU2839
 8286 0028 0D21     		movs	r1, #13
 8287              	.LVL1011:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8288              		.loc 1 5927 3 is_stmt 0 view .LVU2840
 8289 002a FFF7E9FF 		bl	putc_bfd
 8290              	.LVL1012:
ARM GAS  /tmp/ccSjSmmD.s 			page 293


5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8291              		.loc 1 5927 3 view .LVU2841
 8292 002e EDE7     		b	.L657
 8293              	.LVL1013:
 8294              	.L664:
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8295              		.loc 1 5964 3 is_stmt 1 view .LVU2842
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8296              		.loc 1 5964 21 is_stmt 0 view .LVU2843
 8297 0030 2146     		mov	r1, r4
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8298              		.loc 1 5964 3 view .LVU2844
 8299 0032 51F80C0B 		ldr	r0, [r1], #12
 8300 0036 01AB     		add	r3, sp, #4
 8301 0038 3246     		mov	r2, r6
 8302 003a FFF7FEFF 		bl	f_write
 8303              	.LVL1014:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8304              		.loc 1 5965 3 is_stmt 1 view .LVU2845
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8305              		.loc 1 5965 11 is_stmt 0 view .LVU2846
 8306 003e 019B     		ldr	r3, [sp, #4]
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8307              		.loc 1 5965 27 view .LVU2847
 8308 0040 9E42     		cmp	r6, r3
 8309 0042 02D0     		beq	.L665
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8310              		.loc 1 5965 27 discriminator 2 view .LVU2848
 8311 0044 4FF0FF36 		mov	r6, #-1
 8312              	.LVL1015:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8313              		.loc 1 5965 27 discriminator 2 view .LVU2849
 8314 0048 E8E7     		b	.L660
 8315              	.LVL1016:
 8316              	.L665:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8317              		.loc 1 5965 27 discriminator 1 view .LVU2850
 8318 004a 0026     		movs	r6, #0
 8319              	.LVL1017:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8320              		.loc 1 5965 27 discriminator 1 view .LVU2851
 8321 004c E6E7     		b	.L660
 8322              		.cfi_endproc
 8323              	.LFE195:
 8325              		.section	.text.putc_flush,"ax",%progbits
 8326              		.align	1
 8327              		.syntax unified
 8328              		.thumb
 8329              		.thumb_func
 8331              	putc_flush:
 8332              	.LVL1018:
 8333              	.LFB196:
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 8334              		.loc 1 5976 1 is_stmt 1 view -0
 8335              		.cfi_startproc
 8336              		@ args = 0, pretend = 0, frame = 8
 8337              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccSjSmmD.s 			page 294


5977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8338              		.loc 1 5977 2 view .LVU2853
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8339              		.loc 1 5979 2 view .LVU2854
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8340              		.loc 1 5979 11 is_stmt 0 view .LVU2855
 8341 0000 4268     		ldr	r2, [r0, #4]
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8342              		.loc 1 5979 5 view .LVU2856
 8343 0002 002A     		cmp	r2, #0
 8344 0004 10DB     		blt	.L668
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 8345              		.loc 1 5976 1 view .LVU2857
 8346 0006 10B5     		push	{r4, lr}
 8347              		.cfi_def_cfa_offset 8
 8348              		.cfi_offset 4, -8
 8349              		.cfi_offset 14, -4
 8350 0008 82B0     		sub	sp, sp, #8
 8351              		.cfi_def_cfa_offset 16
 8352 000a 0446     		mov	r4, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8353              		.loc 1 5980 24 view .LVU2858
 8354 000c 0146     		mov	r1, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8355              		.loc 1 5980 6 view .LVU2859
 8356 000e 51F80C0B 		ldr	r0, [r1], #12
 8357              	.LVL1019:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8358              		.loc 1 5980 6 view .LVU2860
 8359 0012 01AB     		add	r3, sp, #4
 8360 0014 FFF7FEFF 		bl	f_write
 8361              	.LVL1020:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8362              		.loc 1 5980 3 discriminator 1 view .LVU2861
 8363 0018 48B9     		cbnz	r0, .L669
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8364              		.loc 1 5981 14 view .LVU2862
 8365 001a 6268     		ldr	r2, [r4, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8366              		.loc 1 5981 20 view .LVU2863
 8367 001c 019B     		ldr	r3, [sp, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8368              		.loc 1 5981 3 view .LVU2864
 8369 001e 9A42     		cmp	r2, r3
 8370 0020 08D1     		bne	.L670
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8371              		.loc 1 5981 27 is_stmt 1 discriminator 1 view .LVU2865
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8372              		.loc 1 5981 36 is_stmt 0 discriminator 1 view .LVU2866
 8373 0022 A068     		ldr	r0, [r4, #8]
 8374              	.L666:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8375              		.loc 1 5983 1 view .LVU2867
 8376 0024 02B0     		add	sp, sp, #8
 8377              		.cfi_def_cfa_offset 8
 8378              		@ sp needed
 8379 0026 10BD     		pop	{r4, pc}
ARM GAS  /tmp/ccSjSmmD.s 			page 295


 8380              	.LVL1021:
 8381              	.L668:
 8382              		.cfi_def_cfa_offset 0
 8383              		.cfi_restore 4
 8384              		.cfi_restore 14
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8385              		.loc 1 5982 9 view .LVU2868
 8386 0028 4FF0FF30 		mov	r0, #-1
 8387              	.LVL1022:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8388              		.loc 1 5983 1 view .LVU2869
 8389 002c 7047     		bx	lr
 8390              	.LVL1023:
 8391              	.L669:
 8392              		.cfi_def_cfa_offset 16
 8393              		.cfi_offset 4, -8
 8394              		.cfi_offset 14, -4
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8395              		.loc 1 5982 9 view .LVU2870
 8396 002e 4FF0FF30 		mov	r0, #-1
 8397 0032 F7E7     		b	.L666
 8398              	.L670:
 8399 0034 4FF0FF30 		mov	r0, #-1
 8400 0038 F4E7     		b	.L666
 8401              		.cfi_endproc
 8402              	.LFE196:
 8404              		.section	.text.f_sync,"ax",%progbits
 8405              		.align	1
 8406              		.global	f_sync
 8407              		.syntax unified
 8408              		.thumb
 8409              		.thumb_func
 8411              	f_sync:
 8412              	.LVL1024:
 8413              	.LFB181:
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8414              		.loc 1 3735 1 is_stmt 1 view -0
 8415              		.cfi_startproc
 8416              		@ args = 0, pretend = 0, frame = 8
 8417              		@ frame_needed = 0, uses_anonymous_args = 0
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8418              		.loc 1 3735 1 is_stmt 0 view .LVU2872
 8419 0000 70B5     		push	{r4, r5, r6, lr}
 8420              		.cfi_def_cfa_offset 16
 8421              		.cfi_offset 4, -16
 8422              		.cfi_offset 5, -12
 8423              		.cfi_offset 6, -8
 8424              		.cfi_offset 14, -4
 8425 0002 82B0     		sub	sp, sp, #8
 8426              		.cfi_def_cfa_offset 24
 8427 0004 0446     		mov	r4, r0
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8428              		.loc 1 3736 2 is_stmt 1 view .LVU2873
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 8429              		.loc 1 3737 2 view .LVU2874
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8430              		.loc 1 3738 2 view .LVU2875
ARM GAS  /tmp/ccSjSmmD.s 			page 296


3739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8431              		.loc 1 3739 2 view .LVU2876
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8432              		.loc 1 3745 2 view .LVU2877
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8433              		.loc 1 3745 8 is_stmt 0 view .LVU2878
 8434 0006 01A9     		add	r1, sp, #4
 8435 0008 FFF7FEFF 		bl	validate
 8436              	.LVL1025:
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 8437              		.loc 1 3746 2 is_stmt 1 view .LVU2879
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 8438              		.loc 1 3746 5 is_stmt 0 view .LVU2880
 8439 000c 70B9     		cbnz	r0, .L676
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8440              		.loc 1 3747 3 is_stmt 1 view .LVU2881
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8441              		.loc 1 3747 9 is_stmt 0 view .LVU2882
 8442 000e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8443              		.loc 1 3747 6 view .LVU2883
 8444 0010 13F0400F 		tst	r3, #64
 8445 0014 0AD0     		beq	.L676
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 8446              		.loc 1 3749 4 is_stmt 1 view .LVU2884
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 8447              		.loc 1 3749 7 is_stmt 0 view .LVU2885
 8448 0016 13F0800F 		tst	r3, #128
 8449 001a 09D1     		bne	.L680
 8450              	.L677:
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8451              		.loc 1 3755 4 is_stmt 1 view .LVU2886
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8452              		.loc 1 3755 9 is_stmt 0 view .LVU2887
 8453 001c FFF7FEFF 		bl	get_fattime
 8454              	.LVL1026:
 8455 0020 0546     		mov	r5, r0
 8456              	.LVL1027:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8457              		.loc 1 3785 5 is_stmt 1 view .LVU2888
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8458              		.loc 1 3785 11 is_stmt 0 view .LVU2889
 8459 0022 616A     		ldr	r1, [r4, #36]
 8460 0024 0198     		ldr	r0, [sp, #4]
 8461              	.LVL1028:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8462              		.loc 1 3785 11 view .LVU2890
 8463 0026 FFF7FEFF 		bl	move_window
 8464              	.LVL1029:
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 8465              		.loc 1 3786 5 is_stmt 1 view .LVU2891
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 8466              		.loc 1 3786 8 is_stmt 0 view .LVU2892
 8467 002a 78B1     		cbz	r0, .L681
 8468              	.LVL1030:
 8469              	.L676:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 297


 8470              		.loc 1 3802 1 view .LVU2893
 8471 002c 02B0     		add	sp, sp, #8
 8472              		.cfi_remember_state
 8473              		.cfi_def_cfa_offset 16
 8474              		@ sp needed
 8475 002e 70BD     		pop	{r4, r5, r6, pc}
 8476              	.LVL1031:
 8477              	.L680:
 8478              		.cfi_restore_state
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8479              		.loc 1 3750 5 is_stmt 1 view .LVU2894
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8480              		.loc 1 3750 9 is_stmt 0 view .LVU2895
 8481 0030 0123     		movs	r3, #1
 8482 0032 226A     		ldr	r2, [r4, #32]
 8483 0034 04F13001 		add	r1, r4, #48
 8484 0038 0198     		ldr	r0, [sp, #4]
 8485 003a 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8486 003c FFF7FEFF 		bl	disk_write
 8487              	.LVL1032:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8488              		.loc 1 3750 8 discriminator 1 view .LVU2896
 8489 0040 40BB     		cbnz	r0, .L678
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8490              		.loc 1 3751 5 is_stmt 1 view .LVU2897
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8491              		.loc 1 3751 7 is_stmt 0 view .LVU2898
 8492 0042 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8493              		.loc 1 3751 14 view .LVU2899
 8494 0044 03F07F03 		and	r3, r3, #127
 8495 0048 2375     		strb	r3, [r4, #20]
 8496 004a E7E7     		b	.L677
 8497              	.LVL1033:
 8498              	.L681:
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 8499              		.loc 1 3787 6 is_stmt 1 view .LVU2900
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 8500              		.loc 1 3787 10 is_stmt 0 view .LVU2901
 8501 004c A66A     		ldr	r6, [r4, #40]
 8502              	.LVL1034:
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8503              		.loc 1 3788 6 is_stmt 1 view .LVU2902
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8504              		.loc 1 3788 9 is_stmt 0 view .LVU2903
 8505 004e F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8506              		.loc 1 3788 20 view .LVU2904
 8507 0050 43F02003 		orr	r3, r3, #32
 8508 0054 F372     		strb	r3, [r6, #11]
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 8509              		.loc 1 3789 6 is_stmt 1 view .LVU2905
 8510 0056 A268     		ldr	r2, [r4, #8]
 8511 0058 3146     		mov	r1, r6
 8512 005a 2068     		ldr	r0, [r4]
 8513              	.LVL1035:
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
ARM GAS  /tmp/ccSjSmmD.s 			page 298


 8514              		.loc 1 3789 6 is_stmt 0 view .LVU2906
 8515 005c FFF7FEFF 		bl	st_clust
 8516              	.LVL1036:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 8517              		.loc 1 3790 6 is_stmt 1 view .LVU2907
 8518 0060 E168     		ldr	r1, [r4, #12]
 8519 0062 06F11C00 		add	r0, r6, #28
 8520 0066 FFF7FEFF 		bl	st_dword
 8521              	.LVL1037:
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 8522              		.loc 1 3791 6 view .LVU2908
 8523 006a 2946     		mov	r1, r5
 8524 006c 06F11600 		add	r0, r6, #22
 8525 0070 FFF7FEFF 		bl	st_dword
 8526              	.LVL1038:
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 8527              		.loc 1 3792 6 view .LVU2909
 8528 0074 0021     		movs	r1, #0
 8529 0076 06F11200 		add	r0, r6, #18
 8530 007a FFF7FEFF 		bl	st_word
 8531              	.LVL1039:
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 8532              		.loc 1 3793 6 view .LVU2910
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 8533              		.loc 1 3793 16 is_stmt 0 view .LVU2911
 8534 007e 019B     		ldr	r3, [sp, #4]
 8535 0080 0122     		movs	r2, #1
 8536 0082 DA70     		strb	r2, [r3, #3]
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 8537              		.loc 1 3794 6 is_stmt 1 view .LVU2912
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 8538              		.loc 1 3794 12 is_stmt 0 view .LVU2913
 8539 0084 0198     		ldr	r0, [sp, #4]
 8540 0086 FFF7FEFF 		bl	sync_fs
 8541              	.LVL1040:
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8542              		.loc 1 3795 6 is_stmt 1 view .LVU2914
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8543              		.loc 1 3795 8 is_stmt 0 view .LVU2915
 8544 008a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8545              		.loc 1 3795 15 view .LVU2916
 8546 008c 23F04003 		bic	r3, r3, #64
 8547 0090 2375     		strb	r3, [r4, #20]
 8548 0092 CBE7     		b	.L676
 8549              	.LVL1041:
 8550              	.L678:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8551              		.loc 1 3750 62 discriminator 1 view .LVU2917
 8552 0094 0120     		movs	r0, #1
 8553 0096 C9E7     		b	.L676
 8554              		.cfi_endproc
 8555              	.LFE181:
 8557              		.section	.text.f_close,"ax",%progbits
 8558              		.align	1
 8559              		.global	f_close
 8560              		.syntax unified
ARM GAS  /tmp/ccSjSmmD.s 			page 299


 8561              		.thumb
 8562              		.thumb_func
 8564              	f_close:
 8565              	.LVL1042:
 8566              	.LFB182:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8567              		.loc 1 3816 1 is_stmt 1 view -0
 8568              		.cfi_startproc
 8569              		@ args = 0, pretend = 0, frame = 8
 8570              		@ frame_needed = 0, uses_anonymous_args = 0
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8571              		.loc 1 3816 1 is_stmt 0 view .LVU2919
 8572 0000 10B5     		push	{r4, lr}
 8573              		.cfi_def_cfa_offset 8
 8574              		.cfi_offset 4, -8
 8575              		.cfi_offset 14, -4
 8576 0002 82B0     		sub	sp, sp, #8
 8577              		.cfi_def_cfa_offset 16
 8578 0004 0446     		mov	r4, r0
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8579              		.loc 1 3817 2 is_stmt 1 view .LVU2920
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8580              		.loc 1 3818 2 view .LVU2921
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 8581              		.loc 1 3821 2 view .LVU2922
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 8582              		.loc 1 3821 8 is_stmt 0 view .LVU2923
 8583 0006 FFF7FEFF 		bl	f_sync
 8584              	.LVL1043:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8585              		.loc 1 3822 2 is_stmt 1 view .LVU2924
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8586              		.loc 1 3822 5 is_stmt 0 view .LVU2925
 8587 000a 08B1     		cbz	r0, .L685
 8588              	.L683:
 8589              	.LVL1044:
3839:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8590              		.loc 1 3839 2 is_stmt 1 view .LVU2926
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8591              		.loc 1 3840 1 is_stmt 0 view .LVU2927
 8592 000c 02B0     		add	sp, sp, #8
 8593              		.cfi_remember_state
 8594              		.cfi_def_cfa_offset 8
 8595              		@ sp needed
 8596 000e 10BD     		pop	{r4, pc}
 8597              	.LVL1045:
 8598              	.L685:
 8599              		.cfi_restore_state
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 8600              		.loc 1 3825 3 is_stmt 1 view .LVU2928
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 8601              		.loc 1 3825 9 is_stmt 0 view .LVU2929
 8602 0010 01A9     		add	r1, sp, #4
 8603 0012 2046     		mov	r0, r4
 8604 0014 FFF7FEFF 		bl	validate
 8605              	.LVL1046:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
ARM GAS  /tmp/ccSjSmmD.s 			page 300


 8606              		.loc 1 3826 3 is_stmt 1 view .LVU2930
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8607              		.loc 1 3826 6 is_stmt 0 view .LVU2931
 8608 0018 0028     		cmp	r0, #0
 8609 001a F7D1     		bne	.L683
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8610              		.loc 1 3828 4 is_stmt 1 view .LVU2932
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8611              		.loc 1 3828 10 is_stmt 0 view .LVU2933
 8612 001c 2069     		ldr	r0, [r4, #16]
 8613              	.LVL1047:
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8614              		.loc 1 3828 10 view .LVU2934
 8615 001e FFF7FEFF 		bl	dec_lock
 8616              	.LVL1048:
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8617              		.loc 1 3829 4 is_stmt 1 view .LVU2935
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8618              		.loc 1 3829 7 is_stmt 0 view .LVU2936
 8619 0022 0028     		cmp	r0, #0
 8620 0024 F2D1     		bne	.L683
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8621              		.loc 1 3832 5 is_stmt 1 view .LVU2937
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8622              		.loc 1 3832 16 is_stmt 0 view .LVU2938
 8623 0026 2060     		str	r0, [r4]
 8624 0028 F0E7     		b	.L683
 8625              		.cfi_endproc
 8626              	.LFE182:
 8628              		.section	.text.f_lseek,"ax",%progbits
 8629              		.align	1
 8630              		.global	f_lseek
 8631              		.syntax unified
 8632              		.thumb
 8633              		.thumb_func
 8635              	f_lseek:
 8636              	.LVL1049:
 8637              	.LFB183:
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8638              		.loc 1 4005 1 is_stmt 1 view -0
 8639              		.cfi_startproc
 8640              		@ args = 0, pretend = 0, frame = 8
 8641              		@ frame_needed = 0, uses_anonymous_args = 0
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8642              		.loc 1 4005 1 is_stmt 0 view .LVU2940
 8643 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8644              		.cfi_def_cfa_offset 36
 8645              		.cfi_offset 4, -36
 8646              		.cfi_offset 5, -32
 8647              		.cfi_offset 6, -28
 8648              		.cfi_offset 7, -24
 8649              		.cfi_offset 8, -20
 8650              		.cfi_offset 9, -16
 8651              		.cfi_offset 10, -12
 8652              		.cfi_offset 11, -8
 8653              		.cfi_offset 14, -4
 8654 0004 83B0     		sub	sp, sp, #12
ARM GAS  /tmp/ccSjSmmD.s 			page 301


 8655              		.cfi_def_cfa_offset 48
 8656 0006 0446     		mov	r4, r0
 8657 0008 0D46     		mov	r5, r1
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8658              		.loc 1 4006 2 is_stmt 1 view .LVU2941
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
 8659              		.loc 1 4007 2 view .LVU2942
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
 8660              		.loc 1 4008 2 view .LVU2943
4009:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 8661              		.loc 1 4009 2 view .LVU2944
4011:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8662              		.loc 1 4011 2 view .LVU2945
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 8663              		.loc 1 4014 2 view .LVU2946
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 8664              		.loc 1 4014 8 is_stmt 0 view .LVU2947
 8665 000a 01A9     		add	r1, sp, #4
 8666              	.LVL1050:
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 8667              		.loc 1 4014 8 view .LVU2948
 8668 000c FFF7FEFF 		bl	validate
 8669              	.LVL1051:
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8670              		.loc 1 4015 2 is_stmt 1 view .LVU2949
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8671              		.loc 1 4015 5 is_stmt 0 view .LVU2950
 8672 0010 0646     		mov	r6, r0
 8673 0012 78B9     		cbnz	r0, .L689
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8674              		.loc 1 4015 20 is_stmt 1 discriminator 1 view .LVU2951
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 8675              		.loc 1 4015 24 is_stmt 0 discriminator 1 view .LVU2952
 8676 0014 667D     		ldrb	r6, [r4, #21]	@ zero_extendqisi2
 8677              	.LVL1052:
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8678              		.loc 1 4021 2 is_stmt 1 view .LVU2953
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8679              		.loc 1 4021 5 is_stmt 0 view .LVU2954
 8680 0016 6EB9     		cbnz	r6, .L689
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 8681              		.loc 1 4024 2 is_stmt 1 view .LVU2955
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 8682              		.loc 1 4024 8 is_stmt 0 view .LVU2956
 8683 0018 E36A     		ldr	r3, [r4, #44]
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 8684              		.loc 1 4024 5 view .LVU2957
 8685 001a 002B     		cmp	r3, #0
 8686 001c 00F08980 		beq	.L690
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 8687              		.loc 1 4025 3 is_stmt 1 view .LVU2958
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 8688              		.loc 1 4025 6 is_stmt 0 view .LVU2959
 8689 0020 B5F1FF3F 		cmp	r5, #-1
 8690 0024 0AD0     		beq	.L730
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 8691              		.loc 1 4051 4 is_stmt 1 view .LVU2960
ARM GAS  /tmp/ccSjSmmD.s 			page 302


4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 8692              		.loc 1 4051 21 is_stmt 0 view .LVU2961
 8693 0026 E768     		ldr	r7, [r4, #12]
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 8694              		.loc 1 4051 7 view .LVU2962
 8695 0028 AF42     		cmp	r7, r5
 8696 002a 00D3     		bcc	.L698
 8697 002c 2F46     		mov	r7, r5
 8698              	.L698:
 8699              	.LVL1053:
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 8700              		.loc 1 4052 4 is_stmt 1 view .LVU2963
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 8701              		.loc 1 4052 13 is_stmt 0 view .LVU2964
 8702 002e A761     		str	r7, [r4, #24]
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 8703              		.loc 1 4053 4 is_stmt 1 view .LVU2965
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 8704              		.loc 1 4053 7 is_stmt 0 view .LVU2966
 8705 0030 002F     		cmp	r7, #0
 8706 0032 3FD1     		bne	.L731
 8707              	.LVL1054:
 8708              	.L689:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8709              		.loc 1 4153 1 view .LVU2967
 8710 0034 3046     		mov	r0, r6
 8711 0036 03B0     		add	sp, sp, #12
 8712              		.cfi_remember_state
 8713              		.cfi_def_cfa_offset 36
 8714              		@ sp needed
 8715 0038 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 8716              	.LVL1055:
 8717              	.L730:
 8718              		.cfi_restore_state
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 8719              		.loc 1 4026 4 is_stmt 1 view .LVU2968
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8720              		.loc 1 4027 4 view .LVU2969
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8721              		.loc 1 4027 15 is_stmt 0 view .LVU2970
 8722 003c 9846     		mov	r8, r3
 8723              	.LVL1056:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8724              		.loc 1 4027 9 view .LVU2971
 8725 003e 58F804BB 		ldr	fp, [r8], #4
 8726              	.LVL1057:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8727              		.loc 1 4027 19 is_stmt 1 view .LVU2972
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 8728              		.loc 1 4028 4 view .LVU2973
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 8729              		.loc 1 4028 7 is_stmt 0 view .LVU2974
 8730 0042 D4F808A0 		ldr	r10, [r4, #8]
 8731              	.LVL1058:
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8732              		.loc 1 4029 4 is_stmt 1 view .LVU2975
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
ARM GAS  /tmp/ccSjSmmD.s 			page 303


 8733              		.loc 1 4029 7 is_stmt 0 view .LVU2976
 8734 0046 BAF1000F 		cmp	r10, #0
 8735 004a 27D0     		beq	.L723
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8736              		.loc 1 4027 24 view .LVU2977
 8737 004c 4FF00209 		mov	r9, #2
 8738              	.LVL1059:
 8739              	.L697:
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 8740              		.loc 1 4030 5 is_stmt 1 view .LVU2978
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8741              		.loc 1 4032 6 view .LVU2979
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8742              		.loc 1 4032 16 view .LVU2980
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8743              		.loc 1 4032 25 view .LVU2981
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8744              		.loc 1 4032 30 is_stmt 0 view .LVU2982
 8745 0050 09F10209 		add	r9, r9, #2
 8746              	.LVL1060:
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8747              		.loc 1 4032 30 view .LVU2983
 8748 0054 5146     		mov	r1, r10
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8749              		.loc 1 4032 20 view .LVU2984
 8750 0056 0027     		movs	r7, #0
 8751              	.LVL1061:
 8752              	.L695:
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 8753              		.loc 1 4033 6 is_stmt 1 view .LVU2985
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 8754              		.loc 1 4034 7 view .LVU2986
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 8755              		.loc 1 4034 17 view .LVU2987
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 8756              		.loc 1 4034 20 is_stmt 0 view .LVU2988
 8757 0058 0137     		adds	r7, r7, #1
 8758              	.LVL1062:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 8759              		.loc 1 4035 7 is_stmt 1 view .LVU2989
 8760 005a 0D46     		mov	r5, r1
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 8761              		.loc 1 4035 12 is_stmt 0 view .LVU2990
 8762 005c 2046     		mov	r0, r4
 8763 005e FFF7FEFF 		bl	get_fat
 8764              	.LVL1063:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 8765              		.loc 1 4035 12 view .LVU2991
 8766 0062 0146     		mov	r1, r0
 8767              	.LVL1064:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8768              		.loc 1 4036 7 is_stmt 1 view .LVU2992
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8769              		.loc 1 4036 10 is_stmt 0 view .LVU2993
 8770 0064 0128     		cmp	r0, #1
 8771 0066 13D9     		bls	.L732
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
ARM GAS  /tmp/ccSjSmmD.s 			page 304


 8772              		.loc 1 4036 41 is_stmt 1 discriminator 2 view .LVU2994
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8773              		.loc 1 4037 7 view .LVU2995
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8774              		.loc 1 4037 10 is_stmt 0 view .LVU2996
 8775 0068 B0F1FF3F 		cmp	r0, #-1
 8776 006c 13D0     		beq	.L733
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8777              		.loc 1 4037 51 is_stmt 1 discriminator 2 view .LVU2997
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 8778              		.loc 1 4038 18 view .LVU2998
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 8779              		.loc 1 4038 25 is_stmt 0 view .LVU2999
 8780 006e 0135     		adds	r5, r5, #1
 8781              	.LVL1065:
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 8782              		.loc 1 4038 18 view .LVU3000
 8783 0070 8542     		cmp	r5, r0
 8784 0072 F1D0     		beq	.L695
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 8785              		.loc 1 4039 6 is_stmt 1 view .LVU3001
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 8786              		.loc 1 4039 9 is_stmt 0 view .LVU3002
 8787 0074 CB45     		cmp	fp, r9
 8788 0076 05D3     		bcc	.L696
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8789              		.loc 1 4040 7 is_stmt 1 view .LVU3003
 8790              	.LVL1066:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8791              		.loc 1 4040 14 is_stmt 0 view .LVU3004
 8792 0078 4346     		mov	r3, r8
 8793 007a 43F8087B 		str	r7, [r3], #8
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8794              		.loc 1 4040 21 is_stmt 1 view .LVU3005
 8795              	.LVL1067:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8796              		.loc 1 4040 28 is_stmt 0 view .LVU3006
 8797 007e C8F804A0 		str	r10, [r8, #4]
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8798              		.loc 1 4040 25 view .LVU3007
 8799 0082 9846     		mov	r8, r3
 8800              	.LVL1068:
 8801              	.L696:
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8802              		.loc 1 4042 17 is_stmt 1 view .LVU3008
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8803              		.loc 1 4042 21 is_stmt 0 view .LVU3009
 8804 0084 019B     		ldr	r3, [sp, #4]
 8805 0086 9B69     		ldr	r3, [r3, #24]
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8806              		.loc 1 4042 17 view .LVU3010
 8807 0088 8B42     		cmp	r3, r1
 8808 008a 09D9     		bls	.L692
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 8809              		.loc 1 4035 12 view .LVU3011
 8810 008c 8A46     		mov	r10, r1
 8811              	.LVL1069:
ARM GAS  /tmp/ccSjSmmD.s 			page 305


4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 8812              		.loc 1 4035 12 view .LVU3012
 8813 008e DFE7     		b	.L697
 8814              	.LVL1070:
 8815              	.L732:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8816              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU3013
 8817 0090 0226     		movs	r6, #2
 8818              	.LVL1071:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8819              		.loc 1 4036 20 is_stmt 0 discriminator 1 view .LVU3014
 8820 0092 6675     		strb	r6, [r4, #21]
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8821              		.loc 1 4036 20 is_stmt 1 view .LVU3015
 8822 0094 CEE7     		b	.L689
 8823              	.LVL1072:
 8824              	.L733:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8825              		.loc 1 4037 29 discriminator 1 view .LVU3016
 8826 0096 0126     		movs	r6, #1
 8827              	.LVL1073:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8828              		.loc 1 4037 29 is_stmt 0 discriminator 1 view .LVU3017
 8829 0098 6675     		strb	r6, [r4, #21]
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8830              		.loc 1 4037 29 is_stmt 1 view .LVU3018
 8831 009a CBE7     		b	.L689
 8832              	.LVL1074:
 8833              	.L723:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8834              		.loc 1 4027 24 is_stmt 0 view .LVU3019
 8835 009c 4FF00209 		mov	r9, #2
 8836              	.LVL1075:
 8837              	.L692:
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 8838              		.loc 1 4044 4 is_stmt 1 view .LVU3020
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 8839              		.loc 1 4044 7 is_stmt 0 view .LVU3021
 8840 00a0 E36A     		ldr	r3, [r4, #44]
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 8841              		.loc 1 4044 15 view .LVU3022
 8842 00a2 C3F80090 		str	r9, [r3]
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 8843              		.loc 1 4045 4 is_stmt 1 view .LVU3023
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 8844              		.loc 1 4045 7 is_stmt 0 view .LVU3024
 8845 00a6 D945     		cmp	r9, fp
 8846 00a8 00F2EC80 		bhi	.L725
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8847              		.loc 1 4046 5 is_stmt 1 view .LVU3025
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8848              		.loc 1 4046 10 is_stmt 0 view .LVU3026
 8849 00ac 0023     		movs	r3, #0
 8850 00ae C8F80030 		str	r3, [r8]
 8851 00b2 BFE7     		b	.L689
 8852              	.LVL1076:
 8853              	.L731:
ARM GAS  /tmp/ccSjSmmD.s 			page 306


4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 8854              		.loc 1 4054 5 is_stmt 1 view .LVU3027
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 8855              		.loc 1 4054 17 is_stmt 0 view .LVU3028
 8856 00b4 07F1FF38 		add	r8, r7, #-1
 8857 00b8 4146     		mov	r1, r8
 8858 00ba 2046     		mov	r0, r4
 8859 00bc FFF7FEFF 		bl	clmt_clust
 8860              	.LVL1077:
 8861 00c0 0146     		mov	r1, r0
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 8862              		.loc 1 4054 15 discriminator 1 view .LVU3029
 8863 00c2 E061     		str	r0, [r4, #28]
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 8864              		.loc 1 4055 5 is_stmt 1 view .LVU3030
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 8865              		.loc 1 4055 11 is_stmt 0 view .LVU3031
 8866 00c4 019D     		ldr	r5, [sp, #4]
 8867 00c6 2846     		mov	r0, r5
 8868 00c8 FFF7FEFF 		bl	clust2sect
 8869              	.LVL1078:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8870              		.loc 1 4056 5 is_stmt 1 view .LVU3032
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8871              		.loc 1 4056 8 is_stmt 0 view .LVU3033
 8872 00cc E0B1     		cbz	r0, .L734
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8873              		.loc 1 4056 36 is_stmt 1 discriminator 2 view .LVU3034
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8874              		.loc 1 4057 5 view .LVU3035
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8875              		.loc 1 4057 45 is_stmt 0 view .LVU3036
 8876 00ce 6989     		ldrh	r1, [r5, #10]
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8877              		.loc 1 4057 53 view .LVU3037
 8878 00d0 0139     		subs	r1, r1, #1
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8879              		.loc 1 4057 40 view .LVU3038
 8880 00d2 01EA5821 		and	r1, r1, r8, lsr #9
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8881              		.loc 1 4057 9 view .LVU3039
 8882 00d6 01EB0008 		add	r8, r1, r0
 8883              	.LVL1079:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8884              		.loc 1 4058 5 is_stmt 1 view .LVU3040
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8885              		.loc 1 4058 18 is_stmt 0 view .LVU3041
 8886 00da C7F30807 		ubfx	r7, r7, #0, #9
 8887              	.LVL1080:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8888              		.loc 1 4058 8 view .LVU3042
 8889 00de 002F     		cmp	r7, #0
 8890 00e0 A8D0     		beq	.L689
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8891              		.loc 1 4058 39 discriminator 1 view .LVU3043
 8892 00e2 226A     		ldr	r2, [r4, #32]
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
ARM GAS  /tmp/ccSjSmmD.s 			page 307


 8893              		.loc 1 4058 27 discriminator 1 view .LVU3044
 8894 00e4 4245     		cmp	r2, r8
 8895 00e6 A5D0     		beq	.L689
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8896              		.loc 1 4061 6 is_stmt 1 view .LVU3045
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8897              		.loc 1 4061 10 is_stmt 0 view .LVU3046
 8898 00e8 94F91430 		ldrsb	r3, [r4, #20]
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8899              		.loc 1 4061 9 view .LVU3047
 8900 00ec 002B     		cmp	r3, #0
 8901 00ee 0EDB     		blt	.L735
 8902              	.L700:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8903              		.loc 1 4066 6 is_stmt 1 view .LVU3048
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8904              		.loc 1 4066 10 is_stmt 0 view .LVU3049
 8905 00f0 0123     		movs	r3, #1
 8906 00f2 4246     		mov	r2, r8
 8907 00f4 04F13001 		add	r1, r4, #48
 8908 00f8 0198     		ldr	r0, [sp, #4]
 8909 00fa 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8910 00fc FFF7FEFF 		bl	disk_read
 8911              	.LVL1081:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8912              		.loc 1 4066 9 discriminator 1 view .LVU3050
 8913 0100 A0B9     		cbnz	r0, .L736
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8914              		.loc 1 4066 79 is_stmt 1 discriminator 2 view .LVU3051
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8915              		.loc 1 4068 6 view .LVU3052
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8916              		.loc 1 4068 15 is_stmt 0 view .LVU3053
 8917 0102 C4F82080 		str	r8, [r4, #32]
 8918 0106 95E7     		b	.L689
 8919              	.LVL1082:
 8920              	.L734:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8921              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU3054
 8922 0108 0226     		movs	r6, #2
 8923              	.LVL1083:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8924              		.loc 1 4056 15 is_stmt 0 discriminator 1 view .LVU3055
 8925 010a 6675     		strb	r6, [r4, #21]
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8926              		.loc 1 4056 15 is_stmt 1 view .LVU3056
 8927 010c 92E7     		b	.L689
 8928              	.LVL1084:
 8929              	.L735:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8930              		.loc 1 4062 7 view .LVU3057
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8931              		.loc 1 4062 11 is_stmt 0 view .LVU3058
 8932 010e 0123     		movs	r3, #1
 8933 0110 04F13001 		add	r1, r4, #48
 8934 0114 6878     		ldrb	r0, [r5, #1]	@ zero_extendqisi2
 8935 0116 FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/ccSjSmmD.s 			page 308


 8936              	.LVL1085:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8937              		.loc 1 4062 10 discriminator 1 view .LVU3059
 8938 011a 20B9     		cbnz	r0, .L737
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8939              		.loc 1 4062 86 is_stmt 1 discriminator 2 view .LVU3060
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8940              		.loc 1 4063 7 view .LVU3061
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8941              		.loc 1 4063 9 is_stmt 0 view .LVU3062
 8942 011c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8943              		.loc 1 4063 16 view .LVU3063
 8944 011e 03F07F03 		and	r3, r3, #127
 8945 0122 2375     		strb	r3, [r4, #20]
 8946 0124 E4E7     		b	.L700
 8947              	.L737:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8948              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU3064
 8949 0126 0126     		movs	r6, #1
 8950              	.LVL1086:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8951              		.loc 1 4062 64 is_stmt 0 discriminator 1 view .LVU3065
 8952 0128 6675     		strb	r6, [r4, #21]
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8953              		.loc 1 4062 64 is_stmt 1 view .LVU3066
 8954 012a 83E7     		b	.L689
 8955              	.LVL1087:
 8956              	.L736:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8957              		.loc 1 4066 57 discriminator 1 view .LVU3067
 8958 012c 0126     		movs	r6, #1
 8959              	.LVL1088:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8960              		.loc 1 4066 57 is_stmt 0 discriminator 1 view .LVU3068
 8961 012e 6675     		strb	r6, [r4, #21]
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8962              		.loc 1 4066 57 is_stmt 1 view .LVU3069
 8963 0130 80E7     		b	.L689
 8964              	.LVL1089:
 8965              	.L690:
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8966              		.loc 1 4080 3 view .LVU3070
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8967              		.loc 1 4080 20 is_stmt 0 view .LVU3071
 8968 0132 E368     		ldr	r3, [r4, #12]
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8969              		.loc 1 4080 6 view .LVU3072
 8970 0134 AB42     		cmp	r3, r5
 8971 0136 04D2     		bcs	.L703
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8972              		.loc 1 4080 53 discriminator 1 view .LVU3073
 8973 0138 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8974              		.loc 1 4080 29 discriminator 1 view .LVU3074
 8975 013a 12F0020F 		tst	r2, #2
 8976 013e 00D1     		bne	.L703
ARM GAS  /tmp/ccSjSmmD.s 			page 309


4081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8977              		.loc 1 4081 8 view .LVU3075
 8978 0140 1D46     		mov	r5, r3
 8979              	.LVL1090:
 8980              	.L703:
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 8981              		.loc 1 4083 3 is_stmt 1 view .LVU3076
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 8982              		.loc 1 4083 9 is_stmt 0 view .LVU3077
 8983 0142 A369     		ldr	r3, [r4, #24]
 8984              	.LVL1091:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8985              		.loc 1 4084 3 is_stmt 1 view .LVU3078
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8986              		.loc 1 4084 12 is_stmt 0 view .LVU3079
 8987 0144 0022     		movs	r2, #0
 8988 0146 A261     		str	r2, [r4, #24]
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 8989              		.loc 1 4085 3 is_stmt 1 view .LVU3080
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 8990              		.loc 1 4085 6 is_stmt 0 view .LVU3081
 8991 0148 DDB1     		cbz	r5, .L704
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 8992              		.loc 1 4086 4 is_stmt 1 view .LVU3082
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 8993              		.loc 1 4086 19 is_stmt 0 view .LVU3083
 8994 014a 019A     		ldr	r2, [sp, #4]
 8995 014c B2F80A80 		ldrh	r8, [r2, #10]
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 8996              		.loc 1 4086 8 view .LVU3084
 8997 0150 4FEA4828 		lsl	r8, r8, #9
 8998              	.LVL1092:
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 8999              		.loc 1 4087 4 is_stmt 1 view .LVU3085
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9000              		.loc 1 4087 7 is_stmt 0 view .LVU3086
 9001 0154 73B1     		cbz	r3, .L705
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9002              		.loc 1 4088 10 view .LVU3087
 9003 0156 6A1E     		subs	r2, r5, #1
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9004              		.loc 1 4088 15 view .LVU3088
 9005 0158 B2FBF8F2 		udiv	r2, r2, r8
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9006              		.loc 1 4088 31 view .LVU3089
 9007 015c 013B     		subs	r3, r3, #1
 9008              	.LVL1093:
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9009              		.loc 1 4088 36 view .LVU3090
 9010 015e B3FBF8F1 		udiv	r1, r3, r8
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9011              		.loc 1 4087 18 discriminator 1 view .LVU3091
 9012 0162 8A42     		cmp	r2, r1
 9013 0164 06D3     		bcc	.L705
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9014              		.loc 1 4089 5 is_stmt 1 view .LVU3092
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
ARM GAS  /tmp/ccSjSmmD.s 			page 310


 9015              		.loc 1 4089 30 is_stmt 0 view .LVU3093
 9016 0166 C8F10002 		rsb	r2, r8, #0
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9017              		.loc 1 4089 28 view .LVU3094
 9018 016a 1340     		ands	r3, r3, r2
 9019              	.LVL1094:
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9020              		.loc 1 4089 14 view .LVU3095
 9021 016c A361     		str	r3, [r4, #24]
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 9022              		.loc 1 4090 5 is_stmt 1 view .LVU3096
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 9023              		.loc 1 4090 9 is_stmt 0 view .LVU3097
 9024 016e EF1A     		subs	r7, r5, r3
 9025              	.LVL1095:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9026              		.loc 1 4091 5 is_stmt 1 view .LVU3098
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9027              		.loc 1 4091 10 is_stmt 0 view .LVU3099
 9028 0170 E569     		ldr	r5, [r4, #28]
 9029              	.LVL1096:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9030              		.loc 1 4091 10 view .LVU3100
 9031 0172 04E0     		b	.L706
 9032              	.LVL1097:
 9033              	.L705:
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9034              		.loc 1 4093 5 is_stmt 1 view .LVU3101
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9035              		.loc 1 4093 10 is_stmt 0 view .LVU3102
 9036 0174 A068     		ldr	r0, [r4, #8]
 9037              	.LVL1098:
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 9038              		.loc 1 4095 5 is_stmt 1 view .LVU3103
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 9039              		.loc 1 4095 8 is_stmt 0 view .LVU3104
 9040 0176 30B3     		cbz	r0, .L738
 9041              	.L707:
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9042              		.loc 1 4102 5 is_stmt 1 view .LVU3105
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9043              		.loc 1 4102 15 is_stmt 0 view .LVU3106
 9044 0178 E061     		str	r0, [r4, #28]
 9045 017a 2F46     		mov	r7, r5
 9046 017c 0546     		mov	r5, r0
 9047              	.LVL1099:
 9048              	.L706:
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 9049              		.loc 1 4104 4 is_stmt 1 view .LVU3107
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 9050              		.loc 1 4104 7 is_stmt 0 view .LVU3108
 9051 017e 002D     		cmp	r5, #0
 9052 0180 41D1     		bne	.L710
 9053              	.LVL1100:
 9054              	.L704:
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9055              		.loc 1 4134 3 is_stmt 1 view .LVU3109
ARM GAS  /tmp/ccSjSmmD.s 			page 311


4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9056              		.loc 1 4134 26 is_stmt 0 view .LVU3110
 9057 0182 A369     		ldr	r3, [r4, #24]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9058              		.loc 1 4134 42 view .LVU3111
 9059 0184 E268     		ldr	r2, [r4, #12]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9060              		.loc 1 4134 6 view .LVU3112
 9061 0186 9342     		cmp	r3, r2
 9062 0188 04D9     		bls	.L719
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 9063              		.loc 1 4135 4 is_stmt 1 view .LVU3113
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 9064              		.loc 1 4135 20 is_stmt 0 view .LVU3114
 9065 018a E360     		str	r3, [r4, #12]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9066              		.loc 1 4136 4 is_stmt 1 view .LVU3115
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9067              		.loc 1 4136 6 is_stmt 0 view .LVU3116
 9068 018c 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9069              		.loc 1 4136 13 view .LVU3117
 9070 018e 42F04002 		orr	r2, r2, #64
 9071 0192 2275     		strb	r2, [r4, #20]
 9072              	.L719:
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9073              		.loc 1 4138 3 is_stmt 1 view .LVU3118
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9074              		.loc 1 4138 16 is_stmt 0 view .LVU3119
 9075 0194 C3F30803 		ubfx	r3, r3, #0, #9
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9076              		.loc 1 4138 6 view .LVU3120
 9077 0198 002B     		cmp	r3, #0
 9078 019a 3FF44BAF 		beq	.L689
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9079              		.loc 1 4138 39 discriminator 1 view .LVU3121
 9080 019e 226A     		ldr	r2, [r4, #32]
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9081              		.loc 1 4138 25 discriminator 1 view .LVU3122
 9082 01a0 AA42     		cmp	r2, r5
 9083 01a2 3FF447AF 		beq	.L689
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9084              		.loc 1 4141 4 is_stmt 1 view .LVU3123
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9085              		.loc 1 4141 8 is_stmt 0 view .LVU3124
 9086 01a6 94F91430 		ldrsb	r3, [r4, #20]
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9087              		.loc 1 4141 7 view .LVU3125
 9088 01aa 002B     		cmp	r3, #0
 9089 01ac 57DB     		blt	.L739
 9090              	.L720:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9091              		.loc 1 4146 4 is_stmt 1 view .LVU3126
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9092              		.loc 1 4146 8 is_stmt 0 view .LVU3127
 9093 01ae 0123     		movs	r3, #1
 9094 01b0 2A46     		mov	r2, r5
ARM GAS  /tmp/ccSjSmmD.s 			page 312


 9095 01b2 04F13001 		add	r1, r4, #48
 9096 01b6 0198     		ldr	r0, [sp, #4]
 9097 01b8 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9098 01ba FFF7FEFF 		bl	disk_read
 9099              	.LVL1101:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9100              		.loc 1 4146 7 discriminator 1 view .LVU3128
 9101 01be 0028     		cmp	r0, #0
 9102 01c0 5DD1     		bne	.L740
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9103              		.loc 1 4146 79 is_stmt 1 discriminator 2 view .LVU3129
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9104              		.loc 1 4148 4 view .LVU3130
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9105              		.loc 1 4148 13 is_stmt 0 view .LVU3131
 9106 01c2 2562     		str	r5, [r4, #32]
 9107 01c4 36E7     		b	.L689
 9108              	.LVL1102:
 9109              	.L738:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9110              		.loc 1 4096 6 is_stmt 1 view .LVU3132
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9111              		.loc 1 4096 13 is_stmt 0 view .LVU3133
 9112 01c6 0021     		movs	r1, #0
 9113 01c8 2046     		mov	r0, r4
 9114              	.LVL1103:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9115              		.loc 1 4096 13 view .LVU3134
 9116 01ca FFF7FEFF 		bl	create_chain
 9117              	.LVL1104:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9118              		.loc 1 4097 6 is_stmt 1 view .LVU3135
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9119              		.loc 1 4097 9 is_stmt 0 view .LVU3136
 9120 01ce 0128     		cmp	r0, #1
 9121 01d0 04D0     		beq	.L741
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9122              		.loc 1 4097 42 is_stmt 1 discriminator 2 view .LVU3137
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9123              		.loc 1 4098 6 view .LVU3138
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9124              		.loc 1 4098 9 is_stmt 0 view .LVU3139
 9125 01d2 B0F1FF3F 		cmp	r0, #-1
 9126 01d6 04D0     		beq	.L742
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9127              		.loc 1 4098 52 is_stmt 1 discriminator 2 view .LVU3140
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9128              		.loc 1 4099 6 view .LVU3141
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9129              		.loc 1 4099 21 is_stmt 0 view .LVU3142
 9130 01d8 A060     		str	r0, [r4, #8]
 9131 01da CDE7     		b	.L707
 9132              	.L741:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9133              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU3143
 9134 01dc 0226     		movs	r6, #2
 9135              	.LVL1105:
ARM GAS  /tmp/ccSjSmmD.s 			page 313


4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9136              		.loc 1 4097 21 is_stmt 0 discriminator 1 view .LVU3144
 9137 01de 6675     		strb	r6, [r4, #21]
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9138              		.loc 1 4097 21 is_stmt 1 view .LVU3145
 9139 01e0 28E7     		b	.L689
 9140              	.LVL1106:
 9141              	.L742:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9142              		.loc 1 4098 30 discriminator 1 view .LVU3146
 9143 01e2 0126     		movs	r6, #1
 9144              	.LVL1107:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9145              		.loc 1 4098 30 is_stmt 0 discriminator 1 view .LVU3147
 9146 01e4 6675     		strb	r6, [r4, #21]
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9147              		.loc 1 4098 30 is_stmt 1 view .LVU3148
 9148 01e6 25E7     		b	.L689
 9149              	.LVL1108:
 9150              	.L711:
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9151              		.loc 1 4120 7 view .LVU3149
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9152              		.loc 1 4120 14 is_stmt 0 view .LVU3150
 9153 01e8 2946     		mov	r1, r5
 9154 01ea 2046     		mov	r0, r4
 9155 01ec FFF7FEFF 		bl	get_fat
 9156              	.LVL1109:
 9157 01f0 0546     		mov	r5, r0
 9158              	.LVL1110:
 9159              	.L713:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9160              		.loc 1 4122 6 is_stmt 1 view .LVU3151
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9161              		.loc 1 4122 9 is_stmt 0 view .LVU3152
 9162 01f2 B5F1FF3F 		cmp	r5, #-1
 9163 01f6 27D0     		beq	.L743
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9164              		.loc 1 4122 52 is_stmt 1 discriminator 2 view .LVU3153
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9165              		.loc 1 4123 6 view .LVU3154
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9166              		.loc 1 4123 9 is_stmt 0 view .LVU3155
 9167 01f8 012D     		cmp	r5, #1
 9168 01fa 28D9     		bls	.L715
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9169              		.loc 1 4123 33 discriminator 2 view .LVU3156
 9170 01fc 019B     		ldr	r3, [sp, #4]
 9171 01fe 9B69     		ldr	r3, [r3, #24]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9172              		.loc 1 4123 20 discriminator 2 view .LVU3157
 9173 0200 AB42     		cmp	r3, r5
 9174 0202 24D9     		bls	.L715
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9175              		.loc 1 4123 66 is_stmt 1 discriminator 4 view .LVU3158
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9176              		.loc 1 4124 6 view .LVU3159
ARM GAS  /tmp/ccSjSmmD.s 			page 314


4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9177              		.loc 1 4124 16 is_stmt 0 view .LVU3160
 9178 0204 E561     		str	r5, [r4, #28]
 9179              	.L710:
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 9180              		.loc 1 4105 16 is_stmt 1 view .LVU3161
 9181 0206 4745     		cmp	r7, r8
 9182 0208 10D9     		bls	.L712
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9183              		.loc 1 4106 6 view .LVU3162
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9184              		.loc 1 4106 10 is_stmt 0 view .LVU3163
 9185 020a A7EB0807 		sub	r7, r7, r8
 9186              	.LVL1111:
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9187              		.loc 1 4106 18 is_stmt 1 view .LVU3164
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9188              		.loc 1 4106 20 is_stmt 0 view .LVU3165
 9189 020e A369     		ldr	r3, [r4, #24]
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9190              		.loc 1 4106 27 view .LVU3166
 9191 0210 4344     		add	r3, r3, r8
 9192 0212 A361     		str	r3, [r4, #24]
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9193              		.loc 1 4108 6 is_stmt 1 view .LVU3167
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9194              		.loc 1 4108 12 is_stmt 0 view .LVU3168
 9195 0214 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9196              		.loc 1 4108 9 view .LVU3169
 9197 0216 13F0020F 		tst	r3, #2
 9198 021a E5D0     		beq	.L711
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
 9199              		.loc 1 4109 7 is_stmt 1 view .LVU3170
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 9200              		.loc 1 4113 7 view .LVU3171
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 9201              		.loc 1 4113 14 is_stmt 0 view .LVU3172
 9202 021c 2946     		mov	r1, r5
 9203 021e 2046     		mov	r0, r4
 9204 0220 FFF7FEFF 		bl	create_chain
 9205              	.LVL1112:
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 9206              		.loc 1 4114 7 is_stmt 1 view .LVU3173
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 9207              		.loc 1 4114 10 is_stmt 0 view .LVU3174
 9208 0224 0546     		mov	r5, r0
 9209 0226 0028     		cmp	r0, #0
 9210 0228 E3D1     		bne	.L713
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9211              		.loc 1 4115 12 view .LVU3175
 9212 022a 0746     		mov	r7, r0
 9213              	.LVL1113:
 9214              	.L712:
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 9215              		.loc 1 4126 5 is_stmt 1 view .LVU3176
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
ARM GAS  /tmp/ccSjSmmD.s 			page 315


 9216              		.loc 1 4126 7 is_stmt 0 view .LVU3177
 9217 022c A369     		ldr	r3, [r4, #24]
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 9218              		.loc 1 4126 14 view .LVU3178
 9219 022e 3B44     		add	r3, r3, r7
 9220 0230 A361     		str	r3, [r4, #24]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9221              		.loc 1 4127 5 is_stmt 1 view .LVU3179
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9222              		.loc 1 4127 13 is_stmt 0 view .LVU3180
 9223 0232 C7F30803 		ubfx	r3, r7, #0, #9
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9224              		.loc 1 4127 8 view .LVU3181
 9225 0236 83B1     		cbz	r3, .L728
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 9226              		.loc 1 4128 6 is_stmt 1 view .LVU3182
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 9227              		.loc 1 4128 14 is_stmt 0 view .LVU3183
 9228 0238 2946     		mov	r1, r5
 9229 023a 0198     		ldr	r0, [sp, #4]
 9230 023c FFF7FEFF 		bl	clust2sect
 9231              	.LVL1114:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9232              		.loc 1 4129 6 is_stmt 1 view .LVU3184
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9233              		.loc 1 4129 9 is_stmt 0 view .LVU3185
 9234 0240 40B1     		cbz	r0, .L744
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9235              		.loc 1 4129 39 is_stmt 1 discriminator 2 view .LVU3186
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9236              		.loc 1 4130 6 view .LVU3187
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9237              		.loc 1 4130 12 is_stmt 0 view .LVU3188
 9238 0242 00EB5725 		add	r5, r0, r7, lsr #9
 9239              	.LVL1115:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9240              		.loc 1 4130 12 view .LVU3189
 9241 0246 9CE7     		b	.L704
 9242              	.LVL1116:
 9243              	.L743:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9244              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU3190
 9245 0248 0126     		movs	r6, #1
 9246              	.LVL1117:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9247              		.loc 1 4122 30 is_stmt 0 discriminator 1 view .LVU3191
 9248 024a 6675     		strb	r6, [r4, #21]
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9249              		.loc 1 4122 30 is_stmt 1 view .LVU3192
 9250 024c F2E6     		b	.L689
 9251              	.LVL1118:
 9252              	.L715:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9253              		.loc 1 4123 45 discriminator 3 view .LVU3193
 9254 024e 0226     		movs	r6, #2
 9255              	.LVL1119:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
ARM GAS  /tmp/ccSjSmmD.s 			page 316


 9256              		.loc 1 4123 45 is_stmt 0 discriminator 3 view .LVU3194
 9257 0250 6675     		strb	r6, [r4, #21]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9258              		.loc 1 4123 45 is_stmt 1 view .LVU3195
 9259 0252 EFE6     		b	.L689
 9260              	.LVL1120:
 9261              	.L744:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9262              		.loc 1 4129 18 discriminator 1 view .LVU3196
 9263 0254 0226     		movs	r6, #2
 9264              	.LVL1121:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9265              		.loc 1 4129 18 is_stmt 0 discriminator 1 view .LVU3197
 9266 0256 6675     		strb	r6, [r4, #21]
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9267              		.loc 1 4129 18 is_stmt 1 view .LVU3198
 9268 0258 ECE6     		b	.L689
 9269              	.LVL1122:
 9270              	.L728:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9271              		.loc 1 4084 20 is_stmt 0 view .LVU3199
 9272 025a 1D46     		mov	r5, r3
 9273              	.LVL1123:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9274              		.loc 1 4084 20 view .LVU3200
 9275 025c 91E7     		b	.L704
 9276              	.LVL1124:
 9277              	.L739:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9278              		.loc 1 4142 5 is_stmt 1 view .LVU3201
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9279              		.loc 1 4142 9 is_stmt 0 view .LVU3202
 9280 025e 0123     		movs	r3, #1
 9281 0260 04F13001 		add	r1, r4, #48
 9282 0264 0198     		ldr	r0, [sp, #4]
 9283 0266 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9284 0268 FFF7FEFF 		bl	disk_write
 9285              	.LVL1125:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9286              		.loc 1 4142 8 discriminator 1 view .LVU3203
 9287 026c 20B9     		cbnz	r0, .L745
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9288              		.loc 1 4142 84 is_stmt 1 discriminator 2 view .LVU3204
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9289              		.loc 1 4143 5 view .LVU3205
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9290              		.loc 1 4143 7 is_stmt 0 view .LVU3206
 9291 026e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9292              		.loc 1 4143 14 view .LVU3207
 9293 0270 03F07F03 		and	r3, r3, #127
 9294 0274 2375     		strb	r3, [r4, #20]
 9295 0276 9AE7     		b	.L720
 9296              	.L745:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9297              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU3208
 9298 0278 0126     		movs	r6, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 317


 9299              	.LVL1126:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9300              		.loc 1 4142 62 is_stmt 0 discriminator 1 view .LVU3209
 9301 027a 6675     		strb	r6, [r4, #21]
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9302              		.loc 1 4142 62 is_stmt 1 view .LVU3210
 9303 027c DAE6     		b	.L689
 9304              	.LVL1127:
 9305              	.L740:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9306              		.loc 1 4146 57 discriminator 1 view .LVU3211
 9307 027e 0126     		movs	r6, #1
 9308              	.LVL1128:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9309              		.loc 1 4146 57 is_stmt 0 discriminator 1 view .LVU3212
 9310 0280 6675     		strb	r6, [r4, #21]
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9311              		.loc 1 4146 57 is_stmt 1 view .LVU3213
 9312 0282 D7E6     		b	.L689
 9313              	.LVL1129:
 9314              	.L725:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9315              		.loc 1 4048 9 is_stmt 0 view .LVU3214
 9316 0284 1126     		movs	r6, #17
 9317              	.LVL1130:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9318              		.loc 1 4048 9 view .LVU3215
 9319 0286 D5E6     		b	.L689
 9320              		.cfi_endproc
 9321              	.LFE183:
 9323              		.section	.text.f_opendir,"ax",%progbits
 9324              		.align	1
 9325              		.global	f_opendir
 9326              		.syntax unified
 9327              		.thumb
 9328              		.thumb_func
 9330              	f_opendir:
 9331              	.LVL1131:
 9332              	.LFB184:
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9333              		.loc 1 4166 1 is_stmt 1 view -0
 9334              		.cfi_startproc
 9335              		@ args = 0, pretend = 0, frame = 16
 9336              		@ frame_needed = 0, uses_anonymous_args = 0
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9337              		.loc 1 4166 1 is_stmt 0 view .LVU3217
 9338 0000 30B5     		push	{r4, r5, lr}
 9339              		.cfi_def_cfa_offset 12
 9340              		.cfi_offset 4, -12
 9341              		.cfi_offset 5, -8
 9342              		.cfi_offset 14, -4
 9343 0002 85B0     		sub	sp, sp, #20
 9344              		.cfi_def_cfa_offset 32
 9345 0004 0191     		str	r1, [sp, #4]
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9346              		.loc 1 4167 2 is_stmt 1 view .LVU3218
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
ARM GAS  /tmp/ccSjSmmD.s 			page 318


 9347              		.loc 1 4168 2 view .LVU3219
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9348              		.loc 1 4169 2 view .LVU3220
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9349              		.loc 1 4173 2 view .LVU3221
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9350              		.loc 1 4173 5 is_stmt 0 view .LVU3222
 9351 0006 0028     		cmp	r0, #0
 9352 0008 3FD0     		beq	.L753
 9353 000a 0546     		mov	r5, r0
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 9354              		.loc 1 4176 2 is_stmt 1 view .LVU3223
 9355              	.LVL1132:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9356              		.loc 1 4177 2 view .LVU3224
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9357              		.loc 1 4177 8 is_stmt 0 view .LVU3225
 9358 000c 0022     		movs	r2, #0
 9359 000e 03A9     		add	r1, sp, #12
 9360              	.LVL1133:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9361              		.loc 1 4177 8 view .LVU3226
 9362 0010 01A8     		add	r0, sp, #4
 9363              	.LVL1134:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9364              		.loc 1 4177 8 view .LVU3227
 9365 0012 FFF7FEFF 		bl	find_volume
 9366              	.LVL1135:
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 9367              		.loc 1 4178 2 is_stmt 1 view .LVU3228
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 9368              		.loc 1 4178 5 is_stmt 0 view .LVU3229
 9369 0016 0446     		mov	r4, r0
 9370 0018 20B1     		cbz	r0, .L758
 9371              	.LVL1136:
 9372              	.L748:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9373              		.loc 1 4220 20 is_stmt 1 discriminator 1 view .LVU3230
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9374              		.loc 1 4220 28 is_stmt 0 discriminator 1 view .LVU3231
 9375 001a 0023     		movs	r3, #0
 9376 001c 2B60     		str	r3, [r5]
 9377              	.LVL1137:
 9378              	.L747:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9379              		.loc 1 4223 1 view .LVU3232
 9380 001e 2046     		mov	r0, r4
 9381 0020 05B0     		add	sp, sp, #20
 9382              		.cfi_remember_state
 9383              		.cfi_def_cfa_offset 12
 9384              		@ sp needed
 9385 0022 30BD     		pop	{r4, r5, pc}
 9386              	.LVL1138:
 9387              	.L758:
 9388              		.cfi_restore_state
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9389              		.loc 1 4179 3 is_stmt 1 view .LVU3233
ARM GAS  /tmp/ccSjSmmD.s 			page 319


4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9390              		.loc 1 4179 11 is_stmt 0 view .LVU3234
 9391 0024 039B     		ldr	r3, [sp, #12]
 9392 0026 2B60     		str	r3, [r5]
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 9393              		.loc 1 4180 18 is_stmt 1 view .LVU3235
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9394              		.loc 1 4181 3 view .LVU3236
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9395              		.loc 1 4181 9 is_stmt 0 view .LVU3237
 9396 0028 0199     		ldr	r1, [sp, #4]
 9397 002a 2846     		mov	r0, r5
 9398              	.LVL1139:
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9399              		.loc 1 4181 9 view .LVU3238
 9400 002c FFF7FEFF 		bl	follow_path
 9401              	.LVL1140:
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 9402              		.loc 1 4182 3 is_stmt 1 view .LVU3239
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 9403              		.loc 1 4182 6 is_stmt 0 view .LVU3240
 9404 0030 0446     		mov	r4, r0
 9405 0032 18BB     		cbnz	r0, .L749
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9406              		.loc 1 4183 4 is_stmt 1 view .LVU3241
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9407              		.loc 1 4183 8 is_stmt 0 view .LVU3242
 9408 0034 95F92F30 		ldrsb	r3, [r5, #47]
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9409              		.loc 1 4183 7 view .LVU3243
 9410 0038 002B     		cmp	r3, #0
 9411 003a 08DB     		blt	.L750
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9412              		.loc 1 4184 5 is_stmt 1 view .LVU3244
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9413              		.loc 1 4184 12 is_stmt 0 view .LVU3245
 9414 003c AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9415              		.loc 1 4184 8 view .LVU3246
 9416 003e 13F0100F 		tst	r3, #16
 9417 0042 1AD0     		beq	.L754
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9418              		.loc 1 4196 7 is_stmt 1 view .LVU3247
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9419              		.loc 1 4196 21 is_stmt 0 view .LVU3248
 9420 0044 296A     		ldr	r1, [r5, #32]
 9421 0046 0398     		ldr	r0, [sp, #12]
 9422              	.LVL1141:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9423              		.loc 1 4196 21 view .LVU3249
 9424 0048 FFF7FEFF 		bl	ld_clust
 9425              	.LVL1142:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9426              		.loc 1 4196 19 discriminator 1 view .LVU3250
 9427 004c A860     		str	r0, [r5, #8]
 9428              	.L750:
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
ARM GAS  /tmp/ccSjSmmD.s 			page 320


 9429              		.loc 1 4202 4 is_stmt 1 view .LVU3251
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9430              		.loc 1 4203 5 view .LVU3252
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9431              		.loc 1 4203 17 is_stmt 0 view .LVU3253
 9432 004e 039B     		ldr	r3, [sp, #12]
 9433 0050 DB88     		ldrh	r3, [r3, #6]
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9434              		.loc 1 4203 13 view .LVU3254
 9435 0052 AB80     		strh	r3, [r5, #4]	@ movhi
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9436              		.loc 1 4204 5 is_stmt 1 view .LVU3255
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9437              		.loc 1 4204 11 is_stmt 0 view .LVU3256
 9438 0054 0021     		movs	r1, #0
 9439 0056 2846     		mov	r0, r5
 9440 0058 FFF7FEFF 		bl	dir_sdi
 9441              	.LVL1143:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 9442              		.loc 1 4206 5 is_stmt 1 view .LVU3257
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 9443              		.loc 1 4206 8 is_stmt 0 view .LVU3258
 9444 005c 0446     		mov	r4, r0
 9445 005e 68B9     		cbnz	r0, .L749
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9446              		.loc 1 4207 6 is_stmt 1 view .LVU3259
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9447              		.loc 1 4207 13 is_stmt 0 view .LVU3260
 9448 0060 AB68     		ldr	r3, [r5, #8]
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9449              		.loc 1 4207 9 view .LVU3261
 9450 0062 13B9     		cbnz	r3, .L759
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9451              		.loc 1 4211 7 is_stmt 1 view .LVU3262
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9452              		.loc 1 4211 19 is_stmt 0 view .LVU3263
 9453 0064 0023     		movs	r3, #0
 9454 0066 2B61     		str	r3, [r5, #16]
 9455 0068 08E0     		b	.L749
 9456              	.L759:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9457              		.loc 1 4208 7 is_stmt 1 view .LVU3264
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9458              		.loc 1 4208 21 is_stmt 0 view .LVU3265
 9459 006a 0021     		movs	r1, #0
 9460 006c 2846     		mov	r0, r5
 9461              	.LVL1144:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9462              		.loc 1 4208 21 view .LVU3266
 9463 006e FFF7FEFF 		bl	inc_lock
 9464              	.LVL1145:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9465              		.loc 1 4208 19 discriminator 1 view .LVU3267
 9466 0072 2861     		str	r0, [r5, #16]
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9467              		.loc 1 4209 7 is_stmt 1 view .LVU3268
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
ARM GAS  /tmp/ccSjSmmD.s 			page 321


 9468              		.loc 1 4209 10 is_stmt 0 view .LVU3269
 9469 0074 10B9     		cbnz	r0, .L749
 9470              	.LVL1146:
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9471              		.loc 1 4209 29 discriminator 1 view .LVU3270
 9472 0076 1224     		movs	r4, #18
 9473 0078 02E0     		b	.L752
 9474              	.LVL1147:
 9475              	.L754:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9476              		.loc 1 4199 10 view .LVU3271
 9477 007a 0524     		movs	r4, #5
 9478              	.LVL1148:
 9479              	.L749:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 9480              		.loc 1 4217 16 is_stmt 1 view .LVU3272
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9481              		.loc 1 4218 3 view .LVU3273
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9482              		.loc 1 4218 6 is_stmt 0 view .LVU3274
 9483 007c 042C     		cmp	r4, #4
 9484 007e 02D0     		beq	.L760
 9485              	.LVL1149:
 9486              	.L752:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9487              		.loc 1 4220 2 is_stmt 1 view .LVU3275
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9488              		.loc 1 4220 5 is_stmt 0 view .LVU3276
 9489 0080 002C     		cmp	r4, #0
 9490 0082 CCD0     		beq	.L747
 9491 0084 C9E7     		b	.L748
 9492              	.L760:
 9493              	.LVL1150:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9494              		.loc 1 4218 30 discriminator 1 view .LVU3277
 9495 0086 0524     		movs	r4, #5
 9496 0088 C7E7     		b	.L748
 9497              	.LVL1151:
 9498              	.L753:
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9499              		.loc 1 4173 18 discriminator 1 view .LVU3278
 9500 008a 0924     		movs	r4, #9
 9501 008c C7E7     		b	.L747
 9502              		.cfi_endproc
 9503              	.LFE184:
 9505              		.section	.text.f_closedir,"ax",%progbits
 9506              		.align	1
 9507              		.global	f_closedir
 9508              		.syntax unified
 9509              		.thumb
 9510              		.thumb_func
 9512              	f_closedir:
 9513              	.LVL1152:
 9514              	.LFB185:
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9515              		.loc 1 4235 1 is_stmt 1 view -0
 9516              		.cfi_startproc
ARM GAS  /tmp/ccSjSmmD.s 			page 322


 9517              		@ args = 0, pretend = 0, frame = 8
 9518              		@ frame_needed = 0, uses_anonymous_args = 0
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9519              		.loc 1 4235 1 is_stmt 0 view .LVU3280
 9520 0000 10B5     		push	{r4, lr}
 9521              		.cfi_def_cfa_offset 8
 9522              		.cfi_offset 4, -8
 9523              		.cfi_offset 14, -4
 9524 0002 82B0     		sub	sp, sp, #8
 9525              		.cfi_def_cfa_offset 16
 9526 0004 0446     		mov	r4, r0
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9527              		.loc 1 4236 2 is_stmt 1 view .LVU3281
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9528              		.loc 1 4237 2 view .LVU3282
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9529              		.loc 1 4240 2 view .LVU3283
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9530              		.loc 1 4240 8 is_stmt 0 view .LVU3284
 9531 0006 01A9     		add	r1, sp, #4
 9532 0008 FFF7FEFF 		bl	validate
 9533              	.LVL1153:
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9534              		.loc 1 4241 2 is_stmt 1 view .LVU3285
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9535              		.loc 1 4241 5 is_stmt 0 view .LVU3286
 9536 000c 20B9     		cbnz	r0, .L762
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9537              		.loc 1 4243 3 is_stmt 1 view .LVU3287
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9538              		.loc 1 4243 14 is_stmt 0 view .LVU3288
 9539 000e 2369     		ldr	r3, [r4, #16]
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9540              		.loc 1 4243 6 view .LVU3289
 9541 0010 23B9     		cbnz	r3, .L765
 9542              	.L763:
 9543              	.LVL1154:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9544              		.loc 1 4246 3 is_stmt 1 view .LVU3290
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9545              		.loc 1 4246 6 is_stmt 0 view .LVU3291
 9546 0012 08B9     		cbnz	r0, .L762
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9547              		.loc 1 4249 4 is_stmt 1 view .LVU3292
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9548              		.loc 1 4249 15 is_stmt 0 view .LVU3293
 9549 0014 0023     		movs	r3, #0
 9550 0016 2360     		str	r3, [r4]
 9551              	.LVL1155:
 9552              	.L762:
4255:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9553              		.loc 1 4255 2 is_stmt 1 view .LVU3294
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9554              		.loc 1 4256 1 is_stmt 0 view .LVU3295
 9555 0018 02B0     		add	sp, sp, #8
 9556              		.cfi_remember_state
 9557              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccSjSmmD.s 			page 323


 9558              		@ sp needed
 9559 001a 10BD     		pop	{r4, pc}
 9560              	.LVL1156:
 9561              	.L765:
 9562              		.cfi_restore_state
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9563              		.loc 1 4244 4 is_stmt 1 view .LVU3296
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9564              		.loc 1 4244 10 is_stmt 0 view .LVU3297
 9565 001c 1846     		mov	r0, r3
 9566 001e FFF7FEFF 		bl	dec_lock
 9567              	.LVL1157:
 9568 0022 F6E7     		b	.L763
 9569              		.cfi_endproc
 9570              	.LFE185:
 9572              		.section	.text.f_readdir,"ax",%progbits
 9573              		.align	1
 9574              		.global	f_readdir
 9575              		.syntax unified
 9576              		.thumb
 9577              		.thumb_func
 9579              	f_readdir:
 9580              	.LVL1158:
 9581              	.LFB186:
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9582              		.loc 1 4269 1 is_stmt 1 view -0
 9583              		.cfi_startproc
 9584              		@ args = 0, pretend = 0, frame = 8
 9585              		@ frame_needed = 0, uses_anonymous_args = 0
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9586              		.loc 1 4269 1 is_stmt 0 view .LVU3299
 9587 0000 70B5     		push	{r4, r5, r6, lr}
 9588              		.cfi_def_cfa_offset 16
 9589              		.cfi_offset 4, -16
 9590              		.cfi_offset 5, -12
 9591              		.cfi_offset 6, -8
 9592              		.cfi_offset 14, -4
 9593 0002 82B0     		sub	sp, sp, #8
 9594              		.cfi_def_cfa_offset 24
 9595 0004 0446     		mov	r4, r0
 9596 0006 0D46     		mov	r5, r1
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9597              		.loc 1 4270 2 is_stmt 1 view .LVU3300
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9598              		.loc 1 4271 2 view .LVU3301
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9599              		.loc 1 4275 2 view .LVU3302
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9600              		.loc 1 4275 8 is_stmt 0 view .LVU3303
 9601 0008 01A9     		add	r1, sp, #4
 9602              	.LVL1159:
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9603              		.loc 1 4275 8 view .LVU3304
 9604 000a FFF7FEFF 		bl	validate
 9605              	.LVL1160:
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 9606              		.loc 1 4276 2 is_stmt 1 view .LVU3305
ARM GAS  /tmp/ccSjSmmD.s 			page 324


4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 9607              		.loc 1 4276 5 is_stmt 0 view .LVU3306
 9608 000e 0646     		mov	r6, r0
 9609 0010 C0B9     		cbnz	r0, .L767
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 9610              		.loc 1 4277 3 is_stmt 1 view .LVU3307
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 9611              		.loc 1 4277 6 is_stmt 0 view .LVU3308
 9612 0012 95B1     		cbz	r5, .L772
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 9613              		.loc 1 4280 19 is_stmt 1 view .LVU3309
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9614              		.loc 1 4281 4 view .LVU3310
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9615              		.loc 1 4281 10 is_stmt 0 view .LVU3311
 9616 0014 0021     		movs	r1, #0
 9617 0016 2046     		mov	r0, r4
 9618              	.LVL1161:
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9619              		.loc 1 4281 10 view .LVU3312
 9620 0018 FFF7FEFF 		bl	dir_read
 9621              	.LVL1162:
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 9622              		.loc 1 4282 4 is_stmt 1 view .LVU3313
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 9623              		.loc 1 4282 7 is_stmt 0 view .LVU3314
 9624 001c 0428     		cmp	r0, #4
 9625 001e 00D0     		beq	.L769
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 9626              		.loc 1 4283 4 is_stmt 1 view .LVU3315
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 9627              		.loc 1 4283 7 is_stmt 0 view .LVU3316
 9628 0020 98B9     		cbnz	r0, .L770
 9629              	.L769:
 9630              	.LVL1163:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 9631              		.loc 1 4284 5 is_stmt 1 view .LVU3317
 9632 0022 2946     		mov	r1, r5
 9633 0024 2046     		mov	r0, r4
 9634 0026 FFF7FEFF 		bl	get_fileinfo
 9635              	.LVL1164:
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 9636              		.loc 1 4285 5 view .LVU3318
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 9637              		.loc 1 4285 11 is_stmt 0 view .LVU3319
 9638 002a 0021     		movs	r1, #0
 9639 002c 2046     		mov	r0, r4
 9640 002e FFF7FEFF 		bl	dir_next
 9641              	.LVL1165:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9642              		.loc 1 4286 5 is_stmt 1 view .LVU3320
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9643              		.loc 1 4286 8 is_stmt 0 view .LVU3321
 9644 0032 0428     		cmp	r0, #4
 9645 0034 06D0     		beq	.L767
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 9646              		.loc 1 4285 11 view .LVU3322
ARM GAS  /tmp/ccSjSmmD.s 			page 325


 9647 0036 0646     		mov	r6, r0
 9648 0038 04E0     		b	.L767
 9649              	.L772:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9650              		.loc 1 4278 4 is_stmt 1 view .LVU3323
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9651              		.loc 1 4278 10 is_stmt 0 view .LVU3324
 9652 003a 0021     		movs	r1, #0
 9653 003c 2046     		mov	r0, r4
 9654              	.LVL1166:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9655              		.loc 1 4278 10 view .LVU3325
 9656 003e FFF7FEFF 		bl	dir_sdi
 9657              	.LVL1167:
 9658 0042 0646     		mov	r6, r0
 9659              	.LVL1168:
 9660              	.L767:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9661              		.loc 1 4288 17 is_stmt 1 view .LVU3326
4291:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9662              		.loc 1 4291 2 view .LVU3327
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9663              		.loc 1 4292 1 is_stmt 0 view .LVU3328
 9664 0044 3046     		mov	r0, r6
 9665 0046 02B0     		add	sp, sp, #8
 9666              		.cfi_remember_state
 9667              		.cfi_def_cfa_offset 16
 9668              		@ sp needed
 9669 0048 70BD     		pop	{r4, r5, r6, pc}
 9670              	.LVL1169:
 9671              	.L770:
 9672              		.cfi_restore_state
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9673              		.loc 1 4292 1 view .LVU3329
 9674 004a 0646     		mov	r6, r0
 9675 004c FAE7     		b	.L767
 9676              		.cfi_endproc
 9677              	.LFE186:
 9679              		.section	.text.f_stat,"ax",%progbits
 9680              		.align	1
 9681              		.global	f_stat
 9682              		.syntax unified
 9683              		.thumb
 9684              		.thumb_func
 9686              	f_stat:
 9687              	.LVL1170:
 9688              	.LFB187:
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9689              		.loc 1 4357 1 is_stmt 1 view -0
 9690              		.cfi_startproc
 9691              		@ args = 0, pretend = 0, frame = 64
 9692              		@ frame_needed = 0, uses_anonymous_args = 0
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9693              		.loc 1 4357 1 is_stmt 0 view .LVU3331
 9694 0000 30B5     		push	{r4, r5, lr}
 9695              		.cfi_def_cfa_offset 12
 9696              		.cfi_offset 4, -12
ARM GAS  /tmp/ccSjSmmD.s 			page 326


 9697              		.cfi_offset 5, -8
 9698              		.cfi_offset 14, -4
 9699 0002 91B0     		sub	sp, sp, #68
 9700              		.cfi_def_cfa_offset 80
 9701 0004 0190     		str	r0, [sp, #4]
 9702 0006 0C46     		mov	r4, r1
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9703              		.loc 1 4358 2 is_stmt 1 view .LVU3332
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9704              		.loc 1 4359 2 view .LVU3333
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9705              		.loc 1 4364 2 view .LVU3334
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9706              		.loc 1 4364 8 is_stmt 0 view .LVU3335
 9707 0008 0022     		movs	r2, #0
 9708 000a 03A9     		add	r1, sp, #12
 9709              	.LVL1171:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9710              		.loc 1 4364 8 view .LVU3336
 9711 000c 01A8     		add	r0, sp, #4
 9712              	.LVL1172:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9713              		.loc 1 4364 8 view .LVU3337
 9714 000e FFF7FEFF 		bl	find_volume
 9715              	.LVL1173:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 9716              		.loc 1 4365 2 is_stmt 1 view .LVU3338
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 9717              		.loc 1 4365 5 is_stmt 0 view .LVU3339
 9718 0012 0546     		mov	r5, r0
 9719 0014 10B1     		cbz	r0, .L777
 9720              	.LVL1174:
 9721              	.L774:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9722              		.loc 1 4375 16 is_stmt 1 view .LVU3340
4378:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9723              		.loc 1 4378 2 view .LVU3341
4379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9724              		.loc 1 4379 1 is_stmt 0 view .LVU3342
 9725 0016 2846     		mov	r0, r5
 9726 0018 11B0     		add	sp, sp, #68
 9727              		.cfi_remember_state
 9728              		.cfi_def_cfa_offset 12
 9729              		@ sp needed
 9730 001a 30BD     		pop	{r4, r5, pc}
 9731              	.LVL1175:
 9732              	.L777:
 9733              		.cfi_restore_state
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 9734              		.loc 1 4366 25 is_stmt 1 view .LVU3343
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 9735              		.loc 1 4367 3 view .LVU3344
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 9736              		.loc 1 4367 9 is_stmt 0 view .LVU3345
 9737 001c 0199     		ldr	r1, [sp, #4]
 9738 001e 03A8     		add	r0, sp, #12
 9739              	.LVL1176:
ARM GAS  /tmp/ccSjSmmD.s 			page 327


4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 9740              		.loc 1 4367 9 view .LVU3346
 9741 0020 FFF7FEFF 		bl	follow_path
 9742              	.LVL1177:
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 9743              		.loc 1 4368 3 is_stmt 1 view .LVU3347
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 9744              		.loc 1 4368 6 is_stmt 0 view .LVU3348
 9745 0024 0546     		mov	r5, r0
 9746 0026 0028     		cmp	r0, #0
 9747 0028 F5D1     		bne	.L774
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9748              		.loc 1 4369 4 is_stmt 1 view .LVU3349
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9749              		.loc 1 4369 8 is_stmt 0 view .LVU3350
 9750 002a 9DF93B30 		ldrsb	r3, [sp, #59]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9751              		.loc 1 4369 7 view .LVU3351
 9752 002e 002B     		cmp	r3, #0
 9753 0030 06DB     		blt	.L775
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9754              		.loc 1 4372 5 is_stmt 1 view .LVU3352
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9755              		.loc 1 4372 8 is_stmt 0 view .LVU3353
 9756 0032 002C     		cmp	r4, #0
 9757 0034 EFD0     		beq	.L774
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9758              		.loc 1 4372 14 is_stmt 1 discriminator 1 view .LVU3354
 9759 0036 2146     		mov	r1, r4
 9760 0038 03A8     		add	r0, sp, #12
 9761              	.LVL1178:
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9762              		.loc 1 4372 14 is_stmt 0 discriminator 1 view .LVU3355
 9763 003a FFF7FEFF 		bl	get_fileinfo
 9764              	.LVL1179:
 9765 003e EAE7     		b	.L774
 9766              	.LVL1180:
 9767              	.L775:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
 9768              		.loc 1 4370 9 view .LVU3356
 9769 0040 0625     		movs	r5, #6
 9770 0042 E8E7     		b	.L774
 9771              		.cfi_endproc
 9772              	.LFE187:
 9774              		.section	.text.f_getfree,"ax",%progbits
 9775              		.align	1
 9776              		.global	f_getfree
 9777              		.syntax unified
 9778              		.thumb
 9779              		.thumb_func
 9781              	f_getfree:
 9782              	.LVL1181:
 9783              	.LFB188:
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9784              		.loc 1 4393 1 is_stmt 1 view -0
 9785              		.cfi_startproc
 9786              		@ args = 0, pretend = 0, frame = 32
ARM GAS  /tmp/ccSjSmmD.s 			page 328


 9787              		@ frame_needed = 0, uses_anonymous_args = 0
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9788              		.loc 1 4393 1 is_stmt 0 view .LVU3358
 9789 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 9790              		.cfi_def_cfa_offset 32
 9791              		.cfi_offset 4, -32
 9792              		.cfi_offset 5, -28
 9793              		.cfi_offset 6, -24
 9794              		.cfi_offset 7, -20
 9795              		.cfi_offset 8, -16
 9796              		.cfi_offset 9, -12
 9797              		.cfi_offset 10, -8
 9798              		.cfi_offset 14, -4
 9799 0004 88B0     		sub	sp, sp, #32
 9800              		.cfi_def_cfa_offset 64
 9801 0006 0190     		str	r0, [sp, #4]
 9802 0008 8846     		mov	r8, r1
 9803 000a 1446     		mov	r4, r2
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9804              		.loc 1 4394 2 is_stmt 1 view .LVU3359
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
 9805              		.loc 1 4395 2 view .LVU3360
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 9806              		.loc 1 4396 2 view .LVU3361
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 9807              		.loc 1 4397 2 view .LVU3362
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
 9808              		.loc 1 4398 2 view .LVU3363
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9809              		.loc 1 4399 2 view .LVU3364
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9810              		.loc 1 4403 2 view .LVU3365
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9811              		.loc 1 4403 8 is_stmt 0 view .LVU3366
 9812 000c 0022     		movs	r2, #0
 9813              	.LVL1182:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9814              		.loc 1 4403 8 view .LVU3367
 9815 000e 07A9     		add	r1, sp, #28
 9816              	.LVL1183:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9817              		.loc 1 4403 8 view .LVU3368
 9818 0010 01A8     		add	r0, sp, #4
 9819              	.LVL1184:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9820              		.loc 1 4403 8 view .LVU3369
 9821 0012 FFF7FEFF 		bl	find_volume
 9822              	.LVL1185:
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 9823              		.loc 1 4404 2 is_stmt 1 view .LVU3370
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 9824              		.loc 1 4404 5 is_stmt 0 view .LVU3371
 9825 0016 8146     		mov	r9, r0
 9826 0018 0028     		cmp	r0, #0
 9827 001a 59D1     		bne	.L779
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 9828              		.loc 1 4405 3 is_stmt 1 view .LVU3372
ARM GAS  /tmp/ccSjSmmD.s 			page 329


4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 9829              		.loc 1 4405 10 is_stmt 0 view .LVU3373
 9830 001c 079B     		ldr	r3, [sp, #28]
 9831 001e 2360     		str	r3, [r4]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9832              		.loc 1 4407 3 is_stmt 1 view .LVU3374
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9833              		.loc 1 4407 9 is_stmt 0 view .LVU3375
 9834 0020 5A69     		ldr	r2, [r3, #20]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9835              		.loc 1 4407 26 view .LVU3376
 9836 0022 9D69     		ldr	r5, [r3, #24]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9837              		.loc 1 4407 37 view .LVU3377
 9838 0024 A91E     		subs	r1, r5, #2
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9839              		.loc 1 4407 6 view .LVU3378
 9840 0026 8A42     		cmp	r2, r1
 9841 0028 02D8     		bhi	.L780
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9842              		.loc 1 4408 4 is_stmt 1 view .LVU3379
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9843              		.loc 1 4408 11 is_stmt 0 view .LVU3380
 9844 002a C8F80020 		str	r2, [r8]
 9845 002e 4FE0     		b	.L779
 9846              	.L780:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9847              		.loc 1 4411 4 is_stmt 1 view .LVU3381
 9848              	.LVL1186:
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 9849              		.loc 1 4412 4 view .LVU3382
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 9850              		.loc 1 4412 10 is_stmt 0 view .LVU3383
 9851 0030 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 9852              		.loc 1 4412 7 view .LVU3384
 9853 0032 012E     		cmp	r6, #1
 9854 0034 05D0     		beq	.L794
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 9855              		.loc 1 4440 6 is_stmt 1 view .LVU3385
 9856              	.LVL1187:
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 9857              		.loc 1 4440 27 view .LVU3386
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 9858              		.loc 1 4440 32 is_stmt 0 view .LVU3387
 9859 0036 D3F824A0 		ldr	r10, [r3, #36]
 9860              	.LVL1188:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9861              		.loc 1 4441 6 is_stmt 1 view .LVU3388
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9862              		.loc 1 4441 13 view .LVU3389
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9863              		.loc 1 4441 15 is_stmt 0 view .LVU3390
 9864 003a 0024     		movs	r4, #0
 9865              	.LVL1189:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9866              		.loc 1 4441 8 view .LVU3391
ARM GAS  /tmp/ccSjSmmD.s 			page 330


 9867 003c 2646     		mov	r6, r4
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9868              		.loc 1 4411 10 view .LVU3392
 9869 003e 2746     		mov	r7, r4
 9870 0040 2FE0     		b	.L790
 9871              	.LVL1190:
 9872              	.L794:
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9873              		.loc 1 4413 5 is_stmt 1 view .LVU3393
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9874              		.loc 1 4413 15 view .LVU3394
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9875              		.loc 1 4413 22 is_stmt 0 view .LVU3395
 9876 0042 0293     		str	r3, [sp, #8]
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9877              		.loc 1 4413 10 view .LVU3396
 9878 0044 0224     		movs	r4, #2
 9879              	.LVL1191:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9880              		.loc 1 4411 10 view .LVU3397
 9881 0046 0027     		movs	r7, #0
 9882 0048 04E0     		b	.L784
 9883              	.LVL1192:
 9884              	.L783:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9885              		.loc 1 4419 21 is_stmt 1 view .LVU3398
 9886 004a 0134     		adds	r4, r4, #1
 9887              	.LVL1193:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9888              		.loc 1 4419 25 is_stmt 0 view .LVU3399
 9889 004c 079B     		ldr	r3, [sp, #28]
 9890 004e 9B69     		ldr	r3, [r3, #24]
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9891              		.loc 1 4419 21 view .LVU3400
 9892 0050 A342     		cmp	r3, r4
 9893 0052 35D9     		bls	.L782
 9894              	.LVL1194:
 9895              	.L784:
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
 9896              		.loc 1 4414 5 is_stmt 1 view .LVU3401
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 9897              		.loc 1 4415 6 view .LVU3402
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 9898              		.loc 1 4415 13 is_stmt 0 view .LVU3403
 9899 0054 2146     		mov	r1, r4
 9900 0056 02A8     		add	r0, sp, #8
 9901 0058 FFF7FEFF 		bl	get_fat
 9902              	.LVL1195:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 9903              		.loc 1 4416 6 is_stmt 1 view .LVU3404
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 9904              		.loc 1 4416 9 is_stmt 0 view .LVU3405
 9905 005c B0F1FF3F 		cmp	r0, #-1
 9906 0060 2DD0     		beq	.L791
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 9907              		.loc 1 4417 6 is_stmt 1 view .LVU3406
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
ARM GAS  /tmp/ccSjSmmD.s 			page 331


 9908              		.loc 1 4417 9 is_stmt 0 view .LVU3407
 9909 0062 0128     		cmp	r0, #1
 9910 0064 38D0     		beq	.L792
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9911              		.loc 1 4418 6 is_stmt 1 view .LVU3408
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9912              		.loc 1 4418 9 is_stmt 0 view .LVU3409
 9913 0066 0028     		cmp	r0, #0
 9914 0068 EFD1     		bne	.L783
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9915              		.loc 1 4418 21 is_stmt 1 discriminator 1 view .LVU3410
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9916              		.loc 1 4418 26 is_stmt 0 discriminator 1 view .LVU3411
 9917 006a 0137     		adds	r7, r7, #1
 9918              	.LVL1196:
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9919              		.loc 1 4418 26 discriminator 1 view .LVU3412
 9920 006c EDE7     		b	.L783
 9921              	.LVL1197:
 9922              	.L795:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9923              		.loc 1 4444 8 is_stmt 1 view .LVU3413
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9924              		.loc 1 4444 14 is_stmt 0 view .LVU3414
 9925 006e 0AF10106 		add	r6, r10, #1
 9926              	.LVL1198:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9927              		.loc 1 4444 14 view .LVU3415
 9928 0072 5146     		mov	r1, r10
 9929 0074 0798     		ldr	r0, [sp, #28]
 9930 0076 FFF7FEFF 		bl	move_window
 9931              	.LVL1199:
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 9932              		.loc 1 4445 8 is_stmt 1 view .LVU3416
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 9933              		.loc 1 4445 11 is_stmt 0 view .LVU3417
 9934 007a 8146     		mov	r9, r0
 9935 007c 00BB     		cbnz	r0, .L782
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 9936              		.loc 1 4446 8 is_stmt 1 view .LVU3418
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 9937              		.loc 1 4446 14 is_stmt 0 view .LVU3419
 9938 007e 079C     		ldr	r4, [sp, #28]
 9939              	.LVL1200:
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 9940              		.loc 1 4446 10 view .LVU3420
 9941 0080 3434     		adds	r4, r4, #52
 9942              	.LVL1201:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9943              		.loc 1 4447 8 is_stmt 1 view .LVU3421
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9944              		.loc 1 4444 14 is_stmt 0 view .LVU3422
 9945 0082 B246     		mov	r10, r6
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9946              		.loc 1 4447 10 view .LVU3423
 9947 0084 4FF40076 		mov	r6, #512
 9948              	.LVL1202:
ARM GAS  /tmp/ccSjSmmD.s 			page 332


4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9949              		.loc 1 4447 10 view .LVU3424
 9950 0088 0DE0     		b	.L785
 9951              	.LVL1203:
 9952              	.L796:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9953              		.loc 1 4450 8 is_stmt 1 view .LVU3425
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9954              		.loc 1 4450 12 is_stmt 0 view .LVU3426
 9955 008a 2046     		mov	r0, r4
 9956 008c FFF7FEFF 		bl	ld_word
 9957              	.LVL1204:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9958              		.loc 1 4450 11 discriminator 1 view .LVU3427
 9959 0090 00B9     		cbnz	r0, .L787
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9960              		.loc 1 4450 29 is_stmt 1 discriminator 1 view .LVU3428
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9961              		.loc 1 4450 34 is_stmt 0 discriminator 1 view .LVU3429
 9962 0092 0137     		adds	r7, r7, #1
 9963              	.LVL1205:
 9964              	.L787:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9965              		.loc 1 4451 8 is_stmt 1 view .LVU3430
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9966              		.loc 1 4451 10 is_stmt 0 view .LVU3431
 9967 0094 0234     		adds	r4, r4, #2
 9968              	.LVL1206:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9969              		.loc 1 4451 16 is_stmt 1 view .LVU3432
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9970              		.loc 1 4451 18 is_stmt 0 view .LVU3433
 9971 0096 023E     		subs	r6, r6, #2
 9972              	.LVL1207:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 9973              		.loc 1 4451 18 view .LVU3434
 9974 0098 01E0     		b	.L788
 9975              	.LVL1208:
 9976              	.L789:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9977              		.loc 1 4454 8 is_stmt 1 view .LVU3435
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9978              		.loc 1 4454 10 is_stmt 0 view .LVU3436
 9979 009a 0434     		adds	r4, r4, #4
 9980              	.LVL1209:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9981              		.loc 1 4454 16 is_stmt 1 view .LVU3437
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9982              		.loc 1 4454 18 is_stmt 0 view .LVU3438
 9983 009c 043E     		subs	r6, r6, #4
 9984              	.LVL1210:
 9985              	.L788:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9986              		.loc 1 4456 15 is_stmt 1 view .LVU3439
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9987              		.loc 1 4456 15 is_stmt 0 view .LVU3440
 9988 009e 013D     		subs	r5, r5, #1
ARM GAS  /tmp/ccSjSmmD.s 			page 333


 9989              	.LVL1211:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9990              		.loc 1 4456 15 view .LVU3441
 9991 00a0 0ED0     		beq	.L782
 9992              	.LVL1212:
 9993              	.L790:
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
 9994              		.loc 1 4442 6 is_stmt 1 view .LVU3442
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 9995              		.loc 1 4443 7 view .LVU3443
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 9996              		.loc 1 4443 10 is_stmt 0 view .LVU3444
 9997 00a2 002E     		cmp	r6, #0
 9998 00a4 E3D0     		beq	.L795
 9999              	.LVL1213:
 10000              	.L785:
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10001              		.loc 1 4449 7 is_stmt 1 view .LVU3445
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10002              		.loc 1 4449 13 is_stmt 0 view .LVU3446
 10003 00a6 079B     		ldr	r3, [sp, #28]
 10004 00a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10005              		.loc 1 4449 10 view .LVU3447
 10006 00aa 022B     		cmp	r3, #2
 10007 00ac EDD0     		beq	.L796
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10008              		.loc 1 4453 8 is_stmt 1 view .LVU3448
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10009              		.loc 1 4453 13 is_stmt 0 view .LVU3449
 10010 00ae 2046     		mov	r0, r4
 10011 00b0 FFF7FEFF 		bl	ld_dword
 10012              	.LVL1214:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10013              		.loc 1 4453 11 discriminator 1 view .LVU3450
 10014 00b4 30F07043 		bics	r3, r0, #-268435456
 10015 00b8 EFD1     		bne	.L789
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10016              		.loc 1 4453 45 is_stmt 1 discriminator 1 view .LVU3451
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10017              		.loc 1 4453 50 is_stmt 0 discriminator 1 view .LVU3452
 10018 00ba 0137     		adds	r7, r7, #1
 10019              	.LVL1215:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10020              		.loc 1 4453 50 discriminator 1 view .LVU3453
 10021 00bc EDE7     		b	.L789
 10022              	.LVL1216:
 10023              	.L791:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 10024              		.loc 1 4416 36 discriminator 1 view .LVU3454
 10025 00be B146     		mov	r9, r6
 10026              	.LVL1217:
 10027              	.L782:
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 10028              		.loc 1 4459 4 is_stmt 1 view .LVU3455
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 10029              		.loc 1 4459 11 is_stmt 0 view .LVU3456
ARM GAS  /tmp/ccSjSmmD.s 			page 334


 10030 00c0 C8F80070 		str	r7, [r8]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10031              		.loc 1 4460 4 is_stmt 1 view .LVU3457
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10032              		.loc 1 4460 6 is_stmt 0 view .LVU3458
 10033 00c4 079B     		ldr	r3, [sp, #28]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10034              		.loc 1 4460 18 view .LVU3459
 10035 00c6 5F61     		str	r7, [r3, #20]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10036              		.loc 1 4461 4 is_stmt 1 view .LVU3460
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10037              		.loc 1 4461 6 is_stmt 0 view .LVU3461
 10038 00c8 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10039              		.loc 1 4461 17 view .LVU3462
 10040 00ca 42F00102 		orr	r2, r2, #1
 10041 00ce 1A71     		strb	r2, [r3, #4]
 10042              	.LVL1218:
 10043              	.L779:
4465:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10044              		.loc 1 4465 2 is_stmt 1 view .LVU3463
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10045              		.loc 1 4466 1 is_stmt 0 view .LVU3464
 10046 00d0 4846     		mov	r0, r9
 10047 00d2 08B0     		add	sp, sp, #32
 10048              		.cfi_remember_state
 10049              		.cfi_def_cfa_offset 32
 10050              		@ sp needed
 10051 00d4 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 10052              	.LVL1219:
 10053              	.L792:
 10054              		.cfi_restore_state
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10055              		.loc 1 4417 27 discriminator 1 view .LVU3465
 10056 00d8 4FF00209 		mov	r9, #2
 10057              	.LVL1220:
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10058              		.loc 1 4417 27 discriminator 1 view .LVU3466
 10059 00dc F0E7     		b	.L782
 10060              		.cfi_endproc
 10061              	.LFE188:
 10063              		.section	.text.f_truncate,"ax",%progbits
 10064              		.align	1
 10065              		.global	f_truncate
 10066              		.syntax unified
 10067              		.thumb
 10068              		.thumb_func
 10070              	f_truncate:
 10071              	.LVL1221:
 10072              	.LFB189:
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10073              		.loc 1 4478 1 is_stmt 1 view -0
 10074              		.cfi_startproc
 10075              		@ args = 0, pretend = 0, frame = 8
 10076              		@ frame_needed = 0, uses_anonymous_args = 0
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccSjSmmD.s 			page 335


 10077              		.loc 1 4478 1 is_stmt 0 view .LVU3468
 10078 0000 30B5     		push	{r4, r5, lr}
 10079              		.cfi_def_cfa_offset 12
 10080              		.cfi_offset 4, -12
 10081              		.cfi_offset 5, -8
 10082              		.cfi_offset 14, -4
 10083 0002 83B0     		sub	sp, sp, #12
 10084              		.cfi_def_cfa_offset 24
 10085 0004 0446     		mov	r4, r0
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10086              		.loc 1 4479 2 is_stmt 1 view .LVU3469
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 10087              		.loc 1 4480 2 view .LVU3470
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10088              		.loc 1 4481 2 view .LVU3471
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 10089              		.loc 1 4484 2 view .LVU3472
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 10090              		.loc 1 4484 8 is_stmt 0 view .LVU3473
 10091 0006 01A9     		add	r1, sp, #4
 10092 0008 FFF7FEFF 		bl	validate
 10093              	.LVL1222:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10094              		.loc 1 4485 2 is_stmt 1 view .LVU3474
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10095              		.loc 1 4485 5 is_stmt 0 view .LVU3475
 10096 000c 0546     		mov	r5, r0
 10097 000e 0028     		cmp	r0, #0
 10098 0010 49D1     		bne	.L800
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10099              		.loc 1 4485 27 discriminator 2 view .LVU3476
 10100 0012 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 10101              	.LVL1223:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10102              		.loc 1 4485 19 discriminator 2 view .LVU3477
 10103 0014 002D     		cmp	r5, #0
 10104 0016 46D1     		bne	.L800
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10105              		.loc 1 4486 2 is_stmt 1 view .LVU3478
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10106              		.loc 1 4486 10 is_stmt 0 view .LVU3479
 10107 0018 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10108              		.loc 1 4486 5 view .LVU3480
 10109 001a 13F0020F 		tst	r3, #2
 10110 001e 41D0     		beq	.L805
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10111              		.loc 1 4488 2 is_stmt 1 view .LVU3481
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10112              		.loc 1 4488 8 is_stmt 0 view .LVU3482
 10113 0020 A369     		ldr	r3, [r4, #24]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10114              		.loc 1 4488 24 view .LVU3483
 10115 0022 E268     		ldr	r2, [r4, #12]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10116              		.loc 1 4488 5 view .LVU3484
 10117 0024 9342     		cmp	r3, r2
ARM GAS  /tmp/ccSjSmmD.s 			page 336


 10118 0026 3ED2     		bcs	.L800
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 10119              		.loc 1 4489 3 is_stmt 1 view .LVU3485
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 10120              		.loc 1 4489 6 is_stmt 0 view .LVU3486
 10121 0028 FBB9     		cbnz	r3, .L801
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 10122              		.loc 1 4490 4 is_stmt 1 view .LVU3487
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 10123              		.loc 1 4490 10 is_stmt 0 view .LVU3488
 10124 002a 0022     		movs	r2, #0
 10125 002c A168     		ldr	r1, [r4, #8]
 10126 002e 2046     		mov	r0, r4
 10127 0030 FFF7FEFF 		bl	remove_chain
 10128              	.LVL1224:
 10129 0034 0546     		mov	r5, r0
 10130              	.LVL1225:
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 10131              		.loc 1 4491 4 is_stmt 1 view .LVU3489
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 10132              		.loc 1 4491 19 is_stmt 0 view .LVU3490
 10133 0036 0023     		movs	r3, #0
 10134 0038 A360     		str	r3, [r4, #8]
 10135              	.LVL1226:
 10136              	.L802:
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10137              		.loc 1 4501 3 is_stmt 1 view .LVU3491
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10138              		.loc 1 4501 23 is_stmt 0 view .LVU3492
 10139 003a A369     		ldr	r3, [r4, #24]
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10140              		.loc 1 4501 19 view .LVU3493
 10141 003c E360     		str	r3, [r4, #12]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 10142              		.loc 1 4502 3 is_stmt 1 view .LVU3494
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 10143              		.loc 1 4502 5 is_stmt 0 view .LVU3495
 10144 003e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 10145              		.loc 1 4502 12 view .LVU3496
 10146 0040 43F04003 		orr	r3, r3, #64
 10147 0044 2375     		strb	r3, [r4, #20]
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10148              		.loc 1 4504 3 is_stmt 1 view .LVU3497
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10149              		.loc 1 4504 6 is_stmt 0 view .LVU3498
 10150 0046 5DBB     		cbnz	r5, .L804
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10151              		.loc 1 4504 20 discriminator 1 view .LVU3499
 10152 0048 13F0800F 		tst	r3, #128
 10153 004c 2BD0     		beq	.L800
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10154              		.loc 1 4505 4 is_stmt 1 view .LVU3500
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10155              		.loc 1 4505 8 is_stmt 0 view .LVU3501
 10156 004e 0123     		movs	r3, #1
 10157 0050 226A     		ldr	r2, [r4, #32]
ARM GAS  /tmp/ccSjSmmD.s 			page 337


 10158 0052 04F13001 		add	r1, r4, #48
 10159 0056 0198     		ldr	r0, [sp, #4]
 10160 0058 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 10161 005a FFF7FEFF 		bl	disk_write
 10162              	.LVL1227:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10163              		.loc 1 4505 7 discriminator 1 view .LVU3502
 10164 005e F0B9     		cbnz	r0, .L808
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10165              		.loc 1 4508 5 is_stmt 1 view .LVU3503
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10166              		.loc 1 4508 7 is_stmt 0 view .LVU3504
 10167 0060 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10168              		.loc 1 4508 14 view .LVU3505
 10169 0062 03F07F03 		and	r3, r3, #127
 10170 0066 2375     		strb	r3, [r4, #20]
 10171 0068 1DE0     		b	.L800
 10172              	.L801:
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10173              		.loc 1 4493 4 is_stmt 1 view .LVU3506
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10174              		.loc 1 4493 10 is_stmt 0 view .LVU3507
 10175 006a E169     		ldr	r1, [r4, #28]
 10176 006c 2046     		mov	r0, r4
 10177 006e FFF7FEFF 		bl	get_fat
 10178              	.LVL1228:
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10179              		.loc 1 4494 4 is_stmt 1 view .LVU3508
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10180              		.loc 1 4495 4 view .LVU3509
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10181              		.loc 1 4495 7 is_stmt 0 view .LVU3510
 10182 0072 B0F1FF3F 		cmp	r0, #-1
 10183 0076 0ED0     		beq	.L806
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10184              		.loc 1 4496 4 is_stmt 1 view .LVU3511
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10185              		.loc 1 4496 7 is_stmt 0 view .LVU3512
 10186 0078 0128     		cmp	r0, #1
 10187 007a 0ED0     		beq	.L810
 10188              	.L803:
 10189              	.LVL1229:
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10190              		.loc 1 4497 4 is_stmt 1 view .LVU3513
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10191              		.loc 1 4497 7 is_stmt 0 view .LVU3514
 10192 007c 002D     		cmp	r5, #0
 10193 007e DCD1     		bne	.L802
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10194              		.loc 1 4497 32 discriminator 1 view .LVU3515
 10195 0080 019B     		ldr	r3, [sp, #4]
 10196 0082 9B69     		ldr	r3, [r3, #24]
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10197              		.loc 1 4497 21 discriminator 1 view .LVU3516
 10198 0084 8342     		cmp	r3, r0
 10199 0086 D8D9     		bls	.L802
ARM GAS  /tmp/ccSjSmmD.s 			page 338


4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10200              		.loc 1 4498 5 is_stmt 1 view .LVU3517
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10201              		.loc 1 4498 11 is_stmt 0 view .LVU3518
 10202 0088 E269     		ldr	r2, [r4, #28]
 10203 008a 0146     		mov	r1, r0
 10204 008c 2046     		mov	r0, r4
 10205              	.LVL1230:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10206              		.loc 1 4498 11 view .LVU3519
 10207 008e FFF7FEFF 		bl	remove_chain
 10208              	.LVL1231:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10209              		.loc 1 4498 11 view .LVU3520
 10210 0092 0546     		mov	r5, r0
 10211              	.LVL1232:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10212              		.loc 1 4498 11 view .LVU3521
 10213 0094 D1E7     		b	.L802
 10214              	.LVL1233:
 10215              	.L806:
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10216              		.loc 1 4495 31 discriminator 1 view .LVU3522
 10217 0096 0125     		movs	r5, #1
 10218 0098 F0E7     		b	.L803
 10219              	.L810:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10220              		.loc 1 4496 22 discriminator 1 view .LVU3523
 10221 009a 0225     		movs	r5, #2
 10222 009c CDE7     		b	.L802
 10223              	.LVL1234:
 10224              	.L808:
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10225              		.loc 1 4506 9 view .LVU3524
 10226 009e 0125     		movs	r5, #1
 10227              	.LVL1235:
 10228              	.L804:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10229              		.loc 1 4512 21 is_stmt 1 discriminator 1 view .LVU3525
 10230 00a0 6575     		strb	r5, [r4, #21]
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10231              		.loc 1 4512 21 view .LVU3526
 10232 00a2 00E0     		b	.L800
 10233              	.LVL1236:
 10234              	.L805:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10235              		.loc 1 4486 30 is_stmt 0 discriminator 1 view .LVU3527
 10236 00a4 0725     		movs	r5, #7
 10237              	.LVL1237:
 10238              	.L800:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10239              		.loc 1 4516 1 view .LVU3528
 10240 00a6 2846     		mov	r0, r5
 10241 00a8 03B0     		add	sp, sp, #12
 10242              		.cfi_def_cfa_offset 12
 10243              		@ sp needed
 10244 00aa 30BD     		pop	{r4, r5, pc}
ARM GAS  /tmp/ccSjSmmD.s 			page 339


4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10245              		.loc 1 4516 1 view .LVU3529
 10246              		.cfi_endproc
 10247              	.LFE189:
 10249              		.section	.text.f_unlink,"ax",%progbits
 10250              		.align	1
 10251              		.global	f_unlink
 10252              		.syntax unified
 10253              		.thumb
 10254              		.thumb_func
 10256              	f_unlink:
 10257              	.LVL1238:
 10258              	.LFB190:
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10259              		.loc 1 4528 1 is_stmt 1 view -0
 10260              		.cfi_startproc
 10261              		@ args = 0, pretend = 0, frame = 120
 10262              		@ frame_needed = 0, uses_anonymous_args = 0
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10263              		.loc 1 4528 1 is_stmt 0 view .LVU3531
 10264 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 10265              		.cfi_def_cfa_offset 20
 10266              		.cfi_offset 4, -20
 10267              		.cfi_offset 5, -16
 10268              		.cfi_offset 6, -12
 10269              		.cfi_offset 7, -8
 10270              		.cfi_offset 14, -4
 10271 0002 9FB0     		sub	sp, sp, #124
 10272              		.cfi_def_cfa_offset 144
 10273 0004 0190     		str	r0, [sp, #4]
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 10274              		.loc 1 4529 2 is_stmt 1 view .LVU3532
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 10275              		.loc 1 4530 2 view .LVU3533
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10276              		.loc 1 4531 2 view .LVU3534
 10277              	.LVL1239:
4532:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10278              		.loc 1 4532 2 view .LVU3535
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10279              		.loc 1 4540 2 view .LVU3536
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10280              		.loc 1 4540 8 is_stmt 0 view .LVU3537
 10281 0006 0222     		movs	r2, #2
 10282 0008 03A9     		add	r1, sp, #12
 10283 000a 01A8     		add	r0, sp, #4
 10284              	.LVL1240:
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10285              		.loc 1 4540 8 view .LVU3538
 10286 000c FFF7FEFF 		bl	find_volume
 10287              	.LVL1241:
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10288              		.loc 1 4541 2 is_stmt 1 view .LVU3539
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10289              		.loc 1 4541 12 is_stmt 0 view .LVU3540
 10290 0010 039B     		ldr	r3, [sp, #12]
 10291 0012 1193     		str	r3, [sp, #68]
ARM GAS  /tmp/ccSjSmmD.s 			page 340


4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10292              		.loc 1 4542 2 is_stmt 1 view .LVU3541
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10293              		.loc 1 4542 5 is_stmt 0 view .LVU3542
 10294 0014 0446     		mov	r4, r0
 10295 0016 10B1     		cbz	r0, .L820
 10296              	.LVL1242:
 10297              	.L812:
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10298              		.loc 1 4607 16 is_stmt 1 view .LVU3543
4610:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10299              		.loc 1 4610 2 view .LVU3544
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10300              		.loc 1 4611 1 is_stmt 0 view .LVU3545
 10301 0018 2046     		mov	r0, r4
 10302 001a 1FB0     		add	sp, sp, #124
 10303              		.cfi_remember_state
 10304              		.cfi_def_cfa_offset 20
 10305              		@ sp needed
 10306 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 10307              	.LVL1243:
 10308              	.L820:
 10309              		.cfi_restore_state
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 10310              		.loc 1 4543 18 is_stmt 1 view .LVU3546
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10311              		.loc 1 4544 3 view .LVU3547
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10312              		.loc 1 4544 9 is_stmt 0 view .LVU3548
 10313 001e 0199     		ldr	r1, [sp, #4]
 10314 0020 11A8     		add	r0, sp, #68
 10315              	.LVL1244:
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10316              		.loc 1 4544 9 view .LVU3549
 10317 0022 FFF7FEFF 		bl	follow_path
 10318              	.LVL1245:
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 10319              		.loc 1 4545 3 is_stmt 1 view .LVU3550
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10320              		.loc 1 4549 3 view .LVU3551
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10321              		.loc 1 4549 6 is_stmt 0 view .LVU3552
 10322 0026 0446     		mov	r4, r0
 10323 0028 0028     		cmp	r0, #0
 10324 002a F5D1     		bne	.L812
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10325              		.loc 1 4549 21 is_stmt 1 discriminator 1 view .LVU3553
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10326              		.loc 1 4549 27 is_stmt 0 discriminator 1 view .LVU3554
 10327 002c 0221     		movs	r1, #2
 10328 002e 11A8     		add	r0, sp, #68
 10329              	.LVL1246:
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10330              		.loc 1 4549 27 discriminator 1 view .LVU3555
 10331 0030 FFF7FEFF 		bl	chk_lock
 10332              	.LVL1247:
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
ARM GAS  /tmp/ccSjSmmD.s 			page 341


 10333              		.loc 1 4551 3 is_stmt 1 view .LVU3556
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 10334              		.loc 1 4551 6 is_stmt 0 view .LVU3557
 10335 0034 0446     		mov	r4, r0
 10336 0036 0028     		cmp	r0, #0
 10337 0038 EED1     		bne	.L812
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10338              		.loc 1 4552 4 is_stmt 1 view .LVU3558
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10339              		.loc 1 4552 8 is_stmt 0 view .LVU3559
 10340 003a 9DF97330 		ldrsb	r3, [sp, #115]
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10341              		.loc 1 4552 7 view .LVU3560
 10342 003e 002B     		cmp	r3, #0
 10343 0040 38DB     		blt	.L816
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10344              		.loc 1 4555 5 is_stmt 1 view .LVU3561
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10345              		.loc 1 4555 15 is_stmt 0 view .LVU3562
 10346 0042 9DF84A50 		ldrb	r5, [sp, #74]	@ zero_extendqisi2
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10347              		.loc 1 4555 8 view .LVU3563
 10348 0046 15F0010F 		tst	r5, #1
 10349 004a 35D1     		bne	.L817
 10350              	.LVL1248:
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10351              		.loc 1 4559 4 is_stmt 1 view .LVU3564
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10352              		.loc 1 4569 6 view .LVU3565
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10353              		.loc 1 4569 14 is_stmt 0 view .LVU3566
 10354 004c 039F     		ldr	r7, [sp, #12]
 10355 004e 1999     		ldr	r1, [sp, #100]
 10356 0050 3846     		mov	r0, r7
 10357 0052 FFF7FEFF 		bl	ld_clust
 10358              	.LVL1249:
 10359 0056 0646     		mov	r6, r0
 10360              	.LVL1250:
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 10361              		.loc 1 4571 5 is_stmt 1 view .LVU3567
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 10362              		.loc 1 4571 8 is_stmt 0 view .LVU3568
 10363 0058 15F0100F 		tst	r5, #16
 10364 005c 0FD1     		bne	.L821
 10365              	.LVL1251:
 10366              	.L813:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 10367              		.loc 1 4595 4 is_stmt 1 view .LVU3569
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 10368              		.loc 1 4595 7 is_stmt 0 view .LVU3570
 10369 005e 002C     		cmp	r4, #0
 10370 0060 DAD1     		bne	.L812
 10371              	.LVL1252:
 10372              	.L814:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 10373              		.loc 1 4596 5 is_stmt 1 view .LVU3571
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
ARM GAS  /tmp/ccSjSmmD.s 			page 342


 10374              		.loc 1 4596 11 is_stmt 0 view .LVU3572
 10375 0062 11A8     		add	r0, sp, #68
 10376 0064 FFF7FEFF 		bl	dir_remove
 10377              	.LVL1253:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10378              		.loc 1 4597 5 is_stmt 1 view .LVU3573
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10379              		.loc 1 4597 8 is_stmt 0 view .LVU3574
 10380 0068 0446     		mov	r4, r0
 10381 006a 0028     		cmp	r0, #0
 10382 006c D4D1     		bne	.L812
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10383              		.loc 1 4597 22 discriminator 1 view .LVU3575
 10384 006e D6B9     		cbnz	r6, .L822
 10385              	.LVL1254:
 10386              	.L815:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10387              		.loc 1 4604 5 is_stmt 1 view .LVU3576
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10388              		.loc 1 4604 8 is_stmt 0 view .LVU3577
 10389 0070 002C     		cmp	r4, #0
 10390 0072 D1D1     		bne	.L812
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10391              		.loc 1 4604 23 is_stmt 1 discriminator 1 view .LVU3578
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10392              		.loc 1 4604 29 is_stmt 0 discriminator 1 view .LVU3579
 10393 0074 0398     		ldr	r0, [sp, #12]
 10394 0076 FFF7FEFF 		bl	sync_fs
 10395              	.LVL1255:
 10396 007a 0446     		mov	r4, r0
 10397              	.LVL1256:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10398              		.loc 1 4604 29 discriminator 1 view .LVU3580
 10399 007c CCE7     		b	.L812
 10400              	.LVL1257:
 10401              	.L821:
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 10402              		.loc 1 4578 7 is_stmt 1 view .LVU3581
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 10403              		.loc 1 4578 18 is_stmt 0 view .LVU3582
 10404 007e 0497     		str	r7, [sp, #16]
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10405              		.loc 1 4579 7 is_stmt 1 view .LVU3583
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10406              		.loc 1 4579 22 is_stmt 0 view .LVU3584
 10407 0080 0690     		str	r0, [sp, #24]
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10408              		.loc 1 4586 7 is_stmt 1 view .LVU3585
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10409              		.loc 1 4586 13 is_stmt 0 view .LVU3586
 10410 0082 0021     		movs	r1, #0
 10411 0084 04A8     		add	r0, sp, #16
 10412              	.LVL1258:
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10413              		.loc 1 4586 13 view .LVU3587
 10414 0086 FFF7FEFF 		bl	dir_sdi
 10415              	.LVL1259:
ARM GAS  /tmp/ccSjSmmD.s 			page 343


4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 10416              		.loc 1 4587 7 is_stmt 1 view .LVU3588
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 10417              		.loc 1 4587 10 is_stmt 0 view .LVU3589
 10418 008a 0446     		mov	r4, r0
 10419 008c 0028     		cmp	r0, #0
 10420 008e C3D1     		bne	.L812
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10421              		.loc 1 4588 8 is_stmt 1 view .LVU3590
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10422              		.loc 1 4588 14 is_stmt 0 view .LVU3591
 10423 0090 0021     		movs	r1, #0
 10424 0092 04A8     		add	r0, sp, #16
 10425              	.LVL1260:
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10426              		.loc 1 4588 14 view .LVU3592
 10427 0094 FFF7FEFF 		bl	dir_read
 10428              	.LVL1261:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10429              		.loc 1 4589 8 is_stmt 1 view .LVU3593
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10430              		.loc 1 4589 11 is_stmt 0 view .LVU3594
 10431 0098 0446     		mov	r4, r0
 10432 009a 10B1     		cbz	r0, .L818
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10433              		.loc 1 4590 8 is_stmt 1 view .LVU3595
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10434              		.loc 1 4590 11 is_stmt 0 view .LVU3596
 10435 009c 0428     		cmp	r0, #4
 10436 009e DED1     		bne	.L813
 10437 00a0 DFE7     		b	.L814
 10438              	.L818:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10439              		.loc 1 4589 30 discriminator 1 view .LVU3597
 10440 00a2 0724     		movs	r4, #7
 10441 00a4 DBE7     		b	.L813
 10442              	.LVL1262:
 10443              	.L822:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10444              		.loc 1 4601 6 is_stmt 1 view .LVU3598
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10445              		.loc 1 4601 12 is_stmt 0 view .LVU3599
 10446 00a6 0022     		movs	r2, #0
 10447 00a8 3146     		mov	r1, r6
 10448 00aa 11A8     		add	r0, sp, #68
 10449              	.LVL1263:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10450              		.loc 1 4601 12 view .LVU3600
 10451 00ac FFF7FEFF 		bl	remove_chain
 10452              	.LVL1264:
 10453 00b0 0446     		mov	r4, r0
 10454              	.LVL1265:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10455              		.loc 1 4601 12 view .LVU3601
 10456 00b2 DDE7     		b	.L815
 10457              	.LVL1266:
 10458              	.L816:
ARM GAS  /tmp/ccSjSmmD.s 			page 344


4553:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10459              		.loc 1 4553 9 view .LVU3602
 10460 00b4 0624     		movs	r4, #6
 10461 00b6 AFE7     		b	.L812
 10462              	.L817:
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10463              		.loc 1 4556 10 view .LVU3603
 10464 00b8 0724     		movs	r4, #7
 10465 00ba ADE7     		b	.L812
 10466              		.cfi_endproc
 10467              	.LFE190:
 10469              		.section	.text.f_mkdir,"ax",%progbits
 10470              		.align	1
 10471              		.global	f_mkdir
 10472              		.syntax unified
 10473              		.thumb
 10474              		.thumb_func
 10476              	f_mkdir:
 10477              	.LVL1267:
 10478              	.LFB191:
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10479              		.loc 1 4623 1 is_stmt 1 view -0
 10480              		.cfi_startproc
 10481              		@ args = 0, pretend = 0, frame = 64
 10482              		@ frame_needed = 0, uses_anonymous_args = 0
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10483              		.loc 1 4623 1 is_stmt 0 view .LVU3605
 10484 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10485              		.cfi_def_cfa_offset 36
 10486              		.cfi_offset 4, -36
 10487              		.cfi_offset 5, -32
 10488              		.cfi_offset 6, -28
 10489              		.cfi_offset 7, -24
 10490              		.cfi_offset 8, -20
 10491              		.cfi_offset 9, -16
 10492              		.cfi_offset 10, -12
 10493              		.cfi_offset 11, -8
 10494              		.cfi_offset 14, -4
 10495 0004 91B0     		sub	sp, sp, #68
 10496              		.cfi_def_cfa_offset 104
 10497 0006 0190     		str	r0, [sp, #4]
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 10498              		.loc 1 4624 2 is_stmt 1 view .LVU3606
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10499              		.loc 1 4625 2 view .LVU3607
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 10500              		.loc 1 4626 2 view .LVU3608
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 10501              		.loc 1 4627 2 view .LVU3609
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
 10502              		.loc 1 4628 2 view .LVU3610
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 10503              		.loc 1 4629 2 view .LVU3611
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10504              		.loc 1 4634 2 view .LVU3612
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10505              		.loc 1 4634 8 is_stmt 0 view .LVU3613
ARM GAS  /tmp/ccSjSmmD.s 			page 345


 10506 0008 0222     		movs	r2, #2
 10507 000a 02A9     		add	r1, sp, #8
 10508 000c 01A8     		add	r0, sp, #4
 10509              	.LVL1268:
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10510              		.loc 1 4634 8 view .LVU3614
 10511 000e FFF7FEFF 		bl	find_volume
 10512              	.LVL1269:
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10513              		.loc 1 4635 2 is_stmt 1 view .LVU3615
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10514              		.loc 1 4635 12 is_stmt 0 view .LVU3616
 10515 0012 029B     		ldr	r3, [sp, #8]
 10516 0014 0393     		str	r3, [sp, #12]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10517              		.loc 1 4636 2 is_stmt 1 view .LVU3617
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10518              		.loc 1 4636 5 is_stmt 0 view .LVU3618
 10519 0016 0446     		mov	r4, r0
 10520 0018 18B1     		cbz	r0, .L840
 10521              	.LVL1270:
 10522              	.L824:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10523              		.loc 1 4704 16 is_stmt 1 view .LVU3619
4707:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10524              		.loc 1 4707 2 view .LVU3620
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10525              		.loc 1 4708 1 is_stmt 0 view .LVU3621
 10526 001a 2046     		mov	r0, r4
 10527 001c 11B0     		add	sp, sp, #68
 10528              		.cfi_remember_state
 10529              		.cfi_def_cfa_offset 36
 10530              		@ sp needed
 10531 001e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10532              	.LVL1271:
 10533              	.L840:
 10534              		.cfi_restore_state
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 10535              		.loc 1 4637 18 is_stmt 1 view .LVU3622
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10536              		.loc 1 4638 3 view .LVU3623
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10537              		.loc 1 4638 9 is_stmt 0 view .LVU3624
 10538 0022 0199     		ldr	r1, [sp, #4]
 10539 0024 03A8     		add	r0, sp, #12
 10540              	.LVL1272:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10541              		.loc 1 4638 9 view .LVU3625
 10542 0026 FFF7FEFF 		bl	follow_path
 10543              	.LVL1273:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10544              		.loc 1 4639 3 is_stmt 1 view .LVU3626
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10545              		.loc 1 4639 6 is_stmt 0 view .LVU3627
 10546 002a 0028     		cmp	r0, #0
 10547 002c 00F09680 		beq	.L833
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
ARM GAS  /tmp/ccSjSmmD.s 			page 346


 10548              		.loc 1 4640 3 is_stmt 1 view .LVU3628
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 10549              		.loc 1 4643 3 view .LVU3629
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 10550              		.loc 1 4643 6 is_stmt 0 view .LVU3630
 10551 0030 0428     		cmp	r0, #4
 10552 0032 01D0     		beq	.L841
 10553 0034 0446     		mov	r4, r0
 10554 0036 F0E7     		b	.L824
 10555              	.L841:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10556              		.loc 1 4644 4 is_stmt 1 view .LVU3631
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10557              		.loc 1 4644 10 is_stmt 0 view .LVU3632
 10558 0038 0021     		movs	r1, #0
 10559 003a 03A8     		add	r0, sp, #12
 10560              	.LVL1274:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10561              		.loc 1 4644 10 view .LVU3633
 10562 003c FFF7FEFF 		bl	create_chain
 10563              	.LVL1275:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10564              		.loc 1 4645 4 is_stmt 1 view .LVU3634
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10565              		.loc 1 4645 30 is_stmt 0 view .LVU3635
 10566 0040 029A     		ldr	r2, [sp, #8]
 10567 0042 5389     		ldrh	r3, [r2, #10]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10568              		.loc 1 4645 38 view .LVU3636
 10569 0044 5B02     		lsls	r3, r3, #9
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10570              		.loc 1 4645 19 view .LVU3637
 10571 0046 0693     		str	r3, [sp, #24]
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 10572              		.loc 1 4646 4 is_stmt 1 view .LVU3638
 10573              	.LVL1276:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10574              		.loc 1 4647 4 view .LVU3639
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10575              		.loc 1 4647 7 is_stmt 0 view .LVU3640
 10576 0048 8146     		mov	r9, r0
 10577 004a 18B1     		cbz	r0, .L835
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10578              		.loc 1 4648 4 is_stmt 1 view .LVU3641
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10579              		.loc 1 4648 7 is_stmt 0 view .LVU3642
 10580 004c 0128     		cmp	r0, #1
 10581 004e 02D1     		bne	.L825
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10582              		.loc 1 4648 22 discriminator 1 view .LVU3643
 10583 0050 0224     		movs	r4, #2
 10584 0052 03E0     		b	.L826
 10585              	.L835:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10586              		.loc 1 4647 22 discriminator 1 view .LVU3644
 10587 0054 0724     		movs	r4, #7
 10588              	.L825:
ARM GAS  /tmp/ccSjSmmD.s 			page 347


 10589              	.LVL1277:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10590              		.loc 1 4649 4 is_stmt 1 view .LVU3645
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10591              		.loc 1 4649 7 is_stmt 0 view .LVU3646
 10592 0056 B9F1FF3F 		cmp	r9, #-1
 10593 005a 56D0     		beq	.L842
 10594              	.LVL1278:
 10595              	.L826:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10596              		.loc 1 4650 4 is_stmt 1 view .LVU3647
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10597              		.loc 1 4650 7 is_stmt 0 view .LVU3648
 10598 005c 002C     		cmp	r4, #0
 10599 005e 4FD0     		beq	.L843
 10600              	.LVL1279:
 10601              	.L827:
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 10602              		.loc 1 4651 4 is_stmt 1 view .LVU3649
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 10603              		.loc 1 4651 9 is_stmt 0 view .LVU3650
 10604 0060 FFF7FEFF 		bl	get_fattime
 10605              	.LVL1280:
 10606 0064 8246     		mov	r10, r0
 10607              	.LVL1281:
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 10608              		.loc 1 4652 4 is_stmt 1 view .LVU3651
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 10609              		.loc 1 4652 7 is_stmt 0 view .LVU3652
 10610 0066 002C     		cmp	r4, #0
 10611 0068 57D1     		bne	.L828
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 10612              		.loc 1 4653 5 is_stmt 1 view .LVU3653
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 10613              		.loc 1 4653 11 is_stmt 0 view .LVU3654
 10614 006a 029E     		ldr	r6, [sp, #8]
 10615 006c 4946     		mov	r1, r9
 10616 006e 3046     		mov	r0, r6
 10617              	.LVL1282:
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 10618              		.loc 1 4653 11 view .LVU3655
 10619 0070 FFF7FEFF 		bl	clust2sect
 10620              	.LVL1283:
 10621 0074 0546     		mov	r5, r0
 10622              	.LVL1284:
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 10623              		.loc 1 4654 5 is_stmt 1 view .LVU3656
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 10624              		.loc 1 4654 9 is_stmt 0 view .LVU3657
 10625 0076 06F13408 		add	r8, r6, #52
 10626              	.LVL1285:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 10627              		.loc 1 4655 5 is_stmt 1 view .LVU3658
 10628 007a 4FF40072 		mov	r2, #512
 10629 007e 0021     		movs	r1, #0
 10630 0080 4046     		mov	r0, r8
 10631              	.LVL1286:
ARM GAS  /tmp/ccSjSmmD.s 			page 348


4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 10632              		.loc 1 4655 5 is_stmt 0 view .LVU3659
 10633 0082 FFF7FEFF 		bl	mem_set
 10634              	.LVL1287:
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 10635              		.loc 1 4656 5 is_stmt 1 view .LVU3660
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 10636              		.loc 1 4657 6 view .LVU3661
 10637 0086 0B22     		movs	r2, #11
 10638 0088 2021     		movs	r1, #32
 10639 008a 4046     		mov	r0, r8
 10640 008c FFF7FEFF 		bl	mem_set
 10641              	.LVL1288:
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 10642              		.loc 1 4658 6 view .LVU3662
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 10643              		.loc 1 4658 20 is_stmt 0 view .LVU3663
 10644 0090 4FF02E0B 		mov	fp, #46
 10645 0094 86F834B0 		strb	fp, [r6, #52]
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 10646              		.loc 1 4659 6 is_stmt 1 view .LVU3664
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 10647              		.loc 1 4659 20 is_stmt 0 view .LVU3665
 10648 0098 1023     		movs	r3, #16
 10649 009a 86F83F30 		strb	r3, [r6, #63]
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 10650              		.loc 1 4660 6 is_stmt 1 view .LVU3666
 10651 009e 5146     		mov	r1, r10
 10652 00a0 06F14A00 		add	r0, r6, #74
 10653 00a4 FFF7FEFF 		bl	st_dword
 10654              	.LVL1289:
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
 10655              		.loc 1 4661 6 view .LVU3667
 10656 00a8 4A46     		mov	r2, r9
 10657 00aa 4146     		mov	r1, r8
 10658 00ac 0298     		ldr	r0, [sp, #8]
 10659 00ae FFF7FEFF 		bl	st_clust
 10660              	.LVL1290:
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10661              		.loc 1 4662 6 view .LVU3668
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10662              		.loc 1 4662 18 is_stmt 0 view .LVU3669
 10663 00b2 06F15407 		add	r7, r6, #84
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10664              		.loc 1 4662 6 view .LVU3670
 10665 00b6 2022     		movs	r2, #32
 10666 00b8 4146     		mov	r1, r8
 10667 00ba 3846     		mov	r0, r7
 10668 00bc FFF7FEFF 		bl	mem_cpy
 10669              	.LVL1291:
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10670              		.loc 1 4663 6 is_stmt 1 view .LVU3671
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10671              		.loc 1 4663 22 is_stmt 0 view .LVU3672
 10672 00c0 86F855B0 		strb	fp, [r6, #85]
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10673              		.loc 1 4663 29 is_stmt 1 view .LVU3673
ARM GAS  /tmp/ccSjSmmD.s 			page 349


4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10674              		.loc 1 4663 33 is_stmt 0 view .LVU3674
 10675 00c4 059A     		ldr	r2, [sp, #20]
 10676              	.LVL1292:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10677              		.loc 1 4664 6 is_stmt 1 view .LVU3675
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10678              		.loc 1 4664 12 is_stmt 0 view .LVU3676
 10679 00c6 0298     		ldr	r0, [sp, #8]
 10680 00c8 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10681              		.loc 1 4664 9 view .LVU3677
 10682 00ca 032B     		cmp	r3, #3
 10683 00cc 1FD0     		beq	.L844
 10684              	.LVL1293:
 10685              	.L829:
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10686              		.loc 1 4665 6 is_stmt 1 view .LVU3678
 10687 00ce 3946     		mov	r1, r7
 10688 00d0 FFF7FEFF 		bl	st_clust
 10689              	.LVL1294:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10690              		.loc 1 4667 5 view .LVU3679
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10691              		.loc 1 4667 16 is_stmt 0 view .LVU3680
 10692 00d4 029B     		ldr	r3, [sp, #8]
 10693 00d6 5E89     		ldrh	r6, [r3, #10]
 10694              	.LVL1295:
 10695              	.L830:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10696              		.loc 1 4667 25 is_stmt 1 discriminator 1 view .LVU3681
 10697 00d8 F6B1     		cbz	r6, .L831
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10698              		.loc 1 4668 6 view .LVU3682
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10699              		.loc 1 4668 23 is_stmt 0 view .LVU3683
 10700 00da 6F1C     		adds	r7, r5, #1
 10701              	.LVL1296:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10702              		.loc 1 4668 8 view .LVU3684
 10703 00dc 029B     		ldr	r3, [sp, #8]
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10704              		.loc 1 4668 18 view .LVU3685
 10705 00de 1D63     		str	r5, [r3, #48]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 10706              		.loc 1 4669 6 is_stmt 1 view .LVU3686
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 10707              		.loc 1 4669 16 is_stmt 0 view .LVU3687
 10708 00e0 0122     		movs	r2, #1
 10709 00e2 DA70     		strb	r2, [r3, #3]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 10710              		.loc 1 4670 6 is_stmt 1 view .LVU3688
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 10711              		.loc 1 4670 12 is_stmt 0 view .LVU3689
 10712 00e4 0298     		ldr	r0, [sp, #8]
 10713 00e6 FFF7FEFF 		bl	sync_window
 10714              	.LVL1297:
ARM GAS  /tmp/ccSjSmmD.s 			page 350


4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 10715              		.loc 1 4671 6 is_stmt 1 view .LVU3690
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 10716              		.loc 1 4671 9 is_stmt 0 view .LVU3691
 10717 00ea 0446     		mov	r4, r0
 10718 00ec A0B9     		cbnz	r0, .L831
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10719              		.loc 1 4672 6 is_stmt 1 view .LVU3692
 10720 00ee 4FF40072 		mov	r2, #512
 10721 00f2 0021     		movs	r1, #0
 10722 00f4 4046     		mov	r0, r8
 10723              	.LVL1298:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10724              		.loc 1 4672 6 is_stmt 0 view .LVU3693
 10725 00f6 FFF7FEFF 		bl	mem_set
 10726              	.LVL1299:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10727              		.loc 1 4667 29 is_stmt 1 discriminator 2 view .LVU3694
 10728 00fa 013E     		subs	r6, r6, #1
 10729              	.LVL1300:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10730              		.loc 1 4668 23 is_stmt 0 view .LVU3695
 10731 00fc 3D46     		mov	r5, r7
 10732 00fe EBE7     		b	.L830
 10733              	.LVL1301:
 10734              	.L843:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10735              		.loc 1 4650 22 is_stmt 1 discriminator 1 view .LVU3696
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10736              		.loc 1 4650 28 is_stmt 0 discriminator 1 view .LVU3697
 10737 0100 1046     		mov	r0, r2
 10738              	.LVL1302:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10739              		.loc 1 4650 28 discriminator 1 view .LVU3698
 10740 0102 FFF7FEFF 		bl	sync_window
 10741              	.LVL1303:
 10742 0106 0446     		mov	r4, r0
 10743              	.LVL1304:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10744              		.loc 1 4650 28 discriminator 1 view .LVU3699
 10745 0108 AAE7     		b	.L827
 10746              	.LVL1305:
 10747              	.L842:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10748              		.loc 1 4649 31 discriminator 1 view .LVU3700
 10749 010a 0124     		movs	r4, #1
 10750              	.LVL1306:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10751              		.loc 1 4649 31 discriminator 1 view .LVU3701
 10752 010c A8E7     		b	.L827
 10753              	.LVL1307:
 10754              	.L844:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10755              		.loc 1 4664 46 discriminator 1 view .LVU3702
 10756 010e 836A     		ldr	r3, [r0, #40]
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10757              		.loc 1 4664 34 discriminator 1 view .LVU3703
ARM GAS  /tmp/ccSjSmmD.s 			page 351


 10758 0110 9342     		cmp	r3, r2
 10759 0112 DCD1     		bne	.L829
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10760              		.loc 1 4664 61 discriminator 2 view .LVU3704
 10761 0114 0022     		movs	r2, #0
 10762              	.LVL1308:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10763              		.loc 1 4664 61 discriminator 2 view .LVU3705
 10764 0116 DAE7     		b	.L829
 10765              	.LVL1309:
 10766              	.L831:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 10767              		.loc 1 4675 4 is_stmt 1 view .LVU3706
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 10768              		.loc 1 4675 7 is_stmt 0 view .LVU3707
 10769 0118 2CB1     		cbz	r4, .L845
 10770              	.LVL1310:
 10771              	.L828:
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10772              		.loc 1 4701 5 is_stmt 1 view .LVU3708
 10773 011a 0022     		movs	r2, #0
 10774 011c 4946     		mov	r1, r9
 10775 011e 03A8     		add	r0, sp, #12
 10776 0120 FFF7FEFF 		bl	remove_chain
 10777              	.LVL1311:
 10778 0124 79E7     		b	.L824
 10779              	.LVL1312:
 10780              	.L845:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10781              		.loc 1 4676 5 view .LVU3709
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10782              		.loc 1 4676 11 is_stmt 0 view .LVU3710
 10783 0126 03A8     		add	r0, sp, #12
 10784 0128 FFF7FEFF 		bl	dir_register
 10785              	.LVL1313:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10786              		.loc 1 4678 4 is_stmt 1 view .LVU3711
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10787              		.loc 1 4678 7 is_stmt 0 view .LVU3712
 10788 012c 0446     		mov	r4, r0
 10789 012e 0028     		cmp	r0, #0
 10790 0130 F3D1     		bne	.L828
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 10791              		.loc 1 4691 6 is_stmt 1 view .LVU3713
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 10792              		.loc 1 4691 10 is_stmt 0 view .LVU3714
 10793 0132 0B9C     		ldr	r4, [sp, #44]
 10794              	.LVL1314:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 10795              		.loc 1 4692 6 is_stmt 1 view .LVU3715
 10796 0134 5146     		mov	r1, r10
 10797 0136 04F11600 		add	r0, r4, #22
 10798              	.LVL1315:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 10799              		.loc 1 4692 6 is_stmt 0 view .LVU3716
 10800 013a FFF7FEFF 		bl	st_dword
 10801              	.LVL1316:
ARM GAS  /tmp/ccSjSmmD.s 			page 352


4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 10802              		.loc 1 4693 6 is_stmt 1 view .LVU3717
 10803 013e 4A46     		mov	r2, r9
 10804 0140 2146     		mov	r1, r4
 10805 0142 0298     		ldr	r0, [sp, #8]
 10806 0144 FFF7FEFF 		bl	st_clust
 10807              	.LVL1317:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10808              		.loc 1 4694 6 view .LVU3718
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10809              		.loc 1 4694 20 is_stmt 0 view .LVU3719
 10810 0148 1023     		movs	r3, #16
 10811 014a E372     		strb	r3, [r4, #11]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10812              		.loc 1 4695 6 is_stmt 1 view .LVU3720
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10813              		.loc 1 4695 16 is_stmt 0 view .LVU3721
 10814 014c 029B     		ldr	r3, [sp, #8]
 10815 014e 0122     		movs	r2, #1
 10816 0150 DA70     		strb	r2, [r3, #3]
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10817              		.loc 1 4697 5 is_stmt 1 view .LVU3722
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10818              		.loc 1 4698 6 view .LVU3723
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10819              		.loc 1 4698 12 is_stmt 0 view .LVU3724
 10820 0152 0298     		ldr	r0, [sp, #8]
 10821 0154 FFF7FEFF 		bl	sync_fs
 10822              	.LVL1318:
 10823 0158 0446     		mov	r4, r0
 10824              	.LVL1319:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10825              		.loc 1 4698 12 view .LVU3725
 10826 015a 5EE7     		b	.L824
 10827              	.LVL1320:
 10828              	.L833:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10829              		.loc 1 4639 25 discriminator 1 view .LVU3726
 10830 015c 0824     		movs	r4, #8
 10831 015e 5CE7     		b	.L824
 10832              		.cfi_endproc
 10833              	.LFE191:
 10835              		.section	.text.f_rename,"ax",%progbits
 10836              		.align	1
 10837              		.global	f_rename
 10838              		.syntax unified
 10839              		.thumb
 10840              		.thumb_func
 10842              	f_rename:
 10843              	.LVL1321:
 10844              	.LFB192:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10845              		.loc 1 4721 1 is_stmt 1 view -0
 10846              		.cfi_startproc
 10847              		@ args = 0, pretend = 0, frame = 144
 10848              		@ frame_needed = 0, uses_anonymous_args = 0
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccSjSmmD.s 			page 353


 10849              		.loc 1 4721 1 is_stmt 0 view .LVU3728
 10850 0000 30B5     		push	{r4, r5, lr}
 10851              		.cfi_def_cfa_offset 12
 10852              		.cfi_offset 4, -12
 10853              		.cfi_offset 5, -8
 10854              		.cfi_offset 14, -4
 10855 0002 A5B0     		sub	sp, sp, #148
 10856              		.cfi_def_cfa_offset 160
 10857 0004 0190     		str	r0, [sp, #4]
 10858 0006 0091     		str	r1, [sp]
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 10859              		.loc 1 4722 2 is_stmt 1 view .LVU3729
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10860              		.loc 1 4723 2 view .LVU3730
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
 10861              		.loc 1 4724 2 view .LVU3731
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 10862              		.loc 1 4725 2 view .LVU3732
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 10863              		.loc 1 4726 2 view .LVU3733
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 10864              		.loc 1 4730 2 view .LVU3734
 10865 0008 6846     		mov	r0, sp
 10866              	.LVL1322:
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 10867              		.loc 1 4730 2 is_stmt 0 view .LVU3735
 10868 000a FFF7FEFF 		bl	get_ldnumber
 10869              	.LVL1323:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10870              		.loc 1 4731 2 is_stmt 1 view .LVU3736
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10871              		.loc 1 4731 8 is_stmt 0 view .LVU3737
 10872 000e 0222     		movs	r2, #2
 10873 0010 09A9     		add	r1, sp, #36
 10874 0012 01A8     		add	r0, sp, #4
 10875 0014 FFF7FEFF 		bl	find_volume
 10876              	.LVL1324:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 10877              		.loc 1 4732 2 is_stmt 1 view .LVU3738
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 10878              		.loc 1 4732 5 is_stmt 0 view .LVU3739
 10879 0018 0446     		mov	r4, r0
 10880 001a 10B1     		cbz	r0, .L856
 10881              	.LVL1325:
 10882              	.L847:
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10883              		.loc 1 4807 16 is_stmt 1 view .LVU3740
4810:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10884              		.loc 1 4810 2 view .LVU3741
4811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10885              		.loc 1 4811 1 is_stmt 0 view .LVU3742
 10886 001c 2046     		mov	r0, r4
 10887 001e 25B0     		add	sp, sp, #148
 10888              		.cfi_remember_state
 10889              		.cfi_def_cfa_offset 12
 10890              		@ sp needed
 10891 0020 30BD     		pop	{r4, r5, pc}
ARM GAS  /tmp/ccSjSmmD.s 			page 354


 10892              	.LVL1326:
 10893              	.L856:
 10894              		.cfi_restore_state
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10895              		.loc 1 4733 3 is_stmt 1 view .LVU3743
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10896              		.loc 1 4733 14 is_stmt 0 view .LVU3744
 10897 0022 099B     		ldr	r3, [sp, #36]
 10898 0024 1793     		str	r3, [sp, #92]
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 10899              		.loc 1 4734 18 is_stmt 1 view .LVU3745
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10900              		.loc 1 4735 3 view .LVU3746
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10901              		.loc 1 4735 9 is_stmt 0 view .LVU3747
 10902 0026 0199     		ldr	r1, [sp, #4]
 10903 0028 17A8     		add	r0, sp, #92
 10904              	.LVL1327:
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10905              		.loc 1 4735 9 view .LVU3748
 10906 002a FFF7FEFF 		bl	follow_path
 10907              	.LVL1328:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10908              		.loc 1 4736 3 is_stmt 1 view .LVU3749
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10909              		.loc 1 4736 6 is_stmt 0 view .LVU3750
 10910 002e 0446     		mov	r4, r0
 10911 0030 48B9     		cbnz	r0, .L848
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10912              		.loc 1 4736 30 discriminator 1 view .LVU3751
 10913 0032 9DF88B30 		ldrb	r3, [sp, #139]	@ zero_extendqisi2
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 10914              		.loc 1 4736 20 discriminator 1 view .LVU3752
 10915 0036 13F0A00F 		tst	r3, #160
 10916 003a 73D1     		bne	.L852
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 10917              		.loc 1 4738 3 is_stmt 1 view .LVU3753
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10918              		.loc 1 4739 4 view .LVU3754
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10919              		.loc 1 4739 10 is_stmt 0 view .LVU3755
 10920 003c 0221     		movs	r1, #2
 10921 003e 17A8     		add	r0, sp, #92
 10922              	.LVL1329:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10923              		.loc 1 4739 10 view .LVU3756
 10924 0040 FFF7FEFF 		bl	chk_lock
 10925              	.LVL1330:
 10926 0044 0446     		mov	r4, r0
 10927              	.LVL1331:
 10928              	.L848:
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10929              		.loc 1 4742 3 is_stmt 1 view .LVU3757
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10930              		.loc 1 4742 6 is_stmt 0 view .LVU3758
 10931 0046 002C     		cmp	r4, #0
 10932 0048 E8D1     		bne	.L847
ARM GAS  /tmp/ccSjSmmD.s 			page 355


4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10933              		.loc 1 4769 5 is_stmt 1 view .LVU3759
 10934 004a 1522     		movs	r2, #21
 10935 004c 1F99     		ldr	r1, [sp, #124]
 10936 004e 0B31     		adds	r1, r1, #11
 10937 0050 03A8     		add	r0, sp, #12
 10938 0052 FFF7FEFF 		bl	mem_cpy
 10939              	.LVL1332:
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 10940              		.loc 1 4770 5 view .LVU3760
 10941 0056 0AAC     		add	r4, sp, #40
 10942 0058 3422     		movs	r2, #52
 10943 005a 17A9     		add	r1, sp, #92
 10944 005c 2046     		mov	r0, r4
 10945 005e FFF7FEFF 		bl	mem_cpy
 10946              	.LVL1333:
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10947              		.loc 1 4771 5 view .LVU3761
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10948              		.loc 1 4771 11 is_stmt 0 view .LVU3762
 10949 0062 0099     		ldr	r1, [sp]
 10950 0064 2046     		mov	r0, r4
 10951 0066 FFF7FEFF 		bl	follow_path
 10952              	.LVL1334:
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 10953              		.loc 1 4772 5 is_stmt 1 view .LVU3763
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 10954              		.loc 1 4772 8 is_stmt 0 view .LVU3764
 10955 006a 0446     		mov	r4, r0
 10956 006c 58B9     		cbnz	r0, .L849
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10957              		.loc 1 4773 6 is_stmt 1 view .LVU3765
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10958              		.loc 1 4773 84 is_stmt 0 view .LVU3766
 10959 006e 0C9A     		ldr	r2, [sp, #48]
 10960 0070 199B     		ldr	r3, [sp, #100]
 10961 0072 9A42     		cmp	r2, r3
 10962 0074 01D0     		beq	.L857
 10963              	.LVL1335:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10964              		.loc 1 4773 10 discriminator 6 view .LVU3767
 10965 0076 0824     		movs	r4, #8
 10966 0078 07E0     		b	.L850
 10967              	.LVL1336:
 10968              	.L857:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10969              		.loc 1 4773 46 discriminator 1 view .LVU3768
 10970 007a 0F9A     		ldr	r2, [sp, #60]
 10971 007c 1C9B     		ldr	r3, [sp, #112]
 10972 007e 9A42     		cmp	r2, r3
 10973 0080 10D0     		beq	.L851
 10974              	.LVL1337:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10975              		.loc 1 4773 10 discriminator 6 view .LVU3769
 10976 0082 0824     		movs	r4, #8
 10977 0084 01E0     		b	.L850
 10978              	.LVL1338:
ARM GAS  /tmp/ccSjSmmD.s 			page 356


 10979              	.L849:
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 10980              		.loc 1 4775 5 is_stmt 1 view .LVU3770
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 10981              		.loc 1 4775 8 is_stmt 0 view .LVU3771
 10982 0086 0428     		cmp	r0, #4
 10983 0088 0CD0     		beq	.L851
 10984              	.LVL1339:
 10985              	.L850:
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 10986              		.loc 1 4799 4 is_stmt 1 view .LVU3772
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 10987              		.loc 1 4799 7 is_stmt 0 view .LVU3773
 10988 008a 002C     		cmp	r4, #0
 10989 008c C6D1     		bne	.L847
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 10990              		.loc 1 4800 5 is_stmt 1 view .LVU3774
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 10991              		.loc 1 4800 11 is_stmt 0 view .LVU3775
 10992 008e 17A8     		add	r0, sp, #92
 10993 0090 FFF7FEFF 		bl	dir_remove
 10994              	.LVL1340:
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10995              		.loc 1 4801 5 is_stmt 1 view .LVU3776
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10996              		.loc 1 4801 8 is_stmt 0 view .LVU3777
 10997 0094 0446     		mov	r4, r0
 10998 0096 0028     		cmp	r0, #0
 10999 0098 C0D1     		bne	.L847
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11000              		.loc 1 4802 6 is_stmt 1 view .LVU3778
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11001              		.loc 1 4802 12 is_stmt 0 view .LVU3779
 11002 009a 0998     		ldr	r0, [sp, #36]
 11003              	.LVL1341:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11004              		.loc 1 4802 12 view .LVU3780
 11005 009c FFF7FEFF 		bl	sync_fs
 11006              	.LVL1342:
 11007 00a0 0446     		mov	r4, r0
 11008              	.LVL1343:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11009              		.loc 1 4802 12 view .LVU3781
 11010 00a2 BBE7     		b	.L847
 11011              	.LVL1344:
 11012              	.L851:
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 11013              		.loc 1 4776 6 is_stmt 1 view .LVU3782
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 11014              		.loc 1 4776 12 is_stmt 0 view .LVU3783
 11015 00a4 0AA8     		add	r0, sp, #40
 11016 00a6 FFF7FEFF 		bl	dir_register
 11017              	.LVL1345:
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 11018              		.loc 1 4777 6 is_stmt 1 view .LVU3784
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 11019              		.loc 1 4777 9 is_stmt 0 view .LVU3785
ARM GAS  /tmp/ccSjSmmD.s 			page 357


 11020 00aa 0446     		mov	r4, r0
 11021 00ac 0028     		cmp	r0, #0
 11022 00ae B5D1     		bne	.L847
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 11023              		.loc 1 4778 7 is_stmt 1 view .LVU3786
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 11024              		.loc 1 4778 11 is_stmt 0 view .LVU3787
 11025 00b0 129D     		ldr	r5, [sp, #72]
 11026              	.LVL1346:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 11027              		.loc 1 4779 7 is_stmt 1 view .LVU3788
 11028 00b2 1322     		movs	r2, #19
 11029 00b4 0DF10E01 		add	r1, sp, #14
 11030 00b8 05F10D00 		add	r0, r5, #13
 11031              	.LVL1347:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 11032              		.loc 1 4779 7 is_stmt 0 view .LVU3789
 11033 00bc FFF7FEFF 		bl	mem_cpy
 11034              	.LVL1348:
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11035              		.loc 1 4780 7 is_stmt 1 view .LVU3790
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11036              		.loc 1 4780 26 is_stmt 0 view .LVU3791
 11037 00c0 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11038              		.loc 1 4780 21 view .LVU3792
 11039 00c4 43F02003 		orr	r3, r3, #32
 11040 00c8 EB72     		strb	r3, [r5, #11]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 11041              		.loc 1 4781 7 is_stmt 1 view .LVU3793
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 11042              		.loc 1 4781 17 is_stmt 0 view .LVU3794
 11043 00ca 099B     		ldr	r3, [sp, #36]
 11044 00cc 0122     		movs	r2, #1
 11045 00ce DA70     		strb	r2, [r3, #3]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11046              		.loc 1 4782 7 is_stmt 1 view .LVU3795
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11047              		.loc 1 4782 15 is_stmt 0 view .LVU3796
 11048 00d0 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11049              		.loc 1 4782 10 view .LVU3797
 11050 00d2 13F0100F 		tst	r3, #16
 11051 00d6 D8D0     		beq	.L850
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11052              		.loc 1 4782 36 discriminator 1 view .LVU3798
 11053 00d8 199A     		ldr	r2, [sp, #100]
 11054 00da 0C9B     		ldr	r3, [sp, #48]
 11055 00dc 9A42     		cmp	r2, r3
 11056 00de D4D0     		beq	.L850
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 11057              		.loc 1 4783 8 is_stmt 1 view .LVU3799
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 11058              		.loc 1 4783 13 is_stmt 0 view .LVU3800
 11059 00e0 099C     		ldr	r4, [sp, #36]
 11060              	.LVL1349:
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
ARM GAS  /tmp/ccSjSmmD.s 			page 358


 11061              		.loc 1 4783 13 view .LVU3801
 11062 00e2 2946     		mov	r1, r5
 11063 00e4 2046     		mov	r0, r4
 11064 00e6 FFF7FEFF 		bl	ld_clust
 11065              	.LVL1350:
 11066 00ea 0146     		mov	r1, r0
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 11067              		.loc 1 4783 13 discriminator 1 view .LVU3802
 11068 00ec 2046     		mov	r0, r4
 11069 00ee FFF7FEFF 		bl	clust2sect
 11070              	.LVL1351:
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 11071              		.loc 1 4784 8 is_stmt 1 view .LVU3803
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 11072              		.loc 1 4784 11 is_stmt 0 view .LVU3804
 11073 00f2 0146     		mov	r1, r0
 11074 00f4 08B9     		cbnz	r0, .L858
 11075              	.LVL1352:
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 11076              		.loc 1 4785 13 view .LVU3805
 11077 00f6 0224     		movs	r4, #2
 11078 00f8 90E7     		b	.L847
 11079              	.LVL1353:
 11080              	.L858:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11081              		.loc 1 4788 9 is_stmt 1 view .LVU3806
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11082              		.loc 1 4788 15 is_stmt 0 view .LVU3807
 11083 00fa 2046     		mov	r0, r4
 11084              	.LVL1354:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11085              		.loc 1 4788 15 view .LVU3808
 11086 00fc FFF7FEFF 		bl	move_window
 11087              	.LVL1355:
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11088              		.loc 1 4789 9 is_stmt 1 view .LVU3809
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11089              		.loc 1 4789 17 is_stmt 0 view .LVU3810
 11090 0100 099B     		ldr	r3, [sp, #36]
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11091              		.loc 1 4789 13 view .LVU3811
 11092 0102 03F15401 		add	r1, r3, #84
 11093              	.LVL1356:
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11094              		.loc 1 4790 9 is_stmt 1 view .LVU3812
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11095              		.loc 1 4790 12 is_stmt 0 view .LVU3813
 11096 0106 0446     		mov	r4, r0
 11097 0108 0028     		cmp	r0, #0
 11098 010a 87D1     		bne	.L847
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11099              		.loc 1 4790 32 discriminator 1 view .LVU3814
 11100 010c 93F85520 		ldrb	r2, [r3, #85]	@ zero_extendqisi2
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11101              		.loc 1 4790 26 discriminator 1 view .LVU3815
 11102 0110 2E2A     		cmp	r2, #46
 11103 0112 BAD1     		bne	.L850
ARM GAS  /tmp/ccSjSmmD.s 			page 359


4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 11104              		.loc 1 4791 10 is_stmt 1 view .LVU3816
 11105 0114 0C9A     		ldr	r2, [sp, #48]
 11106 0116 1846     		mov	r0, r3
 11107              	.LVL1357:
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 11108              		.loc 1 4791 10 is_stmt 0 view .LVU3817
 11109 0118 FFF7FEFF 		bl	st_clust
 11110              	.LVL1358:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 11111              		.loc 1 4792 10 is_stmt 1 view .LVU3818
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 11112              		.loc 1 4792 20 is_stmt 0 view .LVU3819
 11113 011c 099B     		ldr	r3, [sp, #36]
 11114 011e 0122     		movs	r2, #1
 11115 0120 DA70     		strb	r2, [r3, #3]
 11116 0122 B2E7     		b	.L850
 11117              	.LVL1359:
 11118              	.L852:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 11119              		.loc 1 4792 20 view .LVU3820
 11120 0124 0624     		movs	r4, #6
 11121 0126 79E7     		b	.L847
 11122              		.cfi_endproc
 11123              	.LFE192:
 11125              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 11126              		.align	2
 11127              	.LC2:
 11128 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 11128      53444F53 
 11128      352E3000 
 11129              		.align	2
 11130              	.LC3:
 11131 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 11131      414D4520 
 11131      20202046 
 11131      41543332 
 11131      20202000 
 11132              		.align	2
 11133              	.LC4:
 11134 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 11134      414D4520 
 11134      20202046 
 11134      41542020 
 11134      20202000 
 11135              		.section	.text.f_mkfs,"ax",%progbits
 11136              		.align	1
 11137              		.global	f_mkfs
 11138              		.syntax unified
 11139              		.thumb
 11140              		.thumb_func
 11142              	f_mkfs:
 11143              	.LVL1360:
 11144              	.LFB193:
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 11145              		.loc 1 5308 1 is_stmt 1 view -0
 11146              		.cfi_startproc
ARM GAS  /tmp/ccSjSmmD.s 			page 360


 11147              		@ args = 4, pretend = 0, frame = 48
 11148              		@ frame_needed = 0, uses_anonymous_args = 0
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 11149              		.loc 1 5308 1 is_stmt 0 view .LVU3822
 11150 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 11151              		.cfi_def_cfa_offset 36
 11152              		.cfi_offset 4, -36
 11153              		.cfi_offset 5, -32
 11154              		.cfi_offset 6, -28
 11155              		.cfi_offset 7, -24
 11156              		.cfi_offset 8, -20
 11157              		.cfi_offset 9, -16
 11158              		.cfi_offset 10, -12
 11159              		.cfi_offset 11, -8
 11160              		.cfi_offset 14, -4
 11161 0004 8DB0     		sub	sp, sp, #52
 11162              		.cfi_def_cfa_offset 88
 11163 0006 0990     		str	r0, [sp, #36]
 11164 0008 0F46     		mov	r7, r1
 11165 000a 1546     		mov	r5, r2
 11166 000c 0093     		str	r3, [sp]
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
 11167              		.loc 1 5309 2 is_stmt 1 view .LVU3823
 11168              	.LVL1361:
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
 11169              		.loc 1 5310 2 view .LVU3824
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
 11170              		.loc 1 5311 2 view .LVU3825
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
 11171              		.loc 1 5312 2 view .LVU3826
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
 11172              		.loc 1 5313 2 view .LVU3827
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
 11173              		.loc 1 5314 2 view .LVU3828
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
 11174              		.loc 1 5315 2 view .LVU3829
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
 11175              		.loc 1 5316 2 view .LVU3830
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 11176              		.loc 1 5317 2 view .LVU3831
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 11177              		.loc 1 5318 2 view .LVU3832
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 11178              		.loc 1 5319 2 view .LVU3833
5320:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
 11179              		.loc 1 5320 2 view .LVU3834
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11180              		.loc 1 5327 2 view .LVU3835
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11181              		.loc 1 5327 8 is_stmt 0 view .LVU3836
 11182 000e 09A8     		add	r0, sp, #36
 11183              	.LVL1362:
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11184              		.loc 1 5327 8 view .LVU3837
 11185 0010 FFF7FEFF 		bl	get_ldnumber
 11186              	.LVL1363:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
ARM GAS  /tmp/ccSjSmmD.s 			page 361


 11187              		.loc 1 5328 2 is_stmt 1 view .LVU3838
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11188              		.loc 1 5328 5 is_stmt 0 view .LVU3839
 11189 0014 0028     		cmp	r0, #0
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11190              		.loc 1 5328 5 view .LVU3840
 11191 0016 C0F20183 		blt	.L903
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11192              		.loc 1 5329 2 is_stmt 1 view .LVU3841
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11193              		.loc 1 5329 11 is_stmt 0 view .LVU3842
 11194 001a 934B     		ldr	r3, .L955
 11195 001c 53F82030 		ldr	r3, [r3, r0, lsl #2]
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11196              		.loc 1 5329 5 view .LVU3843
 11197 0020 0BB1     		cbz	r3, .L861
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11198              		.loc 1 5329 18 is_stmt 1 discriminator 1 view .LVU3844
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11199              		.loc 1 5329 38 is_stmt 0 discriminator 1 view .LVU3845
 11200 0022 0022     		movs	r2, #0
 11201 0024 1A70     		strb	r2, [r3]
 11202              	.L861:
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 11203              		.loc 1 5330 2 is_stmt 1 view .LVU3846
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 11204              		.loc 1 5330 7 is_stmt 0 view .LVU3847
 11205 0026 C4B2     		uxtb	r4, r0
 11206              	.LVL1364:
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11207              		.loc 1 5331 2 is_stmt 1 view .LVU3848
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11208              		.loc 1 5334 2 view .LVU3849
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11209              		.loc 1 5334 9 is_stmt 0 view .LVU3850
 11210 0028 2046     		mov	r0, r4
 11211              	.LVL1365:
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11212              		.loc 1 5334 9 view .LVU3851
 11213 002a FFF7FEFF 		bl	disk_initialize
 11214              	.LVL1366:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11215              		.loc 1 5335 2 is_stmt 1 view .LVU3852
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11216              		.loc 1 5335 5 is_stmt 0 view .LVU3853
 11217 002e 10F0010F 		tst	r0, #1
 11218 0032 40F0F582 		bne	.L904
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11219              		.loc 1 5336 2 is_stmt 1 view .LVU3854
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11220              		.loc 1 5336 5 is_stmt 0 view .LVU3855
 11221 0036 10F0040F 		tst	r0, #4
 11222 003a 40F0F382 		bne	.L905
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11223              		.loc 1 5337 2 is_stmt 1 view .LVU3856
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11224              		.loc 1 5337 6 is_stmt 0 view .LVU3857
ARM GAS  /tmp/ccSjSmmD.s 			page 362


 11225 003e 0BAA     		add	r2, sp, #44
 11226 0040 0321     		movs	r1, #3
 11227 0042 2046     		mov	r0, r4
 11228              	.LVL1367:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11229              		.loc 1 5337 6 view .LVU3858
 11230 0044 FFF7FEFF 		bl	disk_ioctl
 11231              	.LVL1368:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11232              		.loc 1 5337 5 discriminator 1 view .LVU3859
 11233 0048 38B9     		cbnz	r0, .L862
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11234              		.loc 1 5337 61 discriminator 2 view .LVU3860
 11235 004a 0B9B     		ldr	r3, [sp, #44]
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11236              		.loc 1 5337 58 discriminator 2 view .LVU3861
 11237 004c 2BB1     		cbz	r3, .L862
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11238              		.loc 1 5337 69 discriminator 4 view .LVU3862
 11239 004e B3F5004F 		cmp	r3, #32768
 11240 0052 02D8     		bhi	.L862
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11241              		.loc 1 5337 108 discriminator 6 view .LVU3863
 11242 0054 5A1E     		subs	r2, r3, #1
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11243              		.loc 1 5337 87 discriminator 6 view .LVU3864
 11244 0056 1342     		tst	r3, r2
 11245 0058 01D0     		beq	.L863
 11246              	.L862:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11247              		.loc 1 5337 115 is_stmt 1 discriminator 7 view .LVU3865
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11248              		.loc 1 5337 122 is_stmt 0 discriminator 7 view .LVU3866
 11249 005a 0123     		movs	r3, #1
 11250 005c 0B93     		str	r3, [sp, #44]
 11251              	.L863:
5342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 11252              		.loc 1 5342 2 is_stmt 1 view .LVU3867
 11253              	.LVL1369:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11254              		.loc 1 5344 2 view .LVU3868
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11255              		.loc 1 5344 5 is_stmt 0 view .LVU3869
 11256 005e 3DB1     		cbz	r5, .L864
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11257              		.loc 1 5344 15 discriminator 1 view .LVU3870
 11258 0060 B5F5007F 		cmp	r5, #512
 11259 0064 C0F0E282 		bcc	.L906
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11260              		.loc 1 5344 27 discriminator 4 view .LVU3871
 11261 0068 B5F1807F 		cmp	r5, #16777216
 11262 006c 00F2E082 		bhi	.L907
 11263              	.L864:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11264              		.loc 1 5344 58 discriminator 6 view .LVU3872
 11265 0070 6B1E     		subs	r3, r5, #1
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
ARM GAS  /tmp/ccSjSmmD.s 			page 363


 11266              		.loc 1 5344 45 discriminator 6 view .LVU3873
 11267 0072 2B40     		ands	r3, r3, r5
 11268 0074 0293     		str	r3, [sp, #8]
 11269 0076 40F0DD82 		bne	.L908
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11270              		.loc 1 5345 2 is_stmt 1 view .LVU3874
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11271              		.loc 1 5345 5 is_stmt 0 view .LVU3875
 11272 007a 4FEA5529 		lsr	r9, r5, #9
 11273              	.LVL1370:
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
 11274              		.loc 1 5348 2 is_stmt 1 view .LVU3876
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 11275              		.loc 1 5349 2 view .LVU3877
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 11276              		.loc 1 5349 9 is_stmt 0 view .LVU3878
 11277 007e 169B     		ldr	r3, [sp, #88]
 11278 0080 5B0A     		lsrs	r3, r3, #9
 11279 0082 0393     		str	r3, [sp, #12]
 11280              	.LVL1371:
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 11281              		.loc 1 5350 2 is_stmt 1 view .LVU3879
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 11282              		.loc 1 5350 10 is_stmt 0 view .LVU3880
 11283 0084 169E     		ldr	r6, [sp, #88]
 11284 0086 6FF30806 		bfc	r6, #0, #9
 11285              	.LVL1372:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11286              		.loc 1 5351 2 is_stmt 1 view .LVU3881
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11287              		.loc 1 5351 5 is_stmt 0 view .LVU3882
 11288 008a 002E     		cmp	r6, #0
 11289 008c 00F0D482 		beq	.L909
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 11290              		.loc 1 5354 2 is_stmt 1 view .LVU3883
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11291              		.loc 1 5364 3 view .LVU3884
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11292              		.loc 1 5364 7 is_stmt 0 view .LVU3885
 11293 0090 0AAA     		add	r2, sp, #40
 11294 0092 0121     		movs	r1, #1
 11295 0094 2046     		mov	r0, r4
 11296 0096 FFF7FEFF 		bl	disk_ioctl
 11297              	.LVL1373:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11298              		.loc 1 5364 6 discriminator 1 view .LVU3886
 11299 009a 0028     		cmp	r0, #0
 11300 009c 40F0CE82 		bne	.L910
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11301              		.loc 1 5365 3 is_stmt 1 view .LVU3887
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11302              		.loc 1 5365 30 is_stmt 0 view .LVU3888
 11303 00a0 17F00803 		ands	r3, r7, #8
 11304 00a4 0493     		str	r3, [sp, #16]
 11305 00a6 06D1     		bne	.L911
 11306              	.LVL1374:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
ARM GAS  /tmp/ccSjSmmD.s 			page 364


 11307              		.loc 1 5366 3 is_stmt 1 view .LVU3889
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11308              		.loc 1 5366 14 is_stmt 0 view .LVU3890
 11309 00a8 0A9B     		ldr	r3, [sp, #40]
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11310              		.loc 1 5366 6 view .LVU3891
 11311 00aa 3E2B     		cmp	r3, #62
 11312 00ac 40F2C882 		bls	.L912
 11313 00b0 3F23     		movs	r3, #63
 11314 00b2 0193     		str	r3, [sp, #4]
 11315 00b4 01E0     		b	.L865
 11316              	.LVL1375:
 11317              	.L911:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11318              		.loc 1 5365 30 discriminator 1 view .LVU3892
 11319 00b6 029B     		ldr	r3, [sp, #8]
 11320 00b8 0193     		str	r3, [sp, #4]
 11321              	.L865:
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11322              		.loc 1 5367 3 is_stmt 1 view .LVU3893
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11323              		.loc 1 5367 10 is_stmt 0 view .LVU3894
 11324 00ba 0A99     		ldr	r1, [sp, #40]
 11325 00bc 019B     		ldr	r3, [sp, #4]
 11326 00be C91A     		subs	r1, r1, r3
 11327 00c0 0A91     		str	r1, [sp, #40]
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11328              		.loc 1 5369 2 is_stmt 1 view .LVU3895
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11329              		.loc 1 5369 5 is_stmt 0 view .LVU3896
 11330 00c2 7F29     		cmp	r1, #127
 11331 00c4 40F2BE82 		bls	.L913
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 11332              		.loc 1 5372 2 is_stmt 1 view .LVU3897
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
 11333              		.loc 1 5373 3 view .LVU3898
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11334              		.loc 1 5378 3 view .LVU3899
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11335              		.loc 1 5378 6 is_stmt 0 view .LVU3900
 11336 00c8 B5F5813F 		cmp	r5, #66048
 11337 00cc 80F0BC82 		bcs	.L914
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 11338              		.loc 1 5379 3 is_stmt 1 view .LVU3901
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 11339              		.loc 1 5379 6 is_stmt 0 view .LVU3902
 11340 00d0 17F00200 		ands	r0, r7, #2
 11341 00d4 0BD0     		beq	.L866
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11342              		.loc 1 5380 4 is_stmt 1 view .LVU3903
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11343              		.loc 1 5380 7 is_stmt 0 view .LVU3904
 11344 00d6 07F00703 		and	r3, r7, #7
 11345 00da 022B     		cmp	r3, #2
 11346 00dc 10D0     		beq	.L915
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11347              		.loc 1 5380 35 discriminator 1 view .LVU3905
ARM GAS  /tmp/ccSjSmmD.s 			page 365


 11348 00de 17F0010F 		tst	r7, #1
 11349 00e2 12D1     		bne	.L916
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11350              		.loc 1 5381 9 view .LVU3906
 11351 00e4 4FF0030A 		mov	r10, #3
 11352 00e8 8E46     		mov	lr, r1
 11353 00ea 4946     		mov	r1, r9
 11354 00ec 68E0     		b	.L868
 11355              	.L866:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11356              		.loc 1 5384 3 is_stmt 1 view .LVU3907
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11357              		.loc 1 5384 6 is_stmt 0 view .LVU3908
 11358 00ee 17F0010F 		tst	r7, #1
 11359 00f2 00F0AB82 		beq	.L917
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 11360              		.loc 1 5385 7 view .LVU3909
 11361 00f6 4FF0020A 		mov	r10, #2
 11362 00fa 8E46     		mov	lr, r1
 11363 00fc 4946     		mov	r1, r9
 11364 00fe 5FE0     		b	.L868
 11365              	.L915:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11366              		.loc 1 5381 9 view .LVU3910
 11367 0100 4FF0030A 		mov	r10, #3
 11368 0104 8E46     		mov	lr, r1
 11369 0106 4946     		mov	r1, r9
 11370 0108 5AE0     		b	.L868
 11371              	.L916:
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 11372              		.loc 1 5385 7 view .LVU3911
 11373 010a 4FF0020A 		mov	r10, #2
 11374 010e 8E46     		mov	lr, r1
 11375 0110 4946     		mov	r1, r9
 11376 0112 55E0     		b	.L868
 11377              	.LVL1376:
 11378              	.L923:
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11379              		.loc 1 5604 10 view .LVU3912
 11380 0114 1946     		mov	r1, r3
 11381              	.LVL1377:
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11382              		.loc 1 5604 10 view .LVU3913
 11383 0116 53E0     		b	.L868
 11384              	.LVL1378:
 11385              	.L924:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11386              		.loc 1 5607 11 view .LVU3914
 11387 0118 4FF0030A 		mov	r10, #3
 11388              	.LVL1379:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11389              		.loc 1 5607 11 view .LVU3915
 11390 011c 50E0     		b	.L868
 11391              	.LVL1380:
 11392              	.L944:
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 11393              		.loc 1 5556 5 is_stmt 1 view .LVU3916
ARM GAS  /tmp/ccSjSmmD.s 			page 366


5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 11394              		.loc 1 5556 8 is_stmt 0 view .LVU3917
 11395 011e 91B1     		cbz	r1, .L942
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 11396              		.loc 1 5553 8 view .LVU3918
 11397 0120 0F46     		mov	r7, r1
 11398              	.LVL1381:
 11399              	.L870:
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 11400              		.loc 1 5560 5 is_stmt 1 view .LVU3919
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 11401              		.loc 1 5560 12 is_stmt 0 view .LVU3920
 11402 0122 BEFBF7F3 		udiv	r3, lr, r7
 11403              	.LVL1382:
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11404              		.loc 1 5561 5 is_stmt 1 view .LVU3921
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11405              		.loc 1 5561 35 is_stmt 0 view .LVU3922
 11406 0126 9D00     		lsls	r5, r3, #2
 11407 0128 05F20725 		addw	r5, r5, #519
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11408              		.loc 1 5561 12 view .LVU3923
 11409 012c 6D0A     		lsrs	r5, r5, #9
 11410              	.LVL1383:
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 11411              		.loc 1 5562 5 is_stmt 1 view .LVU3924
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 11412              		.loc 1 5563 5 view .LVU3925
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11413              		.loc 1 5564 5 view .LVU3926
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11414              		.loc 1 5564 29 is_stmt 0 view .LVU3927
 11415 012e A3F57F43 		sub	r3, r3, #65280
 11416              	.LVL1384:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11417              		.loc 1 5564 29 view .LVU3928
 11418 0132 F63B     		subs	r3, r3, #246
 11419              	.LVL1385:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11420              		.loc 1 5564 8 view .LVU3929
 11421 0134 4D4A     		ldr	r2, .L955+4
 11422 0136 9342     		cmp	r3, r2
 11423 0138 00F28A82 		bhi	.L919
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 11424              		.loc 1 5563 12 view .LVU3930
 11425 013c DDF80890 		ldr	r9, [sp, #8]
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 11426              		.loc 1 5562 12 view .LVU3931
 11427 0140 4FF0200B 		mov	fp, #32
 11428 0144 51E0     		b	.L873
 11429              	.LVL1386:
 11430              	.L942:
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11431              		.loc 1 5557 6 is_stmt 1 view .LVU3932
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11432              		.loc 1 5557 8 is_stmt 0 view .LVU3933
 11433 0146 4FEA5E45 		lsr	r5, lr, #17
ARM GAS  /tmp/ccSjSmmD.s 			page 367


 11434              	.LVL1387:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11435              		.loc 1 5558 6 is_stmt 1 view .LVU3934
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11436              		.loc 1 5558 13 is_stmt 0 view .LVU3935
 11437 014a 0A46     		mov	r2, r1
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11438              		.loc 1 5558 22 view .LVU3936
 11439 014c 0127     		movs	r7, #1
 11440              	.LVL1388:
 11441              	.L871:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11442              		.loc 1 5558 36 is_stmt 1 discriminator 1 view .LVU3937
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11443              		.loc 1 5558 32 is_stmt 0 discriminator 1 view .LVU3938
 11444 014e 484B     		ldr	r3, .L955+8
 11445 0150 33F81230 		ldrh	r3, [r3, r2, lsl #1]
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11446              		.loc 1 5558 36 discriminator 1 view .LVU3939
 11447 0154 002B     		cmp	r3, #0
 11448 0156 E4D0     		beq	.L870
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11449              		.loc 1 5558 36 discriminator 3 view .LVU3940
 11450 0158 AB42     		cmp	r3, r5
 11451 015a E2D8     		bhi	.L870
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11452              		.loc 1 5558 57 is_stmt 1 discriminator 4 view .LVU3941
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11453              		.loc 1 5558 55 is_stmt 0 discriminator 4 view .LVU3942
 11454 015c 0132     		adds	r2, r2, #1
 11455              	.LVL1389:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11456              		.loc 1 5558 63 discriminator 4 view .LVU3943
 11457 015e 7F00     		lsls	r7, r7, #1
 11458              	.LVL1390:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11459              		.loc 1 5558 63 discriminator 4 view .LVU3944
 11460 0160 F5E7     		b	.L871
 11461              	.LVL1391:
 11462              	.L945:
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11463              		.loc 1 5567 6 is_stmt 1 view .LVU3945
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11464              		.loc 1 5567 8 is_stmt 0 view .LVU3946
 11465 0162 4FEA1E35 		lsr	r5, lr, #12
 11466              	.LVL1392:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11467              		.loc 1 5568 6 is_stmt 1 view .LVU3947
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11468              		.loc 1 5568 13 is_stmt 0 view .LVU3948
 11469 0166 0A46     		mov	r2, r1
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11470              		.loc 1 5568 22 view .LVU3949
 11471 0168 0127     		movs	r7, #1
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11472              		.loc 1 5568 6 view .LVU3950
 11473 016a 01E0     		b	.L875
ARM GAS  /tmp/ccSjSmmD.s 			page 368


 11474              	.LVL1393:
 11475              	.L876:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11476              		.loc 1 5568 53 is_stmt 1 discriminator 4 view .LVU3951
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11477              		.loc 1 5568 51 is_stmt 0 discriminator 4 view .LVU3952
 11478 016c 0132     		adds	r2, r2, #1
 11479              	.LVL1394:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11480              		.loc 1 5568 59 discriminator 4 view .LVU3953
 11481 016e 7F00     		lsls	r7, r7, #1
 11482              	.LVL1395:
 11483              	.L875:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11484              		.loc 1 5568 34 is_stmt 1 discriminator 1 view .LVU3954
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11485              		.loc 1 5568 30 is_stmt 0 discriminator 1 view .LVU3955
 11486 0170 404B     		ldr	r3, .L955+12
 11487 0172 33F81230 		ldrh	r3, [r3, r2, lsl #1]
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11488              		.loc 1 5568 34 discriminator 1 view .LVU3956
 11489 0176 4BB3     		cbz	r3, .L874
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11490              		.loc 1 5568 34 discriminator 3 view .LVU3957
 11491 0178 AB42     		cmp	r3, r5
 11492 017a F7D9     		bls	.L876
 11493 017c 26E0     		b	.L874
 11494              	.LVL1396:
 11495              	.L877:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 11496              		.loc 1 5574 6 is_stmt 1 view .LVU3958
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11497              		.loc 1 5575 6 view .LVU3959
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11498              		.loc 1 5575 18 is_stmt 0 view .LVU3960
 11499 017e 03EB4305 		add	r5, r3, r3, lsl #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11500              		.loc 1 5575 22 view .LVU3961
 11501 0182 0135     		adds	r5, r5, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11502              		.loc 1 5575 27 view .LVU3962
 11503 0184 6D08     		lsrs	r5, r5, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11504              		.loc 1 5575 8 view .LVU3963
 11505 0186 0335     		adds	r5, r5, #3
 11506              	.LVL1397:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 11507              		.loc 1 5574 10 view .LVU3964
 11508 0188 4FF0010A 		mov	r10, #1
 11509 018c 26E0     		b	.L878
 11510              	.LVL1398:
 11511              	.L946:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11512              		.loc 1 5587 5 is_stmt 1 view .LVU3965
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11513              		.loc 1 5587 12 is_stmt 0 view .LVU3966
 11514 018e 9344     		add	fp, fp, r2
ARM GAS  /tmp/ccSjSmmD.s 			page 369


 11515              	.LVL1399:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11516              		.loc 1 5587 18 is_stmt 1 view .LVU3967
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11517              		.loc 1 5587 24 is_stmt 0 view .LVU3968
 11518 0190 9044     		add	r8, r8, r2
 11519              	.LVL1400:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 11520              		.loc 1 5587 24 view .LVU3969
 11521 0192 3EE0     		b	.L880
 11522              	.LVL1401:
 11523              	.L947:
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 11524              		.loc 1 5596 5 is_stmt 1 view .LVU3970
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 11525              		.loc 1 5596 8 is_stmt 0 view .LVU3971
 11526 0194 4FF6F572 		movw	r2, #65525
 11527 0198 9342     		cmp	r3, r2
 11528 019a 4BD8     		bhi	.L881
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11529              		.loc 1 5597 6 is_stmt 1 view .LVU3972
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11530              		.loc 1 5597 9 is_stmt 0 view .LVU3973
 11531 019c 0029     		cmp	r1, #0
 11532 019e 40F05B82 		bne	.L922
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11533              		.loc 1 5597 21 discriminator 1 view .LVU3974
 11534 01a2 7908     		lsrs	r1, r7, #1
 11535              	.LVL1402:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11536              		.loc 1 5597 14 discriminator 1 view .LVU3975
 11537 01a4 012F     		cmp	r7, #1
 11538 01a6 0BD8     		bhi	.L868
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11539              		.loc 1 5598 13 view .LVU3976
 11540 01a8 0E20     		movs	r0, #14
 11541 01aa 3CE2     		b	.L860
 11542              	.L884:
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 11543              		.loc 1 5612 5 is_stmt 1 view .LVU3977
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 11544              		.loc 1 5612 9 is_stmt 0 view .LVU3978
 11545 01ac 40F6F572 		movw	r2, #4085
 11546 01b0 9342     		cmp	r3, r2
 11547 01b2 61D8     		bhi	.L883
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11548              		.loc 1 5613 6 is_stmt 1 view .LVU3979
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11549              		.loc 1 5613 9 is_stmt 0 view .LVU3980
 11550 01b4 0029     		cmp	r1, #0
 11551 01b6 40F05382 		bne	.L926
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11552              		.loc 1 5613 21 discriminator 1 view .LVU3981
 11553 01ba 7900     		lsls	r1, r7, #1
 11554              	.LVL1403:
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11555              		.loc 1 5613 14 discriminator 1 view .LVU3982
ARM GAS  /tmp/ccSjSmmD.s 			page 370


 11556 01bc 8029     		cmp	r1, #128
 11557 01be 50D8     		bhi	.L943
 11558              	.LVL1404:
 11559              	.L868:
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 11560              		.loc 1 5372 5 is_stmt 1 view .LVU3983
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
 11561              		.loc 1 5552 3 view .LVU3984
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 11562              		.loc 1 5553 4 view .LVU3985
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11563              		.loc 1 5555 4 view .LVU3986
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11564              		.loc 1 5555 7 is_stmt 0 view .LVU3987
 11565 01c0 BAF1030F 		cmp	r10, #3
 11566 01c4 ABD0     		beq	.L944
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11567              		.loc 1 5566 5 is_stmt 1 view .LVU3988
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11568              		.loc 1 5566 8 is_stmt 0 view .LVU3989
 11569 01c6 0029     		cmp	r1, #0
 11570 01c8 CBD0     		beq	.L945
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 11571              		.loc 1 5553 8 view .LVU3990
 11572 01ca 0F46     		mov	r7, r1
 11573              	.LVL1405:
 11574              	.L874:
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11575              		.loc 1 5570 5 is_stmt 1 view .LVU3991
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11576              		.loc 1 5570 12 is_stmt 0 view .LVU3992
 11577 01cc BEFBF7F3 		udiv	r3, lr, r7
 11578              	.LVL1406:
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11579              		.loc 1 5571 5 is_stmt 1 view .LVU3993
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11580              		.loc 1 5571 8 is_stmt 0 view .LVU3994
 11581 01d0 40F6F572 		movw	r2, #4085
 11582 01d4 9342     		cmp	r3, r2
 11583 01d6 D2D9     		bls	.L877
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11584              		.loc 1 5572 6 is_stmt 1 view .LVU3995
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11585              		.loc 1 5572 21 is_stmt 0 view .LVU3996
 11586 01d8 9D1C     		adds	r5, r3, #2
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11587              		.loc 1 5572 8 view .LVU3997
 11588 01da 6D00     		lsls	r5, r5, #1
 11589              	.LVL1407:
 11590              	.L878:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11591              		.loc 1 5577 5 is_stmt 1 view .LVU3998
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11592              		.loc 1 5577 22 is_stmt 0 view .LVU3999
 11593 01dc 05F2FF15 		addw	r5, r5, #511
 11594              	.LVL1408:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
ARM GAS  /tmp/ccSjSmmD.s 			page 371


 11595              		.loc 1 5577 12 view .LVU4000
 11596 01e0 6D0A     		lsrs	r5, r5, #9
 11597              	.LVL1409:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 11598              		.loc 1 5578 5 is_stmt 1 view .LVU4001
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11599              		.loc 1 5579 5 view .LVU4002
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11600              		.loc 1 5579 12 is_stmt 0 view .LVU4003
 11601 01e2 4FF02009 		mov	r9, #32
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 11602              		.loc 1 5578 12 view .LVU4004
 11603 01e6 4FF0010B 		mov	fp, #1
 11604              	.LVL1410:
 11605              	.L873:
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11606              		.loc 1 5581 4 is_stmt 1 view .LVU4005
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11607              		.loc 1 5581 10 is_stmt 0 view .LVU4006
 11608 01ea 019B     		ldr	r3, [sp, #4]
 11609 01ec 0BEB0308 		add	r8, fp, r3
 11610              	.LVL1411:
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11611              		.loc 1 5582 4 is_stmt 1 view .LVU4007
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11612              		.loc 1 5582 19 is_stmt 0 view .LVU4008
 11613 01f0 05EB0803 		add	r3, r5, r8
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11614              		.loc 1 5582 11 view .LVU4009
 11615 01f4 4B44     		add	r3, r3, r9
 11616              	.LVL1412:
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11617              		.loc 1 5585 4 is_stmt 1 view .LVU4010
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11618              		.loc 1 5585 17 is_stmt 0 view .LVU4011
 11619 01f6 DDF82CC0 		ldr	ip, [sp, #44]
 11620 01fa 0CEB0302 		add	r2, ip, r3
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11621              		.loc 1 5585 26 view .LVU4012
 11622 01fe 013A     		subs	r2, r2, #1
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11623              		.loc 1 5585 33 view .LVU4013
 11624 0200 CCF1000C 		rsb	ip, ip, #0
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11625              		.loc 1 5585 31 view .LVU4014
 11626 0204 02EA0C02 		and	r2, r2, ip
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11627              		.loc 1 5585 6 view .LVU4015
 11628 0208 D21A     		subs	r2, r2, r3
 11629              	.LVL1413:
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11630              		.loc 1 5586 4 is_stmt 1 view .LVU4016
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11631              		.loc 1 5586 7 is_stmt 0 view .LVU4017
 11632 020a BAF1030F 		cmp	r10, #3
 11633 020e BED0     		beq	.L946
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccSjSmmD.s 			page 372


 11634              		.loc 1 5589 5 is_stmt 1 view .LVU4018
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11635              		.loc 1 5589 12 is_stmt 0 view .LVU4019
 11636 0210 1544     		add	r5, r5, r2
 11637              	.LVL1414:
 11638              	.L880:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11639              		.loc 1 5593 4 is_stmt 1 view .LVU4020
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11640              		.loc 1 5593 24 is_stmt 0 view .LVU4021
 11641 0212 03EB0713 		add	r3, r3, r7, lsl #4
 11642              	.LVL1415:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11643              		.loc 1 5593 35 view .LVU4022
 11644 0216 019A     		ldr	r2, [sp, #4]
 11645              	.LVL1416:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11646              		.loc 1 5593 35 view .LVU4023
 11647 0218 9B1A     		subs	r3, r3, r2
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11648              		.loc 1 5593 7 view .LVU4024
 11649 021a 9E45     		cmp	lr, r3
 11650 021c C0F01A82 		bcc	.L921
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11651              		.loc 1 5594 4 is_stmt 1 view .LVU4025
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11652              		.loc 1 5594 21 is_stmt 0 view .LVU4026
 11653 0220 AEEB0B03 		sub	r3, lr, fp
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11654              		.loc 1 5594 30 view .LVU4027
 11655 0224 5B1B     		subs	r3, r3, r5
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11656              		.loc 1 5594 48 view .LVU4028
 11657 0226 A3EB0903 		sub	r3, r3, r9
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11658              		.loc 1 5594 11 view .LVU4029
 11659 022a B3FBF7F3 		udiv	r3, r3, r7
 11660              	.LVL1417:
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11661              		.loc 1 5595 4 is_stmt 1 view .LVU4030
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11662              		.loc 1 5595 7 is_stmt 0 view .LVU4031
 11663 022e BAF1030F 		cmp	r10, #3
 11664 0232 AFD0     		beq	.L947
 11665              	.L881:
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11666              		.loc 1 5601 4 is_stmt 1 view .LVU4032
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11667              		.loc 1 5601 7 is_stmt 0 view .LVU4033
 11668 0234 BAF1020F 		cmp	r10, #2
 11669 0238 1ED1     		bne	.L883
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11670              		.loc 1 5602 5 is_stmt 1 view .LVU4034
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11671              		.loc 1 5602 8 is_stmt 0 view .LVU4035
 11672 023a 4FF6F572 		movw	r2, #65525
 11673 023e 9342     		cmp	r3, r2
ARM GAS  /tmp/ccSjSmmD.s 			page 373


 11674 0240 B4D9     		bls	.L884
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11675              		.loc 1 5603 6 is_stmt 1 view .LVU4036
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11676              		.loc 1 5603 9 is_stmt 0 view .LVU4037
 11677 0242 19B9     		cbnz	r1, .L885
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11678              		.loc 1 5603 22 discriminator 1 view .LVU4038
 11679 0244 7B00     		lsls	r3, r7, #1
 11680              	.LVL1418:
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11681              		.loc 1 5603 14 discriminator 1 view .LVU4039
 11682 0246 402B     		cmp	r3, #64
 11683 0248 7FF664AF 		bls	.L923
 11684              	.L885:
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11685              		.loc 1 5606 6 is_stmt 1 view .LVU4040
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11686              		.loc 1 5606 9 is_stmt 0 view .LVU4041
 11687 024c 0028     		cmp	r0, #0
 11688 024e 7FF463AF 		bne	.L924
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11689              		.loc 1 5609 6 is_stmt 1 view .LVU4042
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11690              		.loc 1 5609 9 is_stmt 0 view .LVU4043
 11691 0252 0029     		cmp	r1, #0
 11692 0254 40F00282 		bne	.L925
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11693              		.loc 1 5609 21 discriminator 1 view .LVU4044
 11694 0258 7900     		lsls	r1, r7, #1
 11695              	.LVL1419:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11696              		.loc 1 5609 14 discriminator 1 view .LVU4045
 11697 025a 8029     		cmp	r1, #128
 11698 025c B0D9     		bls	.L868
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11699              		.loc 1 5610 13 view .LVU4046
 11700 025e 0E20     		movs	r0, #14
 11701 0260 E1E1     		b	.L860
 11702              	.LVL1420:
 11703              	.L943:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11704              		.loc 1 5614 13 view .LVU4047
 11705 0262 0E20     		movs	r0, #14
 11706 0264 DFE1     		b	.L860
 11707              	.L956:
 11708 0266 00BF     		.align	2
 11709              	.L955:
 11710 0268 00000000 		.word	FatFs
 11711 026c FFFFFE0F 		.word	268369919
 11712 0270 00000000 		.word	cst32.1
 11713 0274 00000000 		.word	cst.0
 11714              	.L883:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11715              		.loc 1 5617 7 view .LVU4048
 11716 0278 CDF81890 		str	r9, [sp, #24]
 11717 027c CDF81480 		str	r8, [sp, #20]
ARM GAS  /tmp/ccSjSmmD.s 			page 374


 11718 0280 9846     		mov	r8, r3
 11719              	.LVL1421:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11720              		.loc 1 5617 4 is_stmt 1 view .LVU4049
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11721              		.loc 1 5617 7 is_stmt 0 view .LVU4050
 11722 0282 BAF1010F 		cmp	r10, #1
 11723 0286 04D1     		bne	.L886
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11724              		.loc 1 5617 24 discriminator 1 view .LVU4051
 11725 0288 40F6F573 		movw	r3, #4085
 11726              	.LVL1422:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11727              		.loc 1 5617 24 discriminator 1 view .LVU4052
 11728 028c 9845     		cmp	r8, r3
 11729 028e 00F2E981 		bhi	.L927
 11730              	.L886:
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
 11731              		.loc 1 5620 4 is_stmt 1 view .LVU4053
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 11732              		.loc 1 5628 3 view .LVU4054
 11733 0292 4FF40072 		mov	r2, #512
 11734 0296 0021     		movs	r1, #0
 11735              	.LVL1423:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 11736              		.loc 1 5628 3 is_stmt 0 view .LVU4055
 11737 0298 DDF80090 		ldr	r9, [sp]
 11738              	.LVL1424:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 11739              		.loc 1 5628 3 view .LVU4056
 11740 029c 4846     		mov	r0, r9
 11741 029e FFF7FEFF 		bl	mem_set
 11742              	.LVL1425:
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 11743              		.loc 1 5629 3 is_stmt 1 view .LVU4057
 11744 02a2 0B22     		movs	r2, #11
 11745 02a4 B349     		ldr	r1, .L957
 11746 02a6 4846     		mov	r0, r9
 11747 02a8 FFF7FEFF 		bl	mem_cpy
 11748              	.LVL1426:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 11749              		.loc 1 5630 3 view .LVU4058
 11750 02ac 4FF40071 		mov	r1, #512
 11751 02b0 CDF80090 		str	r9, [sp]
 11752              	.LVL1427:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 11753              		.loc 1 5630 3 is_stmt 0 view .LVU4059
 11754 02b4 09F10B00 		add	r0, r9, #11
 11755 02b8 FFF7FEFF 		bl	st_word
 11756              	.LVL1428:
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 11757              		.loc 1 5631 3 is_stmt 1 view .LVU4060
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 11758              		.loc 1 5631 23 is_stmt 0 view .LVU4061
 11759 02bc 009B     		ldr	r3, [sp]
 11760 02be 5F73     		strb	r7, [r3, #13]
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
ARM GAS  /tmp/ccSjSmmD.s 			page 375


 11761              		.loc 1 5632 3 is_stmt 1 view .LVU4062
 11762 02c0 1FFA8BF1 		uxth	r1, fp
 11763 02c4 03F10E00 		add	r0, r3, #14
 11764 02c8 FFF7FEFF 		bl	st_word
 11765              	.LVL1429:
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 11766              		.loc 1 5633 3 view .LVU4063
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 11767              		.loc 1 5633 20 is_stmt 0 view .LVU4064
 11768 02cc 0123     		movs	r3, #1
 11769 02ce 009A     		ldr	r2, [sp]
 11770 02d0 1374     		strb	r3, [r2, #16]
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11771              		.loc 1 5634 3 is_stmt 1 view .LVU4065
 11772 02d2 02F11100 		add	r0, r2, #17
 11773 02d6 BAF1030F 		cmp	r10, #3
 11774 02da 00F08F80 		beq	.L948
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11775              		.loc 1 5634 3 is_stmt 0 discriminator 2 view .LVU4066
 11776 02de 4FF40071 		mov	r1, #512
 11777              	.L887:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11778              		.loc 1 5634 3 discriminator 4 view .LVU4067
 11779 02e2 FFF7FEFF 		bl	st_word
 11780              	.LVL1430:
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 11781              		.loc 1 5635 3 is_stmt 1 view .LVU4068
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 11782              		.loc 1 5635 14 is_stmt 0 view .LVU4069
 11783 02e6 0A99     		ldr	r1, [sp, #40]
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 11784              		.loc 1 5635 6 view .LVU4070
 11785 02e8 B1F5803F 		cmp	r1, #65536
 11786 02ec 80F08880 		bcs	.L888
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11787              		.loc 1 5636 4 is_stmt 1 view .LVU4071
 11788 02f0 89B2     		uxth	r1, r1
 11789 02f2 009B     		ldr	r3, [sp]
 11790 02f4 03F11300 		add	r0, r3, #19
 11791 02f8 FFF7FEFF 		bl	st_word
 11792              	.LVL1431:
 11793              	.L889:
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 11794              		.loc 1 5640 3 view .LVU4072
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 11795              		.loc 1 5640 18 is_stmt 0 view .LVU4073
 11796 02fc F823     		movs	r3, #248
 11797 02fe 009A     		ldr	r2, [sp]
 11798 0300 5375     		strb	r3, [r2, #21]
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 11799              		.loc 1 5641 3 is_stmt 1 view .LVU4074
 11800 0302 3F21     		movs	r1, #63
 11801 0304 02F11800 		add	r0, r2, #24
 11802 0308 FFF7FEFF 		bl	st_word
 11803              	.LVL1432:
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 11804              		.loc 1 5642 3 view .LVU4075
ARM GAS  /tmp/ccSjSmmD.s 			page 376


 11805 030c FF21     		movs	r1, #255
 11806 030e 009A     		ldr	r2, [sp]
 11807 0310 02F11A00 		add	r0, r2, #26
 11808 0314 FFF7FEFF 		bl	st_word
 11809              	.LVL1433:
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 11810              		.loc 1 5643 3 view .LVU4076
 11811 0318 0199     		ldr	r1, [sp, #4]
 11812 031a 009A     		ldr	r2, [sp]
 11813 031c 02F11C00 		add	r0, r2, #28
 11814 0320 FFF7FEFF 		bl	st_dword
 11815              	.LVL1434:
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 11816              		.loc 1 5644 3 view .LVU4077
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 11817              		.loc 1 5644 6 is_stmt 0 view .LVU4078
 11818 0324 BAF1030F 		cmp	r10, #3
 11819 0328 70D0     		beq	.L949
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 11820              		.loc 1 5654 4 is_stmt 1 view .LVU4079
 11821 032a FFF7FEFF 		bl	get_fattime
 11822              	.LVL1435:
 11823 032e 0146     		mov	r1, r0
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 11824              		.loc 1 5654 4 is_stmt 0 discriminator 1 view .LVU4080
 11825 0330 009A     		ldr	r2, [sp]
 11826 0332 02F12700 		add	r0, r2, #39
 11827 0336 FFF7FEFF 		bl	st_dword
 11828              	.LVL1436:
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 11829              		.loc 1 5655 4 is_stmt 1 view .LVU4081
 11830 033a A9B2     		uxth	r1, r5
 11831 033c 009A     		ldr	r2, [sp]
 11832 033e 02F11600 		add	r0, r2, #22
 11833 0342 FFF7FEFF 		bl	st_word
 11834              	.LVL1437:
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 11835              		.loc 1 5656 4 view .LVU4082
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 11836              		.loc 1 5656 19 is_stmt 0 view .LVU4083
 11837 0346 8023     		movs	r3, #128
 11838 0348 0098     		ldr	r0, [sp]
 11839 034a 80F82430 		strb	r3, [r0, #36]
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 11840              		.loc 1 5657 4 is_stmt 1 view .LVU4084
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 11841              		.loc 1 5657 20 is_stmt 0 view .LVU4085
 11842 034e 2923     		movs	r3, #41
 11843 0350 80F82630 		strb	r3, [r0, #38]
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11844              		.loc 1 5658 4 is_stmt 1 view .LVU4086
 11845 0354 1322     		movs	r2, #19
 11846 0356 8849     		ldr	r1, .L957+4
 11847 0358 2B30     		adds	r0, r0, #43
 11848 035a FFF7FEFF 		bl	mem_cpy
 11849              	.LVL1438:
 11850              	.L891:
ARM GAS  /tmp/ccSjSmmD.s 			page 377


5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 11851              		.loc 1 5660 3 view .LVU4087
 11852 035e 009B     		ldr	r3, [sp]
 11853 0360 03F5FF79 		add	r9, r3, #510
 11854 0364 4AF65521 		movw	r1, #43605
 11855 0368 4846     		mov	r0, r9
 11856 036a FFF7FEFF 		bl	st_word
 11857              	.LVL1439:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11858              		.loc 1 5661 3 view .LVU4088
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11859              		.loc 1 5661 7 is_stmt 0 view .LVU4089
 11860 036e 0123     		movs	r3, #1
 11861 0370 019A     		ldr	r2, [sp, #4]
 11862 0372 0099     		ldr	r1, [sp]
 11863 0374 2046     		mov	r0, r4
 11864 0376 FFF7FEFF 		bl	disk_write
 11865              	.LVL1440:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11866              		.loc 1 5661 6 discriminator 1 view .LVU4090
 11867 037a 0028     		cmp	r0, #0
 11868 037c 40F07481 		bne	.L929
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 11869              		.loc 1 5664 3 is_stmt 1 view .LVU4091
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 11870              		.loc 1 5664 6 is_stmt 0 view .LVU4092
 11871 0380 BAF1030F 		cmp	r10, #3
 11872 0384 6FD0     		beq	.L950
 11873              	.LVL1441:
 11874              	.L892:
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 11875              		.loc 1 5677 3 is_stmt 1 view .LVU4093
 11876 0386 3246     		mov	r2, r6
 11877 0388 0021     		movs	r1, #0
 11878 038a DDF80080 		ldr	r8, [sp]
 11879 038e 4046     		mov	r0, r8
 11880 0390 FFF7FEFF 		bl	mem_set
 11881              	.LVL1442:
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
 11882              		.loc 1 5678 3 view .LVU4094
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11883              		.loc 1 5679 3 view .LVU4095
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11884              		.loc 1 5679 3 is_stmt 0 view .LVU4096
 11885 0394 0797     		str	r7, [sp, #28]
 11886 0396 4E46     		mov	r6, r9
 11887              	.LVL1443:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11888              		.loc 1 5679 3 view .LVU4097
 11889 0398 DDF80CB0 		ldr	fp, [sp, #12]
 11890 039c C146     		mov	r9, r8
 11891              	.LVL1444:
 11892              	.L893:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11893              		.loc 1 5679 17 is_stmt 1 discriminator 1 view .LVU4098
 11894 039e 029B     		ldr	r3, [sp, #8]
 11895 03a0 002B     		cmp	r3, #0
ARM GAS  /tmp/ccSjSmmD.s 			page 378


 11896 03a2 00F09D80 		beq	.L898
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11897              		.loc 1 5697 35 is_stmt 0 view .LVU4099
 11898 03a6 079F     		ldr	r7, [sp, #28]
 11899 03a8 B146     		mov	r9, r6
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11900              		.loc 1 5697 3 is_stmt 1 view .LVU4100
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11901              		.loc 1 5697 35 is_stmt 0 view .LVU4101
 11902 03aa BAF1030F 		cmp	r10, #3
 11903 03ae 00F0D780 		beq	.L951
 11904 03b2 069E     		ldr	r6, [sp, #24]
 11905 03b4 059F     		ldr	r7, [sp, #20]
 11906 03b6 DDF80C80 		ldr	r8, [sp, #12]
 11907 03ba DDF800B0 		ldr	fp, [sp]
 11908              	.LVL1445:
 11909              	.L900:
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
 11910              		.loc 1 5698 3 is_stmt 1 view .LVU4102
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11911              		.loc 1 5699 4 view .LVU4103
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11912              		.loc 1 5699 6 is_stmt 0 view .LVU4104
 11913 03be 3546     		mov	r5, r6
 11914 03c0 4645     		cmp	r6, r8
 11915 03c2 28BF     		it	cs
 11916 03c4 4546     		movcs	r5, r8
 11917              	.LVL1446:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 11918              		.loc 1 5700 4 is_stmt 1 view .LVU4105
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 11919              		.loc 1 5700 8 is_stmt 0 view .LVU4106
 11920 03c6 2B46     		mov	r3, r5
 11921 03c8 3A46     		mov	r2, r7
 11922 03ca 5946     		mov	r1, fp
 11923 03cc 2046     		mov	r0, r4
 11924 03ce FFF7FEFF 		bl	disk_write
 11925              	.LVL1447:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 11926              		.loc 1 5700 7 discriminator 1 view .LVU4107
 11927 03d2 0028     		cmp	r0, #0
 11928 03d4 40F04C81 		bne	.L932
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11929              		.loc 1 5701 4 is_stmt 1 view .LVU4108
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11930              		.loc 1 5701 9 is_stmt 0 view .LVU4109
 11931 03d8 2F44     		add	r7, r7, r5
 11932              	.LVL1448:
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 11933              		.loc 1 5701 15 is_stmt 1 view .LVU4110
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11934              		.loc 1 5702 12 view .LVU4111
 11935 03da 761B     		subs	r6, r6, r5
 11936              	.LVL1449:
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11937              		.loc 1 5702 12 is_stmt 0 view .LVU4112
 11938 03dc EFD1     		bne	.L900
ARM GAS  /tmp/ccSjSmmD.s 			page 379


5706:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
 11939              		.loc 1 5706 2 is_stmt 1 view .LVU4113
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 11940              		.loc 1 5709 3 view .LVU4114
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 11941              		.loc 1 5709 6 is_stmt 0 view .LVU4115
 11942 03de BAF1030F 		cmp	r10, #3
 11943 03e2 00F0D380 		beq	.L933
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 11944              		.loc 1 5712 4 is_stmt 1 view .LVU4116
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 11945              		.loc 1 5712 15 is_stmt 0 view .LVU4117
 11946 03e6 0A9B     		ldr	r3, [sp, #40]
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 11947              		.loc 1 5712 7 view .LVU4118
 11948 03e8 B3F5803F 		cmp	r3, #65536
 11949 03ec 80F01481 		bcs	.L934
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11950              		.loc 1 5715 5 is_stmt 1 view .LVU4119
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11951              		.loc 1 5715 9 is_stmt 0 view .LVU4120
 11952 03f0 BAF1020F 		cmp	r10, #2
 11953 03f4 00F0BB80 		beq	.L952
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11954              		.loc 1 5715 9 discriminator 2 view .LVU4121
 11955 03f8 0127     		movs	r7, #1
 11956              	.LVL1450:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11957              		.loc 1 5715 9 discriminator 2 view .LVU4122
 11958 03fa C8E0     		b	.L901
 11959              	.LVL1451:
 11960              	.L948:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11961              		.loc 1 5634 3 discriminator 1 view .LVU4123
 11962 03fc 0021     		movs	r1, #0
 11963 03fe 70E7     		b	.L887
 11964              	.L888:
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11965              		.loc 1 5638 4 is_stmt 1 view .LVU4124
 11966 0400 009B     		ldr	r3, [sp]
 11967 0402 03F12000 		add	r0, r3, #32
 11968 0406 FFF7FEFF 		bl	st_dword
 11969              	.LVL1452:
 11970 040a 77E7     		b	.L889
 11971              	.L949:
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 11972              		.loc 1 5645 4 view .LVU4125
 11973 040c FFF7FEFF 		bl	get_fattime
 11974              	.LVL1453:
 11975 0410 0146     		mov	r1, r0
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 11976              		.loc 1 5645 4 is_stmt 0 discriminator 1 view .LVU4126
 11977 0412 009A     		ldr	r2, [sp]
 11978 0414 02F14300 		add	r0, r2, #67
 11979 0418 FFF7FEFF 		bl	st_dword
 11980              	.LVL1454:
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
ARM GAS  /tmp/ccSjSmmD.s 			page 380


 11981              		.loc 1 5646 4 is_stmt 1 view .LVU4127
 11982 041c 2946     		mov	r1, r5
 11983 041e 009A     		ldr	r2, [sp]
 11984 0420 02F12400 		add	r0, r2, #36
 11985 0424 FFF7FEFF 		bl	st_dword
 11986              	.LVL1455:
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 11987              		.loc 1 5647 4 view .LVU4128
 11988 0428 0221     		movs	r1, #2
 11989 042a 009A     		ldr	r2, [sp]
 11990 042c 02F12C00 		add	r0, r2, #44
 11991 0430 FFF7FEFF 		bl	st_dword
 11992              	.LVL1456:
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 11993              		.loc 1 5648 4 view .LVU4129
 11994 0434 0121     		movs	r1, #1
 11995 0436 009A     		ldr	r2, [sp]
 11996 0438 02F13000 		add	r0, r2, #48
 11997 043c FFF7FEFF 		bl	st_word
 11998              	.LVL1457:
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 11999              		.loc 1 5649 4 view .LVU4130
 12000 0440 0621     		movs	r1, #6
 12001 0442 009A     		ldr	r2, [sp]
 12002 0444 02F13200 		add	r0, r2, #50
 12003 0448 FFF7FEFF 		bl	st_word
 12004              	.LVL1458:
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 12005              		.loc 1 5650 4 view .LVU4131
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 12006              		.loc 1 5650 21 is_stmt 0 view .LVU4132
 12007 044c 8023     		movs	r3, #128
 12008 044e 0098     		ldr	r0, [sp]
 12009 0450 80F84030 		strb	r3, [r0, #64]
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 12010              		.loc 1 5651 4 is_stmt 1 view .LVU4133
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 12011              		.loc 1 5651 22 is_stmt 0 view .LVU4134
 12012 0454 2923     		movs	r3, #41
 12013 0456 80F84230 		strb	r3, [r0, #66]
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12014              		.loc 1 5652 4 is_stmt 1 view .LVU4135
 12015 045a 1322     		movs	r2, #19
 12016 045c 4749     		ldr	r1, .L957+8
 12017 045e 4730     		adds	r0, r0, #71
 12018 0460 FFF7FEFF 		bl	mem_cpy
 12019              	.LVL1459:
 12020 0464 7BE7     		b	.L891
 12021              	.L950:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12022              		.loc 1 5665 4 view .LVU4136
 12023 0466 0123     		movs	r3, #1
 12024 0468 019A     		ldr	r2, [sp, #4]
 12025 046a 0632     		adds	r2, r2, #6
 12026 046c DDF800B0 		ldr	fp, [sp]
 12027              	.LVL1460:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
ARM GAS  /tmp/ccSjSmmD.s 			page 381


 12028              		.loc 1 5665 4 is_stmt 0 view .LVU4137
 12029 0470 5946     		mov	r1, fp
 12030 0472 2046     		mov	r0, r4
 12031 0474 FFF7FEFF 		bl	disk_write
 12032              	.LVL1461:
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 12033              		.loc 1 5666 4 is_stmt 1 view .LVU4138
 12034 0478 4FF40072 		mov	r2, #512
 12035 047c 0021     		movs	r1, #0
 12036 047e 5846     		mov	r0, fp
 12037 0480 FFF7FEFF 		bl	mem_set
 12038              	.LVL1462:
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 12039              		.loc 1 5667 4 view .LVU4139
 12040 0484 3E49     		ldr	r1, .L957+12
 12041 0486 5846     		mov	r0, fp
 12042 0488 FFF7FEFF 		bl	st_dword
 12043              	.LVL1463:
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 12044              		.loc 1 5668 4 view .LVU4140
 12045 048c 3D49     		ldr	r1, .L957+16
 12046 048e CDF800B0 		str	fp, [sp]
 12047 0492 0BF5F270 		add	r0, fp, #484
 12048 0496 FFF7FEFF 		bl	st_dword
 12049              	.LVL1464:
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 12050              		.loc 1 5669 4 view .LVU4141
 12051 049a 08F1FF31 		add	r1, r8, #-1
 12052 049e 009B     		ldr	r3, [sp]
 12053 04a0 03F5F470 		add	r0, r3, #488
 12054 04a4 FFF7FEFF 		bl	st_dword
 12055              	.LVL1465:
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 12056              		.loc 1 5670 4 view .LVU4142
 12057 04a8 0221     		movs	r1, #2
 12058 04aa 009B     		ldr	r3, [sp]
 12059 04ac 03F5F670 		add	r0, r3, #492
 12060 04b0 FFF7FEFF 		bl	st_dword
 12061              	.LVL1466:
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 12062              		.loc 1 5671 4 view .LVU4143
 12063 04b4 4AF65521 		movw	r1, #43605
 12064 04b8 4846     		mov	r0, r9
 12065 04ba FFF7FEFF 		bl	st_word
 12066              	.LVL1467:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 12067              		.loc 1 5672 4 view .LVU4144
 12068 04be 0123     		movs	r3, #1
 12069 04c0 019A     		ldr	r2, [sp, #4]
 12070 04c2 0732     		adds	r2, r2, #7
 12071 04c4 DDF80080 		ldr	r8, [sp]
 12072              	.LVL1468:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 12073              		.loc 1 5672 4 is_stmt 0 view .LVU4145
 12074 04c8 4146     		mov	r1, r8
 12075 04ca 2046     		mov	r0, r4
 12076 04cc FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/ccSjSmmD.s 			page 382


 12077              	.LVL1469:
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12078              		.loc 1 5673 4 is_stmt 1 view .LVU4146
 12079 04d0 0123     		movs	r3, #1
 12080 04d2 019A     		ldr	r2, [sp, #4]
 12081 04d4 1A44     		add	r2, r2, r3
 12082 04d6 4146     		mov	r1, r8
 12083 04d8 2046     		mov	r0, r4
 12084 04da FFF7FEFF 		bl	disk_write
 12085              	.LVL1470:
 12086 04de 52E7     		b	.L892
 12087              	.LVL1471:
 12088              	.L898:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 12089              		.loc 1 5680 4 view .LVU4147
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 12090              		.loc 1 5680 7 is_stmt 0 view .LVU4148
 12091 04e0 BAF1030F 		cmp	r10, #3
 12092 04e4 28D0     		beq	.L953
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12093              		.loc 1 5685 5 is_stmt 1 view .LVU4149
 12094 04e6 BAF1010F 		cmp	r10, #1
 12095 04ea 37D0     		beq	.L954
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12096              		.loc 1 5685 5 is_stmt 0 discriminator 2 view .LVU4150
 12097 04ec 6FF00701 		mvn	r1, #7
 12098              	.L896:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12099              		.loc 1 5685 5 discriminator 4 view .LVU4151
 12100 04f0 4846     		mov	r0, r9
 12101 04f2 FFF7FEFF 		bl	st_dword
 12102              	.LVL1472:
 12103              	.L895:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12104              		.loc 1 5685 5 discriminator 2 view .LVU4152
 12105 04f6 2F46     		mov	r7, r5
 12106 04f8 DDF81480 		ldr	r8, [sp, #20]
 12107 04fc 0895     		str	r5, [sp, #32]
 12108              	.LVL1473:
 12109              	.L897:
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
 12110              		.loc 1 5688 4 is_stmt 1 view .LVU4153
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12111              		.loc 1 5689 5 view .LVU4154
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12112              		.loc 1 5689 7 is_stmt 0 view .LVU4155
 12113 04fe 3D46     		mov	r5, r7
 12114 0500 5F45     		cmp	r7, fp
 12115 0502 28BF     		it	cs
 12116 0504 5D46     		movcs	r5, fp
 12117              	.LVL1474:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12118              		.loc 1 5690 5 is_stmt 1 view .LVU4156
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12119              		.loc 1 5690 9 is_stmt 0 view .LVU4157
 12120 0506 2B46     		mov	r3, r5
 12121 0508 4246     		mov	r2, r8
ARM GAS  /tmp/ccSjSmmD.s 			page 383


 12122 050a 4946     		mov	r1, r9
 12123 050c 2046     		mov	r0, r4
 12124 050e FFF7FEFF 		bl	disk_write
 12125              	.LVL1475:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12126              		.loc 1 5690 8 discriminator 1 view .LVU4158
 12127 0512 0028     		cmp	r0, #0
 12128 0514 40F0AA80 		bne	.L931
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 12129              		.loc 1 5691 5 is_stmt 1 view .LVU4159
 12130 0518 4FF40072 		mov	r2, #512
 12131 051c 0021     		movs	r1, #0
 12132 051e 4846     		mov	r0, r9
 12133 0520 FFF7FEFF 		bl	mem_set
 12134              	.LVL1476:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12135              		.loc 1 5692 5 view .LVU4160
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12136              		.loc 1 5692 10 is_stmt 0 view .LVU4161
 12137 0524 A844     		add	r8, r8, r5
 12138              	.LVL1477:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12139              		.loc 1 5692 16 is_stmt 1 view .LVU4162
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12140              		.loc 1 5693 13 view .LVU4163
 12141 0526 7F1B     		subs	r7, r7, r5
 12142              	.LVL1478:
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12143              		.loc 1 5693 13 is_stmt 0 view .LVU4164
 12144 0528 E9D1     		bne	.L897
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12145              		.loc 1 5679 28 discriminator 2 view .LVU4165
 12146 052a CDF81480 		str	r8, [sp, #20]
 12147 052e 089D     		ldr	r5, [sp, #32]
 12148              	.LVL1479:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12149              		.loc 1 5679 28 is_stmt 1 discriminator 2 view .LVU4166
 12150 0530 029B     		ldr	r3, [sp, #8]
 12151 0532 0133     		adds	r3, r3, #1
 12152 0534 0293     		str	r3, [sp, #8]
 12153              	.LVL1480:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12154              		.loc 1 5679 28 is_stmt 0 discriminator 2 view .LVU4167
 12155 0536 32E7     		b	.L893
 12156              	.LVL1481:
 12157              	.L953:
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 12158              		.loc 1 5681 5 is_stmt 1 view .LVU4168
 12159 0538 6FF00701 		mvn	r1, #7
 12160 053c 4846     		mov	r0, r9
 12161 053e FFF7FEFF 		bl	st_dword
 12162              	.LVL1482:
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
 12163              		.loc 1 5682 5 view .LVU4169
 12164 0542 4FF0FF31 		mov	r1, #-1
 12165 0546 09F10400 		add	r0, r9, #4
 12166 054a FFF7FEFF 		bl	st_dword
ARM GAS  /tmp/ccSjSmmD.s 			page 384


 12167              	.LVL1483:
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12168              		.loc 1 5683 5 view .LVU4170
 12169 054e 6FF07041 		mvn	r1, #-268435456
 12170 0552 09F10800 		add	r0, r9, #8
 12171 0556 FFF7FEFF 		bl	st_dword
 12172              	.LVL1484:
 12173 055a CCE7     		b	.L895
 12174              	.LVL1485:
 12175              	.L954:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12176              		.loc 1 5685 5 is_stmt 0 discriminator 1 view .LVU4171
 12177 055c 0A49     		ldr	r1, .L957+20
 12178 055e C7E7     		b	.L896
 12179              	.L951:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12180              		.loc 1 5697 35 discriminator 1 view .LVU4172
 12181 0560 3E46     		mov	r6, r7
 12182 0562 059F     		ldr	r7, [sp, #20]
 12183 0564 DDF80C80 		ldr	r8, [sp, #12]
 12184 0568 DDF800B0 		ldr	fp, [sp]
 12185 056c 27E7     		b	.L900
 12186              	.LVL1486:
 12187              	.L952:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12188              		.loc 1 5715 9 discriminator 1 view .LVU4173
 12189 056e 0427     		movs	r7, #4
 12190              	.LVL1487:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12191              		.loc 1 5715 9 discriminator 1 view .LVU4174
 12192 0570 0DE0     		b	.L901
 12193              	.L958:
 12194 0572 00BF     		.align	2
 12195              	.L957:
 12196 0574 00000000 		.word	.LC2
 12197 0578 20000000 		.word	.LC4
 12198 057c 0C000000 		.word	.LC3
 12199 0580 52526141 		.word	1096897106
 12200 0584 72724161 		.word	1631679090
 12201 0588 F8FFFF00 		.word	16777208
 12202              	.LVL1488:
 12203              	.L933:
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12204              		.loc 1 5710 8 view .LVU4175
 12205 058c 0C27     		movs	r7, #12
 12206              	.LVL1489:
 12207              	.L901:
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 12208              		.loc 1 5721 2 is_stmt 1 view .LVU4176
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12209              		.loc 1 5727 3 view .LVU4177
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12210              		.loc 1 5727 6 is_stmt 0 view .LVU4178
 12211 058e 049B     		ldr	r3, [sp, #16]
 12212 0590 D3BB     		cbnz	r3, .L902
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 12213              		.loc 1 5728 4 is_stmt 1 view .LVU4179
ARM GAS  /tmp/ccSjSmmD.s 			page 385


 12214 0592 4FF40072 		mov	r2, #512
 12215 0596 0021     		movs	r1, #0
 12216 0598 009E     		ldr	r6, [sp]
 12217              	.LVL1490:
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 12218              		.loc 1 5728 4 is_stmt 0 view .LVU4180
 12219 059a 3046     		mov	r0, r6
 12220 059c FFF7FEFF 		bl	mem_set
 12221              	.LVL1491:
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 12222              		.loc 1 5729 4 is_stmt 1 view .LVU4181
 12223 05a0 4AF65521 		movw	r1, #43605
 12224 05a4 4846     		mov	r0, r9
 12225 05a6 FFF7FEFF 		bl	st_word
 12226              	.LVL1492:
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
 12227              		.loc 1 5730 4 view .LVU4182
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12228              		.loc 1 5731 4 view .LVU4183
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12229              		.loc 1 5731 18 is_stmt 0 view .LVU4184
 12230 05aa 0025     		movs	r5, #0
 12231              	.LVL1493:
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12232              		.loc 1 5731 18 view .LVU4185
 12233 05ac 3046     		mov	r0, r6
 12234 05ae 86F8BE51 		strb	r5, [r6, #446]
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12235              		.loc 1 5732 4 is_stmt 1 view .LVU4186
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12236              		.loc 1 5732 20 is_stmt 0 view .LVU4187
 12237 05b2 0126     		movs	r6, #1
 12238              	.LVL1494:
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12239              		.loc 1 5732 20 view .LVU4188
 12240 05b4 80F8BF61 		strb	r6, [r0, #447]
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 12241              		.loc 1 5733 4 is_stmt 1 view .LVU4189
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 12242              		.loc 1 5733 19 is_stmt 0 view .LVU4190
 12243 05b8 80F8C061 		strb	r6, [r0, #448]
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 12244              		.loc 1 5734 4 is_stmt 1 view .LVU4191
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 12245              		.loc 1 5734 19 is_stmt 0 view .LVU4192
 12246 05bc 80F8C151 		strb	r5, [r0, #449]
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 12247              		.loc 1 5735 4 is_stmt 1 view .LVU4193
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 12248              		.loc 1 5735 20 is_stmt 0 view .LVU4194
 12249 05c0 80F8C271 		strb	r7, [r0, #450]
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12250              		.loc 1 5736 4 is_stmt 1 view .LVU4195
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12251              		.loc 1 5736 15 is_stmt 0 view .LVU4196
 12252 05c4 0A9B     		ldr	r3, [sp, #40]
 12253 05c6 0199     		ldr	r1, [sp, #4]
ARM GAS  /tmp/ccSjSmmD.s 			page 386


 12254 05c8 0B44     		add	r3, r3, r1
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12255              		.loc 1 5736 6 view .LVU4197
 12256 05ca 43F6C162 		movw	r2, #16065
 12257 05ce B3FBF2F3 		udiv	r3, r3, r2
 12258              	.LVL1495:
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 12259              		.loc 1 5737 4 is_stmt 1 view .LVU4198
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 12260              		.loc 1 5737 20 is_stmt 0 view .LVU4199
 12261 05d2 FE22     		movs	r2, #254
 12262 05d4 80F8C321 		strb	r2, [r0, #451]
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12263              		.loc 1 5738 4 is_stmt 1 view .LVU4200
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12264              		.loc 1 5738 30 is_stmt 0 view .LVU4201
 12265 05d8 9A08     		lsrs	r2, r3, #2
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12266              		.loc 1 5738 21 view .LVU4202
 12267 05da 42F03F02 		orr	r2, r2, #63
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12268              		.loc 1 5738 19 view .LVU4203
 12269 05de 0746     		mov	r7, r0
 12270              	.LVL1496:
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12271              		.loc 1 5738 19 view .LVU4204
 12272 05e0 80F8C421 		strb	r2, [r0, #452]
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 12273              		.loc 1 5739 4 is_stmt 1 view .LVU4205
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 12274              		.loc 1 5739 19 is_stmt 0 view .LVU4206
 12275 05e4 80F8C531 		strb	r3, [r0, #453]
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 12276              		.loc 1 5740 4 is_stmt 1 view .LVU4207
 12277 05e8 00F5E370 		add	r0, r0, #454
 12278              	.LVL1497:
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 12279              		.loc 1 5740 4 is_stmt 0 view .LVU4208
 12280 05ec FFF7FEFF 		bl	st_dword
 12281              	.LVL1498:
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 12282              		.loc 1 5741 4 is_stmt 1 view .LVU4209
 12283 05f0 0A99     		ldr	r1, [sp, #40]
 12284 05f2 07F5E570 		add	r0, r7, #458
 12285 05f6 FFF7FEFF 		bl	st_dword
 12286              	.LVL1499:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12287              		.loc 1 5742 4 view .LVU4210
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12288              		.loc 1 5742 8 is_stmt 0 view .LVU4211
 12289 05fa 3346     		mov	r3, r6
 12290 05fc 2A46     		mov	r2, r5
 12291 05fe 3946     		mov	r1, r7
 12292 0600 2046     		mov	r0, r4
 12293 0602 FFF7FEFF 		bl	disk_write
 12294              	.LVL1500:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccSjSmmD.s 			page 387


 12295              		.loc 1 5742 7 discriminator 1 view .LVU4212
 12296 0606 A8BB     		cbnz	r0, .L936
 12297              	.LVL1501:
 12298              	.L902:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12299              		.loc 1 5746 2 is_stmt 1 view .LVU4213
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12300              		.loc 1 5746 6 is_stmt 0 view .LVU4214
 12301 0608 0022     		movs	r2, #0
 12302 060a 1146     		mov	r1, r2
 12303 060c 2046     		mov	r0, r4
 12304 060e FFF7FEFF 		bl	disk_ioctl
 12305              	.LVL1502:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12306              		.loc 1 5746 5 discriminator 1 view .LVU4215
 12307 0612 40B1     		cbz	r0, .L860
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12308              		.loc 1 5746 55 discriminator 1 view .LVU4216
 12309 0614 0120     		movs	r0, #1
 12310 0616 06E0     		b	.L860
 12311              	.LVL1503:
 12312              	.L934:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12313              		.loc 1 5713 9 view .LVU4217
 12314 0618 0627     		movs	r7, #6
 12315              	.LVL1504:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12316              		.loc 1 5713 9 view .LVU4218
 12317 061a B8E7     		b	.L901
 12318              	.LVL1505:
 12319              	.L903:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12320              		.loc 1 5328 22 discriminator 1 view .LVU4219
 12321 061c 0B20     		movs	r0, #11
 12322              	.LVL1506:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12323              		.loc 1 5328 22 discriminator 1 view .LVU4220
 12324 061e 02E0     		b	.L860
 12325              	.LVL1507:
 12326              	.L904:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12327              		.loc 1 5335 32 discriminator 1 view .LVU4221
 12328 0620 0320     		movs	r0, #3
 12329              	.LVL1508:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12330              		.loc 1 5335 32 discriminator 1 view .LVU4222
 12331 0622 00E0     		b	.L860
 12332              	.LVL1509:
 12333              	.L905:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 12334              		.loc 1 5336 33 discriminator 1 view .LVU4223
 12335 0624 0A20     		movs	r0, #10
 12336              	.LVL1510:
 12337              	.L860:
5749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12338              		.loc 1 5749 1 view .LVU4224
 12339 0626 0DB0     		add	sp, sp, #52
ARM GAS  /tmp/ccSjSmmD.s 			page 388


 12340              		.cfi_remember_state
 12341              		.cfi_def_cfa_offset 36
 12342              		@ sp needed
 12343 0628 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 12344              	.LVL1511:
 12345              	.L906:
 12346              		.cfi_restore_state
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12347              		.loc 1 5344 72 discriminator 7 view .LVU4225
 12348 062c 1320     		movs	r0, #19
 12349 062e FAE7     		b	.L860
 12350              	.L907:
 12351 0630 1320     		movs	r0, #19
 12352 0632 F8E7     		b	.L860
 12353              	.L908:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12354              		.loc 1 5344 72 discriminator 7 view .LVU4226
 12355 0634 1320     		movs	r0, #19
 12356 0636 F6E7     		b	.L860
 12357              	.LVL1512:
 12358              	.L909:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12359              		.loc 1 5351 23 discriminator 1 view .LVU4227
 12360 0638 0E20     		movs	r0, #14
 12361 063a F4E7     		b	.L860
 12362              	.LVL1513:
 12363              	.L910:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 12364              		.loc 1 5364 69 discriminator 1 view .LVU4228
 12365 063c 0120     		movs	r0, #1
 12366 063e F2E7     		b	.L860
 12367              	.LVL1514:
 12368              	.L912:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 12369              		.loc 1 5366 30 discriminator 1 view .LVU4229
 12370 0640 0E20     		movs	r0, #14
 12371 0642 F0E7     		b	.L860
 12372              	.LVL1515:
 12373              	.L913:
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12374              		.loc 1 5369 27 discriminator 1 view .LVU4230
 12375 0644 0E20     		movs	r0, #14
 12376 0646 EEE7     		b	.L860
 12377              	.L914:
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 12378              		.loc 1 5378 24 discriminator 1 view .LVU4231
 12379 0648 1320     		movs	r0, #19
 12380 064a ECE7     		b	.L860
 12381              	.L917:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 12382              		.loc 1 5384 31 discriminator 1 view .LVU4232
 12383 064c 1320     		movs	r0, #19
 12384 064e EAE7     		b	.L860
 12385              	.LVL1516:
 12386              	.L919:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 12387              		.loc 1 5564 59 discriminator 1 view .LVU4233
ARM GAS  /tmp/ccSjSmmD.s 			page 389


 12388 0650 0E20     		movs	r0, #14
 12389 0652 E8E7     		b	.L860
 12390              	.LVL1517:
 12391              	.L921:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 12392              		.loc 1 5593 51 discriminator 1 view .LVU4234
 12393 0654 0E20     		movs	r0, #14
 12394 0656 E6E7     		b	.L860
 12395              	.LVL1518:
 12396              	.L922:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12397              		.loc 1 5598 13 view .LVU4235
 12398 0658 0E20     		movs	r0, #14
 12399 065a E4E7     		b	.L860
 12400              	.LVL1519:
 12401              	.L925:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12402              		.loc 1 5610 13 view .LVU4236
 12403 065c 0E20     		movs	r0, #14
 12404 065e E2E7     		b	.L860
 12405              	.LVL1520:
 12406              	.L926:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12407              		.loc 1 5614 13 view .LVU4237
 12408 0660 0E20     		movs	r0, #14
 12409 0662 E0E7     		b	.L860
 12410              	.LVL1521:
 12411              	.L927:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12412              		.loc 1 5617 54 discriminator 2 view .LVU4238
 12413 0664 0E20     		movs	r0, #14
 12414 0666 DEE7     		b	.L860
 12415              	.LVL1522:
 12416              	.L929:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12417              		.loc 1 5661 57 discriminator 1 view .LVU4239
 12418 0668 0120     		movs	r0, #1
 12419 066a DCE7     		b	.L860
 12420              	.LVL1523:
 12421              	.L931:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12422              		.loc 1 5690 64 discriminator 1 view .LVU4240
 12423 066c 0120     		movs	r0, #1
 12424 066e DAE7     		b	.L860
 12425              	.LVL1524:
 12426              	.L932:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12427              		.loc 1 5700 63 discriminator 1 view .LVU4241
 12428 0670 0120     		movs	r0, #1
 12429 0672 D8E7     		b	.L860
 12430              	.LVL1525:
 12431              	.L936:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12432              		.loc 1 5742 54 discriminator 1 view .LVU4242
 12433 0674 0120     		movs	r0, #1
 12434 0676 D6E7     		b	.L860
 12435              		.cfi_endproc
ARM GAS  /tmp/ccSjSmmD.s 			page 390


 12436              	.LFE193:
 12438              		.section	.text.f_gets,"ax",%progbits
 12439              		.align	1
 12440              		.global	f_gets
 12441              		.syntax unified
 12442              		.thumb
 12443              		.thumb_func
 12445              	f_gets:
 12446              	.LVL1526:
 12447              	.LFB194:
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12448              		.loc 1 5835 1 is_stmt 1 view -0
 12449              		.cfi_startproc
 12450              		@ args = 0, pretend = 0, frame = 8
 12451              		@ frame_needed = 0, uses_anonymous_args = 0
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12452              		.loc 1 5835 1 is_stmt 0 view .LVU4244
 12453 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 12454              		.cfi_def_cfa_offset 24
 12455              		.cfi_offset 4, -24
 12456              		.cfi_offset 5, -20
 12457              		.cfi_offset 6, -16
 12458              		.cfi_offset 7, -12
 12459              		.cfi_offset 8, -8
 12460              		.cfi_offset 14, -4
 12461 0004 82B0     		sub	sp, sp, #8
 12462              		.cfi_def_cfa_offset 32
 12463 0006 8046     		mov	r8, r0
 12464 0008 0E46     		mov	r6, r1
 12465 000a 1746     		mov	r7, r2
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12466              		.loc 1 5836 2 is_stmt 1 view .LVU4245
 12467              	.LVL1527:
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12468              		.loc 1 5837 2 view .LVU4246
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 12469              		.loc 1 5838 2 view .LVU4247
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12470              		.loc 1 5839 2 view .LVU4248
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12471              		.loc 1 5842 2 view .LVU4249
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12472              		.loc 1 5837 12 is_stmt 0 view .LVU4250
 12473 000c 0446     		mov	r4, r0
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12474              		.loc 1 5836 6 view .LVU4251
 12475 000e 0025     		movs	r5, #0
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12476              		.loc 1 5842 8 view .LVU4252
 12477 0010 01E0     		b	.L960
 12478              	.LVL1528:
 12479              	.L965:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12480              		.loc 1 5842 8 view .LVU4253
 12481 0012 A446     		mov	ip, r4
 12482              	.LVL1529:
 12483              	.L962:
ARM GAS  /tmp/ccSjSmmD.s 			page 391


5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12484              		.loc 1 5842 8 view .LVU4254
 12485 0014 6446     		mov	r4, ip
 12486              	.LVL1530:
 12487              	.L960:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12488              		.loc 1 5842 11 is_stmt 1 view .LVU4255
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12489              		.loc 1 5842 17 is_stmt 0 view .LVU4256
 12490 0016 731E     		subs	r3, r6, #1
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12491              		.loc 1 5842 11 view .LVU4257
 12492 0018 AB42     		cmp	r3, r5
 12493 001a 13DD     		ble	.L961
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 12494              		.loc 1 5887 3 is_stmt 1 view .LVU4258
 12495 001c 6B46     		mov	r3, sp
 12496 001e 0122     		movs	r2, #1
 12497 0020 01A9     		add	r1, sp, #4
 12498 0022 3846     		mov	r0, r7
 12499 0024 FFF7FEFF 		bl	f_read
 12500              	.LVL1531:
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12501              		.loc 1 5888 3 view .LVU4259
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12502              		.loc 1 5888 10 is_stmt 0 view .LVU4260
 12503 0028 009B     		ldr	r3, [sp]
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12504              		.loc 1 5888 6 view .LVU4261
 12505 002a 012B     		cmp	r3, #1
 12506 002c 0AD1     		bne	.L961
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12507              		.loc 1 5889 3 is_stmt 1 view .LVU4262
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12508              		.loc 1 5889 5 is_stmt 0 view .LVU4263
 12509 002e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 12510              	.LVL1532:
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12511              		.loc 1 5891 3 is_stmt 1 view .LVU4264
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12512              		.loc 1 5891 6 is_stmt 0 view .LVU4265
 12513 0032 0D2B     		cmp	r3, #13
 12514 0034 EDD0     		beq	.L965
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12515              		.loc 1 5892 3 is_stmt 1 view .LVU4266
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12516              		.loc 1 5892 5 is_stmt 0 view .LVU4267
 12517 0036 A446     		mov	ip, r4
 12518              	.LVL1533:
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12519              		.loc 1 5892 8 view .LVU4268
 12520 0038 0CF8013B 		strb	r3, [ip], #1
 12521              	.LVL1534:
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12522              		.loc 1 5893 3 is_stmt 1 view .LVU4269
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12523              		.loc 1 5893 4 is_stmt 0 view .LVU4270
ARM GAS  /tmp/ccSjSmmD.s 			page 392


 12524 003c 0135     		adds	r5, r5, #1
 12525              	.LVL1535:
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12526              		.loc 1 5894 3 is_stmt 1 view .LVU4271
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12527              		.loc 1 5894 6 is_stmt 0 view .LVU4272
 12528 003e 0A2B     		cmp	r3, #10
 12529 0040 E8D1     		bne	.L962
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12530              		.loc 1 5892 5 view .LVU4273
 12531 0042 6446     		mov	r4, ip
 12532              	.LVL1536:
 12533              	.L961:
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12534              		.loc 1 5896 2 is_stmt 1 view .LVU4274
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12535              		.loc 1 5896 5 is_stmt 0 view .LVU4275
 12536 0044 0023     		movs	r3, #0
 12537 0046 2370     		strb	r3, [r4]
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12538              		.loc 1 5897 2 is_stmt 1 view .LVU4276
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12539              		.loc 1 5897 18 is_stmt 0 view .LVU4277
 12540 0048 1DB1     		cbz	r5, .L967
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12541              		.loc 1 5897 18 discriminator 1 view .LVU4278
 12542 004a 4046     		mov	r0, r8
 12543              	.L959:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12544              		.loc 1 5898 1 view .LVU4279
 12545 004c 02B0     		add	sp, sp, #8
 12546              		.cfi_remember_state
 12547              		.cfi_def_cfa_offset 24
 12548              		@ sp needed
 12549 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 12550              	.LVL1537:
 12551              	.L967:
 12552              		.cfi_restore_state
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12553              		.loc 1 5897 18 discriminator 2 view .LVU4280
 12554 0052 0020     		movs	r0, #0
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12555              		.loc 1 5897 18 view .LVU4281
 12556 0054 FAE7     		b	.L959
 12557              		.cfi_endproc
 12558              	.LFE194:
 12560              		.section	.text.f_putc,"ax",%progbits
 12561              		.align	1
 12562              		.global	f_putc
 12563              		.syntax unified
 12564              		.thumb
 12565              		.thumb_func
 12567              	f_putc:
 12568              	.LVL1538:
 12569              	.LFB198:
5995:Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 393


5997:Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
5999:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12570              		.loc 1 6002 1 is_stmt 1 view -0
 12571              		.cfi_startproc
 12572              		@ args = 0, pretend = 0, frame = 80
 12573              		@ frame_needed = 0, uses_anonymous_args = 0
 12574              		.loc 1 6002 1 is_stmt 0 view .LVU4283
 12575 0000 30B5     		push	{r4, r5, lr}
 12576              		.cfi_def_cfa_offset 12
 12577              		.cfi_offset 4, -12
 12578              		.cfi_offset 5, -8
 12579              		.cfi_offset 14, -4
 12580 0002 95B0     		sub	sp, sp, #84
 12581              		.cfi_def_cfa_offset 96
 12582 0004 0546     		mov	r5, r0
6003:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12583              		.loc 1 6003 2 is_stmt 1 view .LVU4284
6004:Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12584              		.loc 1 6006 2 view .LVU4285
 12585 0006 01AC     		add	r4, sp, #4
 12586 0008 2046     		mov	r0, r4
 12587              	.LVL1539:
 12588              		.loc 1 6006 2 is_stmt 0 view .LVU4286
 12589 000a FFF7FEFF 		bl	putc_init
 12590              	.LVL1540:
6007:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 12591              		.loc 1 6007 2 is_stmt 1 view .LVU4287
 12592 000e 2946     		mov	r1, r5
 12593 0010 2046     		mov	r0, r4
 12594 0012 FFF7FEFF 		bl	putc_bfd
 12595              	.LVL1541:
6008:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12596              		.loc 1 6008 2 view .LVU4288
 12597              		.loc 1 6008 9 is_stmt 0 view .LVU4289
 12598 0016 2046     		mov	r0, r4
 12599 0018 FFF7FEFF 		bl	putc_flush
 12600              	.LVL1542:
6009:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12601              		.loc 1 6009 1 view .LVU4290
 12602 001c 15B0     		add	sp, sp, #84
 12603              		.cfi_def_cfa_offset 12
 12604              		@ sp needed
 12605 001e 30BD     		pop	{r4, r5, pc}
 12606              		.loc 1 6009 1 view .LVU4291
 12607              		.cfi_endproc
 12608              	.LFE198:
 12610              		.section	.text.f_puts,"ax",%progbits
 12611              		.align	1
 12612              		.global	f_puts
 12613              		.syntax unified
 12614              		.thumb
ARM GAS  /tmp/ccSjSmmD.s 			page 394


 12615              		.thumb_func
 12617              	f_puts:
 12618              	.LVL1543:
 12619              	.LFB199:
6010:Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:Middlewares/Third_Party/FatFs/src/ff.c **** 
6012:Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6015:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12620              		.loc 1 6022 1 is_stmt 1 view -0
 12621              		.cfi_startproc
 12622              		@ args = 0, pretend = 0, frame = 80
 12623              		@ frame_needed = 0, uses_anonymous_args = 0
 12624              		.loc 1 6022 1 is_stmt 0 view .LVU4293
 12625 0000 10B5     		push	{r4, lr}
 12626              		.cfi_def_cfa_offset 8
 12627              		.cfi_offset 4, -8
 12628              		.cfi_offset 14, -4
 12629 0002 94B0     		sub	sp, sp, #80
 12630              		.cfi_def_cfa_offset 88
 12631 0004 0446     		mov	r4, r0
6023:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12632              		.loc 1 6023 2 is_stmt 1 view .LVU4294
6024:Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12633              		.loc 1 6026 2 view .LVU4295
 12634 0006 01A8     		add	r0, sp, #4
 12635              	.LVL1544:
 12636              		.loc 1 6026 2 is_stmt 0 view .LVU4296
 12637 0008 FFF7FEFF 		bl	putc_init
 12638              	.LVL1545:
6027:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 12639              		.loc 1 6027 2 is_stmt 1 view .LVU4297
 12640              		.loc 1 6027 8 is_stmt 0 view .LVU4298
 12641 000c 03E0     		b	.L972
 12642              	.L973:
 12643              		.loc 1 6027 15 is_stmt 1 discriminator 2 view .LVU4299
 12644              		.loc 1 6027 33 is_stmt 0 discriminator 2 view .LVU4300
 12645 000e 0134     		adds	r4, r4, #1
 12646              	.LVL1546:
 12647              		.loc 1 6027 15 discriminator 2 view .LVU4301
 12648 0010 01A8     		add	r0, sp, #4
 12649 0012 FFF7FEFF 		bl	putc_bfd
 12650              	.LVL1547:
 12651              	.L972:
 12652              		.loc 1 6027 9 is_stmt 1 discriminator 1 view .LVU4302
 12653 0016 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 12654 0018 0029     		cmp	r1, #0
ARM GAS  /tmp/ccSjSmmD.s 			page 395


 12655 001a F8D1     		bne	.L973
6028:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12656              		.loc 1 6028 2 view .LVU4303
 12657              		.loc 1 6028 9 is_stmt 0 view .LVU4304
 12658 001c 01A8     		add	r0, sp, #4
 12659 001e FFF7FEFF 		bl	putc_flush
 12660              	.LVL1548:
6029:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12661              		.loc 1 6029 1 view .LVU4305
 12662 0022 14B0     		add	sp, sp, #80
 12663              		.cfi_def_cfa_offset 8
 12664              		@ sp needed
 12665 0024 10BD     		pop	{r4, pc}
 12666              		.loc 1 6029 1 view .LVU4306
 12667              		.cfi_endproc
 12668              	.LFE199:
 12670              		.section	.text.f_printf,"ax",%progbits
 12671              		.align	1
 12672              		.global	f_printf
 12673              		.syntax unified
 12674              		.thumb
 12675              		.thumb_func
 12677              	f_printf:
 12678              	.LVL1549:
 12679              	.LFB200:
6030:Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
6041:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12680              		.loc 1 6043 1 is_stmt 1 view -0
 12681              		.cfi_startproc
 12682              		@ args = 4, pretend = 12, frame = 112
 12683              		@ frame_needed = 0, uses_anonymous_args = 1
 12684              		.loc 1 6043 1 is_stmt 0 view .LVU4308
 12685 0000 0EB4     		push	{r1, r2, r3}
 12686              		.cfi_def_cfa_offset 12
 12687              		.cfi_offset 1, -12
 12688              		.cfi_offset 2, -8
 12689              		.cfi_offset 3, -4
 12690 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 12691              		.cfi_def_cfa_offset 44
 12692              		.cfi_offset 4, -44
 12693              		.cfi_offset 5, -40
 12694              		.cfi_offset 6, -36
 12695              		.cfi_offset 7, -32
 12696              		.cfi_offset 8, -28
 12697              		.cfi_offset 9, -24
ARM GAS  /tmp/ccSjSmmD.s 			page 396


 12698              		.cfi_offset 10, -20
 12699              		.cfi_offset 14, -16
 12700 0006 9DB0     		sub	sp, sp, #116
 12701              		.cfi_def_cfa_offset 160
 12702 0008 0146     		mov	r1, r0
 12703 000a 25AC     		add	r4, sp, #148
 12704 000c 54F8046B 		ldr	r6, [r4], #4
6044:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 12705              		.loc 1 6044 2 is_stmt 1 view .LVU4309
6045:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12706              		.loc 1 6045 2 view .LVU4310
6046:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 12707              		.loc 1 6046 2 view .LVU4311
6047:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
 12708              		.loc 1 6047 2 view .LVU4312
6048:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 12709              		.loc 1 6048 2 view .LVU4313
6049:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
 12710              		.loc 1 6049 2 view .LVU4314
6050:Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12711              		.loc 1 6052 2 view .LVU4315
 12712 0010 08A8     		add	r0, sp, #32
 12713              	.LVL1550:
 12714              		.loc 1 6052 2 is_stmt 0 view .LVU4316
 12715 0012 FFF7FEFF 		bl	putc_init
 12716              	.LVL1551:
6053:Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 12717              		.loc 1 6054 2 is_stmt 1 view .LVU4317
 12718 0016 1B94     		str	r4, [sp, #108]
 12719 0018 8CE0     		b	.L976
 12720              	.LVL1552:
 12721              	.L978:
6055:Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6062:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 12722              		.loc 1 6063 3 view .LVU4318
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12723              		.loc 1 6064 3 view .LVU4319
 12724              		.loc 1 6064 11 is_stmt 0 view .LVU4320
 12725 001a B31C     		adds	r3, r6, #2
 12726              	.LVL1553:
 12727              		.loc 1 6064 5 view .LVU4321
 12728 001c 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 12729              	.LVL1554:
6065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 12730              		.loc 1 6065 3 is_stmt 1 view .LVU4322
 12731              		.loc 1 6065 6 is_stmt 0 view .LVU4323
 12732 001e 3029     		cmp	r1, #48
ARM GAS  /tmp/ccSjSmmD.s 			page 397


 12733 0020 04D0     		beq	.L1028
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
6067:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 12734              		.loc 1 6068 4 is_stmt 1 view .LVU4324
 12735              		.loc 1 6068 7 is_stmt 0 view .LVU4325
 12736 0022 2D29     		cmp	r1, #45
 12737 0024 06D0     		beq	.L1029
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12738              		.loc 1 6063 9 view .LVU4326
 12739 0026 0025     		movs	r5, #0
 12740              	.LVL1555:
 12741              	.L981:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12742              		.loc 1 6066 6 view .LVU4327
 12743 0028 0024     		movs	r4, #0
 12744 002a 0EE0     		b	.L982
 12745              	.LVL1556:
 12746              	.L1028:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12747              		.loc 1 6066 4 is_stmt 1 view .LVU4328
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12748              		.loc 1 6066 11 view .LVU4329
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12749              		.loc 1 6066 19 is_stmt 0 view .LVU4330
 12750 002c F31C     		adds	r3, r6, #3
 12751              	.LVL1557:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12752              		.loc 1 6066 13 view .LVU4331
 12753 002e 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 12754              	.LVL1558:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12755              		.loc 1 6066 6 view .LVU4332
 12756 0030 0125     		movs	r5, #1
 12757 0032 F9E7     		b	.L981
 12758              	.LVL1559:
 12759              	.L1029:
6069:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 12760              		.loc 1 6069 5 is_stmt 1 view .LVU4333
 12761              		.loc 1 6069 12 view .LVU4334
 12762              		.loc 1 6069 20 is_stmt 0 view .LVU4335
 12763 0034 F31C     		adds	r3, r6, #3
 12764              	.LVL1560:
 12765              		.loc 1 6069 14 view .LVU4336
 12766 0036 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 12767              	.LVL1561:
 12768              		.loc 1 6069 7 view .LVU4337
 12769 0038 0225     		movs	r5, #2
 12770 003a F5E7     		b	.L981
 12771              	.LVL1562:
 12772              	.L983:
6070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
6073:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 12773              		.loc 1 6073 4 is_stmt 1 view .LVU4338
 12774              		.loc 1 6073 10 is_stmt 0 view .LVU4339
ARM GAS  /tmp/ccSjSmmD.s 			page 398


 12775 003c 04EB8404 		add	r4, r4, r4, lsl #2
 12776              	.LVL1563:
 12777              		.loc 1 6073 15 view .LVU4340
 12778 0040 01EB4404 		add	r4, r1, r4, lsl #1
 12779              		.loc 1 6073 6 view .LVU4341
 12780 0044 303C     		subs	r4, r4, #48
 12781              	.LVL1564:
6074:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 12782              		.loc 1 6074 4 is_stmt 1 view .LVU4342
 12783              		.loc 1 6074 6 is_stmt 0 view .LVU4343
 12784 0046 13F8011B 		ldrb	r1, [r3], #1	@ zero_extendqisi2
 12785              	.LVL1565:
 12786              	.L982:
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 12787              		.loc 1 6072 10 is_stmt 1 view .LVU4344
 12788 004a A1F13002 		sub	r2, r1, #48
 12789 004e D2B2     		uxtb	r2, r2
 12790 0050 092A     		cmp	r2, #9
 12791 0052 F3D9     		bls	.L983
6075:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 12792              		.loc 1 6076 3 view .LVU4345
 12793              		.loc 1 6076 6 is_stmt 0 view .LVU4346
 12794 0054 6C29     		cmp	r1, #108
 12795 0056 03D0     		beq	.L984
 12796              		.loc 1 6076 16 discriminator 1 view .LVU4347
 12797 0058 4C29     		cmp	r1, #76
 12798 005a 01D0     		beq	.L984
 12799 005c 1E46     		mov	r6, r3
 12800 005e 04E0     		b	.L985
 12801              	.L984:
6077:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 12802              		.loc 1 6077 4 is_stmt 1 view .LVU4348
 12803              		.loc 1 6077 6 is_stmt 0 view .LVU4349
 12804 0060 45F00405 		orr	r5, r5, #4
 12805              	.LVL1566:
 12806              		.loc 1 6077 12 is_stmt 1 view .LVU4350
 12807              		.loc 1 6077 20 is_stmt 0 view .LVU4351
 12808 0064 1E46     		mov	r6, r3
 12809              	.LVL1567:
 12810              		.loc 1 6077 14 view .LVU4352
 12811 0066 16F8011B 		ldrb	r1, [r6], #1	@ zero_extendqisi2
 12812              	.LVL1568:
 12813              	.L985:
6078:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 12814              		.loc 1 6079 3 is_stmt 1 view .LVU4353
 12815              		.loc 1 6079 6 is_stmt 0 view .LVU4354
 12816 006a 0029     		cmp	r1, #0
 12817 006c 00F0DB80 		beq	.L977
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 12818              		.loc 1 6080 3 is_stmt 1 view .LVU4355
 12819              	.LVL1569:
6081:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 12820              		.loc 1 6081 3 view .LVU4356
 12821              		.loc 1 6081 7 is_stmt 0 view .LVU4357
 12822 0070 A1F16103 		sub	r3, r1, #97
ARM GAS  /tmp/ccSjSmmD.s 			page 399


 12823 0074 DBB2     		uxtb	r3, r3
 12824              		.loc 1 6081 6 view .LVU4358
 12825 0076 192B     		cmp	r3, #25
 12826 0078 14D8     		bhi	.L1022
 12827              		.loc 1 6081 19 is_stmt 1 discriminator 1 view .LVU4359
 12828              		.loc 1 6081 21 is_stmt 0 discriminator 1 view .LVU4360
 12829 007a A1F12003 		sub	r3, r1, #32
 12830 007e DBB2     		uxtb	r3, r3
 12831              	.LVL1570:
 12832              	.L986:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 12833              		.loc 1 6082 3 is_stmt 1 view .LVU4361
 12834 0080 A3F14202 		sub	r2, r3, #66
 12835 0084 162A     		cmp	r2, #22
 12836 0086 52D8     		bhi	.L987
 12837 0088 DFE802F0 		tbb	[pc, r2]
 12838              	.L989:
 12839 008c 61       		.byte	(.L994-.L989)/2
 12840 008d 3A       		.byte	(.L993-.L989)/2
 12841 008e 42       		.byte	(.L990-.L989)/2
 12842 008f 51       		.byte	(.L987-.L989)/2
 12843 0090 51       		.byte	(.L987-.L989)/2
 12844 0091 51       		.byte	(.L987-.L989)/2
 12845 0092 51       		.byte	(.L987-.L989)/2
 12846 0093 51       		.byte	(.L987-.L989)/2
 12847 0094 51       		.byte	(.L987-.L989)/2
 12848 0095 51       		.byte	(.L987-.L989)/2
 12849 0096 51       		.byte	(.L987-.L989)/2
 12850 0097 51       		.byte	(.L987-.L989)/2
 12851 0098 51       		.byte	(.L987-.L989)/2
 12852 0099 63       		.byte	(.L1023-.L989)/2
 12853 009a 51       		.byte	(.L987-.L989)/2
 12854 009b 51       		.byte	(.L987-.L989)/2
 12855 009c 51       		.byte	(.L987-.L989)/2
 12856 009d 0E       		.byte	(.L991-.L989)/2
 12857 009e 51       		.byte	(.L987-.L989)/2
 12858 009f 42       		.byte	(.L990-.L989)/2
 12859 00a0 51       		.byte	(.L987-.L989)/2
 12860 00a1 51       		.byte	(.L987-.L989)/2
 12861 00a2 4F       		.byte	(.L988-.L989)/2
 12862              	.LVL1571:
 12863 00a3 00       		.p2align 1
 12864              	.L1022:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 12865              		.loc 1 6080 5 is_stmt 0 view .LVU4362
 12866 00a4 0B46     		mov	r3, r1
 12867 00a6 EBE7     		b	.L986
 12868              	.LVL1572:
 12869              	.L991:
6083:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 12870              		.loc 1 6084 4 is_stmt 1 view .LVU4363
 12871              		.loc 1 6084 6 is_stmt 0 view .LVU4364
 12872 00a8 1B9B     		ldr	r3, [sp, #108]
 12873              	.LVL1573:
 12874              		.loc 1 6084 6 view .LVU4365
 12875 00aa 1A1D     		adds	r2, r3, #4
ARM GAS  /tmp/ccSjSmmD.s 			page 400


 12876              	.LVL1574:
 12877              		.loc 1 6084 6 view .LVU4366
 12878 00ac 1B92     		str	r2, [sp, #108]
 12879 00ae D3F80080 		ldr	r8, [r3]
6085:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 12880              		.loc 1 6085 4 is_stmt 1 view .LVU4367
 12881              	.LVL1575:
 12882              		.loc 1 6085 11 is_stmt 0 view .LVU4368
 12883 00b2 0027     		movs	r7, #0
 12884              	.LVL1576:
 12885              	.L995:
 12886              		.loc 1 6085 16 is_stmt 1 discriminator 1 view .LVU4369
 12887              		.loc 1 6085 17 is_stmt 0 discriminator 1 view .LVU4370
 12888 00b4 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 12889              		.loc 1 6085 16 discriminator 1 view .LVU4371
 12890 00b8 0BB1     		cbz	r3, .L1030
 12891              		.loc 1 6085 23 is_stmt 1 discriminator 3 view .LVU4372
 12892 00ba 0137     		adds	r7, r7, #1
 12893              	.LVL1577:
 12894              		.loc 1 6085 23 is_stmt 0 discriminator 3 view .LVU4373
 12895 00bc FAE7     		b	.L995
 12896              	.LVL1578:
 12897              	.L1030:
6086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 12898              		.loc 1 6086 4 is_stmt 1 view .LVU4374
 12899              		.loc 1 6086 7 is_stmt 0 view .LVU4375
 12900 00be 15F0020F 		tst	r5, #2
 12901 00c2 0ED0     		beq	.L997
 12902              	.LVL1579:
 12903              	.L1000:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
6088:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 12904              		.loc 1 6089 11 is_stmt 1 discriminator 1 view .LVU4376
 12905 00c4 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 12906 00c8 81B1     		cbz	r1, .L1002
 12907              		.loc 1 6089 15 discriminator 2 view .LVU4377
 12908              		.loc 1 6089 31 is_stmt 0 discriminator 2 view .LVU4378
 12909 00ca 08F10108 		add	r8, r8, #1
 12910              	.LVL1580:
 12911              		.loc 1 6089 15 discriminator 2 view .LVU4379
 12912 00ce 08A8     		add	r0, sp, #32
 12913 00d0 FFF7FEFF 		bl	putc_bfd
 12914              	.LVL1581:
 12915 00d4 F6E7     		b	.L1000
 12916              	.LVL1582:
 12917              	.L999:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12918              		.loc 1 6087 21 is_stmt 1 discriminator 2 view .LVU4380
 12919 00d6 2021     		movs	r1, #32
 12920 00d8 0DEB0100 		add	r0, sp, r1
 12921 00dc FFF7FEFF 		bl	putc_bfd
 12922              	.LVL1583:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12923              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU4381
 12924 00e0 2F46     		mov	r7, r5
 12925              	.LVL1584:
ARM GAS  /tmp/ccSjSmmD.s 			page 401


 12926              	.L997:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12927              		.loc 1 6087 16 is_stmt 1 discriminator 1 view .LVU4382
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12928              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU4383
 12929 00e2 7D1C     		adds	r5, r7, #1
 12930              	.LVL1585:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12931              		.loc 1 6087 16 discriminator 1 view .LVU4384
 12932 00e4 A742     		cmp	r7, r4
 12933 00e6 F6D3     		bcc	.L999
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 12934              		.loc 1 6087 13 discriminator 1 view .LVU4385
 12935 00e8 2F46     		mov	r7, r5
 12936 00ea EBE7     		b	.L1000
 12937              	.LVL1586:
 12938              	.L1002:
6090:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 12939              		.loc 1 6090 15 is_stmt 1 discriminator 1 view .LVU4386
 12940              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU4387
 12941 00ec 7D1C     		adds	r5, r7, #1
 12942              	.LVL1587:
 12943              		.loc 1 6090 15 discriminator 1 view .LVU4388
 12944 00ee A742     		cmp	r7, r4
 12945 00f0 20D2     		bcs	.L976
 12946              		.loc 1 6090 20 is_stmt 1 discriminator 2 view .LVU4389
 12947 00f2 2021     		movs	r1, #32
 12948 00f4 0DEB0100 		add	r0, sp, r1
 12949 00f8 FFF7FEFF 		bl	putc_bfd
 12950              	.LVL1588:
 12951              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU4390
 12952 00fc 2F46     		mov	r7, r5
 12953 00fe F5E7     		b	.L1002
 12954              	.LVL1589:
 12955              	.L993:
6091:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6092:Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 12956              		.loc 1 6094 4 is_stmt 1 view .LVU4391
 12957              		.loc 1 6094 25 is_stmt 0 view .LVU4392
 12958 0100 1B9B     		ldr	r3, [sp, #108]
 12959              	.LVL1590:
 12960              		.loc 1 6094 25 view .LVU4393
 12961 0102 1A1D     		adds	r2, r3, #4
 12962              	.LVL1591:
 12963              		.loc 1 6094 25 view .LVU4394
 12964 0104 1B92     		str	r2, [sp, #108]
 12965              		.loc 1 6094 4 discriminator 1 view .LVU4395
 12966 0106 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 12967              	.LVL1592:
 12968              		.loc 1 6094 4 discriminator 1 view .LVU4396
 12969 0108 08A8     		add	r0, sp, #32
 12970 010a FFF7FEFF 		bl	putc_bfd
 12971              	.LVL1593:
 12972              		.loc 1 6094 44 is_stmt 1 discriminator 2 view .LVU4397
 12973              		.loc 1 6094 44 is_stmt 0 view .LVU4398
ARM GAS  /tmp/ccSjSmmD.s 			page 402


 12974 010e 11E0     		b	.L976
 12975              	.LVL1594:
 12976              	.L990:
6095:Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
6098:Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
6101:Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 12977              		.loc 1 6104 4 is_stmt 1 view .LVU4399
 12978              		.loc 1 6104 12 view .LVU4400
 12979              		.loc 1 6104 6 is_stmt 0 view .LVU4401
 12980 0110 0A20     		movs	r0, #10
 12981              	.LVL1595:
 12982              	.L992:
6105:Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
6108:Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
6111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 12983              		.loc 1 6114 3 is_stmt 1 view .LVU4402
 12984              		.loc 1 6114 42 is_stmt 0 view .LVU4403
 12985 0112 15F0040F 		tst	r5, #4
 12986 0116 1ED0     		beq	.L1004
 12987              		.loc 1 6114 24 discriminator 1 view .LVU4404
 12988 0118 1B9A     		ldr	r2, [sp, #108]
 12989 011a 171D     		adds	r7, r2, #4
 12990 011c 1B97     		str	r7, [sp, #108]
 12991 011e 1268     		ldr	r2, [r2]
 12992              	.LVL1596:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12993              		.loc 1 6115 3 is_stmt 1 view .LVU4405
 12994              		.loc 1 6115 6 is_stmt 0 view .LVU4406
 12995 0120 442B     		cmp	r3, #68
 12996 0122 23D0     		beq	.L1005
 12997              	.LVL1597:
 12998              	.L1006:
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
6118:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 12999              		.loc 1 6119 3 is_stmt 1 view .LVU4407
 13000              		.loc 1 6119 5 is_stmt 0 view .LVU4408
 13001 0124 4FF0000C 		mov	ip, #0
 13002 0128 36E0     		b	.L1011
 13003              	.LVL1598:
 13004              	.L988:
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccSjSmmD.s 			page 403


 13005              		.loc 1 6107 4 is_stmt 1 view .LVU4409
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13006              		.loc 1 6107 12 view .LVU4410
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13007              		.loc 1 6107 6 is_stmt 0 view .LVU4411
 13008 012a 1020     		movs	r0, #16
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13009              		.loc 1 6107 12 view .LVU4412
 13010 012c F1E7     		b	.L992
 13011              	.LVL1599:
 13012              	.L987:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13013              		.loc 1 6110 4 is_stmt 1 view .LVU4413
 13014 012e 08A8     		add	r0, sp, #32
 13015 0130 FFF7FEFF 		bl	putc_bfd
 13016              	.LVL1600:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13017              		.loc 1 6110 22 discriminator 1 view .LVU4414
 13018              	.L976:
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13019              		.loc 1 6056 2 view .LVU4415
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13020              		.loc 1 6057 3 view .LVU4416
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13021              		.loc 1 6057 11 is_stmt 0 view .LVU4417
 13022 0134 3446     		mov	r4, r6
 13023              	.LVL1601:
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13024              		.loc 1 6057 5 view .LVU4418
 13025 0136 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 13026              	.LVL1602:
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 13027              		.loc 1 6058 3 is_stmt 1 view .LVU4419
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 13028              		.loc 1 6058 6 is_stmt 0 view .LVU4420
 13029 013a 0029     		cmp	r1, #0
 13030 013c 73D0     		beq	.L977
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 13031              		.loc 1 6059 3 is_stmt 1 view .LVU4421
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 13032              		.loc 1 6059 6 is_stmt 0 view .LVU4422
 13033 013e 2529     		cmp	r1, #37
 13034 0140 3FF46BAF 		beq	.L978
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 13035              		.loc 1 6060 4 is_stmt 1 view .LVU4423
 13036 0144 08A8     		add	r0, sp, #32
 13037 0146 FFF7FEFF 		bl	putc_bfd
 13038              	.LVL1603:
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13039              		.loc 1 6061 4 view .LVU4424
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13040              		.loc 1 6057 11 is_stmt 0 view .LVU4425
 13041 014a 2646     		mov	r6, r4
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13042              		.loc 1 6061 4 view .LVU4426
 13043 014c F2E7     		b	.L976
 13044              	.LVL1604:
ARM GAS  /tmp/ccSjSmmD.s 			page 404


 13045              	.L994:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
 13046              		.loc 1 6082 3 view .LVU4427
 13047 014e 0220     		movs	r0, #2
 13048 0150 DFE7     		b	.L992
 13049              	.L1023:
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13050              		.loc 1 6100 6 view .LVU4428
 13051 0152 0820     		movs	r0, #8
 13052 0154 DDE7     		b	.L992
 13053              	.LVL1605:
 13054              	.L1004:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13055              		.loc 1 6114 88 discriminator 2 view .LVU4429
 13056 0156 442B     		cmp	r3, #68
 13057 0158 04D0     		beq	.L1031
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13058              		.loc 1 6114 88 discriminator 5 view .LVU4430
 13059 015a 1B9B     		ldr	r3, [sp, #108]
 13060              	.LVL1606:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13061              		.loc 1 6114 88 discriminator 5 view .LVU4431
 13062 015c 1A1D     		adds	r2, r3, #4
 13063              	.LVL1607:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13064              		.loc 1 6114 88 discriminator 5 view .LVU4432
 13065 015e 1B92     		str	r2, [sp, #108]
 13066 0160 1A68     		ldr	r2, [r3]
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 13067              		.loc 1 6115 3 is_stmt 1 view .LVU4433
 13068 0162 DFE7     		b	.L1006
 13069              	.LVL1608:
 13070              	.L1031:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13071              		.loc 1 6114 71 is_stmt 0 discriminator 4 view .LVU4434
 13072 0164 1B9B     		ldr	r3, [sp, #108]
 13073              	.LVL1609:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13074              		.loc 1 6114 71 discriminator 4 view .LVU4435
 13075 0166 1A1D     		adds	r2, r3, #4
 13076              	.LVL1610:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13077              		.loc 1 6114 71 discriminator 4 view .LVU4436
 13078 0168 1B92     		str	r2, [sp, #108]
 13079 016a 1A68     		ldr	r2, [r3]
 13080              	.LVL1611:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 13081              		.loc 1 6115 3 is_stmt 1 view .LVU4437
 13082              	.L1005:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 13083              		.loc 1 6115 16 is_stmt 0 discriminator 1 view .LVU4438
 13084 016c 002A     		cmp	r2, #0
 13085 016e D9DA     		bge	.L1006
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 13086              		.loc 1 6116 4 is_stmt 1 view .LVU4439
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 13087              		.loc 1 6116 6 is_stmt 0 view .LVU4440
ARM GAS  /tmp/ccSjSmmD.s 			page 405


 13088 0170 5242     		rsbs	r2, r2, #0
 13089              	.LVL1612:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13090              		.loc 1 6117 4 is_stmt 1 view .LVU4441
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13091              		.loc 1 6117 6 is_stmt 0 view .LVU4442
 13092 0172 45F00805 		orr	r5, r5, #8
 13093              	.LVL1613:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13094              		.loc 1 6117 6 view .LVU4443
 13095 0176 D5E7     		b	.L1006
 13096              	.LVL1614:
 13097              	.L1032:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13098              		.loc 1 6122 17 discriminator 2 view .LVU4444
 13099 0178 2727     		movs	r7, #39
 13100              	.L1009:
 13101              		.loc 1 6122 17 discriminator 5 view .LVU4445
 13102 017a 3B44     		add	r3, r3, r7
 13103              	.LVL1615:
 13104              		.loc 1 6122 17 discriminator 5 view .LVU4446
 13105 017c DBB2     		uxtb	r3, r3
 13106              	.L1008:
 13107              	.LVL1616:
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13108              		.loc 1 6123 4 is_stmt 1 view .LVU4447
 13109              		.loc 1 6123 9 is_stmt 0 view .LVU4448
 13110 017e 0CF10107 		add	r7, ip, #1
 13111              	.LVL1617:
 13112              		.loc 1 6123 17 view .LVU4449
 13113 0182 3033     		adds	r3, r3, #48
 13114              	.LVL1618:
 13115              		.loc 1 6123 13 view .LVU4450
 13116 0184 0CF17009 		add	r9, ip, #112
 13117 0188 E944     		add	r9, sp, r9
 13118 018a 09F8703C 		strb	r3, [r9, #-112]
6124:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 13119              		.loc 1 6124 14 is_stmt 1 view .LVU4451
 13120 018e C645     		cmp	lr, r8
 13121 0190 10D8     		bhi	.L1010
 13122              		.loc 1 6124 14 is_stmt 0 discriminator 1 view .LVU4452
 13123 0192 1F2F     		cmp	r7, #31
 13124 0194 0ED8     		bhi	.L1010
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13125              		.loc 1 6123 9 view .LVU4453
 13126 0196 BC46     		mov	ip, r7
 13127              	.LVL1619:
 13128              	.L1011:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 13129              		.loc 1 6120 3 is_stmt 1 view .LVU4454
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13130              		.loc 1 6121 4 view .LVU4455
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13131              		.loc 1 6121 18 is_stmt 0 view .LVU4456
 13132 0198 8646     		mov	lr, r0
ARM GAS  /tmp/ccSjSmmD.s 			page 406


 13133 019a B2FBF0F7 		udiv	r7, r2, r0
 13134 019e 00FB1723 		mls	r3, r0, r7, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13135              		.loc 1 6121 6 view .LVU4457
 13136 01a2 DBB2     		uxtb	r3, r3
 13137              	.LVL1620:
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13138              		.loc 1 6121 24 is_stmt 1 view .LVU4458
 13139 01a4 9046     		mov	r8, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13140              		.loc 1 6121 26 is_stmt 0 view .LVU4459
 13141 01a6 3A46     		mov	r2, r7
 13142              	.LVL1621:
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13143              		.loc 1 6122 4 is_stmt 1 view .LVU4460
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13144              		.loc 1 6122 7 is_stmt 0 view .LVU4461
 13145 01a8 092B     		cmp	r3, #9
 13146 01aa E8D9     		bls	.L1008
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13147              		.loc 1 6122 15 is_stmt 1 discriminator 1 view .LVU4462
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13148              		.loc 1 6122 17 is_stmt 0 discriminator 1 view .LVU4463
 13149 01ac 7829     		cmp	r1, #120
 13150 01ae E3D0     		beq	.L1032
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13151              		.loc 1 6122 17 discriminator 3 view .LVU4464
 13152 01b0 0727     		movs	r7, #7
 13153 01b2 E2E7     		b	.L1009
 13154              	.LVL1622:
 13155              	.L1010:
6125:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 13156              		.loc 1 6125 3 is_stmt 1 view .LVU4465
 13157              		.loc 1 6125 6 is_stmt 0 view .LVU4466
 13158 01b4 15F0080F 		tst	r5, #8
 13159 01b8 08D0     		beq	.L1012
 13160              		.loc 1 6125 14 is_stmt 1 discriminator 1 view .LVU4467
 13161              	.LVL1623:
 13162              		.loc 1 6125 23 is_stmt 0 discriminator 1 view .LVU4468
 13163 01ba 07F17003 		add	r3, r7, #112
 13164              	.LVL1624:
 13165              		.loc 1 6125 23 discriminator 1 view .LVU4469
 13166 01be 0DEB0307 		add	r7, sp, r3
 13167 01c2 2D23     		movs	r3, #45
 13168 01c4 07F8703C 		strb	r3, [r7, #-112]
 13169              		.loc 1 6125 19 discriminator 1 view .LVU4470
 13170 01c8 0CF10207 		add	r7, ip, #2
 13171              	.LVL1625:
 13172              	.L1012:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13173              		.loc 1 6126 3 is_stmt 1 view .LVU4471
 13174              		.loc 1 6126 10 view .LVU4472
 13175              		.loc 1 6126 12 is_stmt 0 view .LVU4473
 13176 01cc 15F0010F 		tst	r5, #1
 13177 01d0 03D0     		beq	.L1026
 13178              		.loc 1 6126 12 discriminator 1 view .LVU4474
 13179 01d2 4FF0300A 		mov	r10, #48
ARM GAS  /tmp/ccSjSmmD.s 			page 407


 13180              	.L1013:
 13181              	.LVL1626:
6127:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 13182              		.loc 1 6127 3 is_stmt 1 view .LVU4475
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13183              		.loc 1 6126 5 is_stmt 0 view .LVU4476
 13184 01d6 B846     		mov	r8, r7
 13185              		.loc 1 6127 9 view .LVU4477
 13186 01d8 07E0     		b	.L1014
 13187              	.LVL1627:
 13188              	.L1026:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13189              		.loc 1 6126 12 discriminator 2 view .LVU4478
 13190 01da 4FF0200A 		mov	r10, #32
 13191 01de FAE7     		b	.L1013
 13192              	.LVL1628:
 13193              	.L1016:
 13194              		.loc 1 6127 31 is_stmt 1 discriminator 3 view .LVU4479
 13195 01e0 5146     		mov	r1, r10
 13196 01e2 08A8     		add	r0, sp, #32
 13197 01e4 FFF7FEFF 		bl	putc_bfd
 13198              	.LVL1629:
 13199              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4480
 13200 01e8 C846     		mov	r8, r9
 13201              	.LVL1630:
 13202              	.L1014:
 13203              		.loc 1 6127 19 is_stmt 1 discriminator 1 view .LVU4481
 13204 01ea 15F0020F 		tst	r5, #2
 13205 01ee 04D1     		bne	.L1017
 13206              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4482
 13207 01f0 08F10109 		add	r9, r8, #1
 13208              	.LVL1631:
 13209              		.loc 1 6127 19 discriminator 2 view .LVU4483
 13210 01f4 A045     		cmp	r8, r4
 13211 01f6 F3D3     		bcc	.L1016
 13212              		.loc 1 6127 23 discriminator 2 view .LVU4484
 13213 01f8 C846     		mov	r8, r9
 13214              	.LVL1632:
 13215              	.L1017:
6128:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 13216              		.loc 1 6128 3 is_stmt 1 view .LVU4485
6129:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 13217              		.loc 1 6129 4 view .LVU4486
 13218 01fa 013F     		subs	r7, r7, #1
 13219              	.LVL1633:
 13220              		.loc 1 6129 4 is_stmt 0 view .LVU4487
 13221 01fc 07F17003 		add	r3, r7, #112
 13222 0200 6B44     		add	r3, sp, r3
 13223 0202 13F8701C 		ldrb	r1, [r3, #-112]	@ zero_extendqisi2
 13224 0206 08A8     		add	r0, sp, #32
 13225 0208 FFF7FEFF 		bl	putc_bfd
 13226              	.LVL1634:
6130:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 13227              		.loc 1 6130 12 is_stmt 1 discriminator 1 view .LVU4488
 13228 020c 002F     		cmp	r7, #0
 13229 020e F4D1     		bne	.L1017
 13230              		.loc 1 6130 12 is_stmt 0 discriminator 1 view .LVU4489
ARM GAS  /tmp/ccSjSmmD.s 			page 408


 13231 0210 04E0     		b	.L1018
 13232              	.LVL1635:
 13233              	.L1019:
6131:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 13234              		.loc 1 6131 19 is_stmt 1 discriminator 2 view .LVU4490
 13235 0212 5146     		mov	r1, r10
 13236 0214 08A8     		add	r0, sp, #32
 13237 0216 FFF7FEFF 		bl	putc_bfd
 13238              	.LVL1636:
 13239              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4491
 13240 021a A846     		mov	r8, r5
 13241              	.LVL1637:
 13242              	.L1018:
 13243              		.loc 1 6131 14 is_stmt 1 discriminator 1 view .LVU4492
 13244              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4493
 13245 021c 08F10105 		add	r5, r8, #1
 13246              	.LVL1638:
 13247              		.loc 1 6131 14 discriminator 1 view .LVU4494
 13248 0220 A045     		cmp	r8, r4
 13249 0222 F6D3     		bcc	.L1019
 13250 0224 86E7     		b	.L976
 13251              	.LVL1639:
 13252              	.L977:
6132:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:Middlewares/Third_Party/FatFs/src/ff.c **** 
6134:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 13253              		.loc 1 6134 2 is_stmt 1 view .LVU4495
6135:Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 13254              		.loc 1 6136 2 view .LVU4496
 13255              		.loc 1 6136 9 is_stmt 0 view .LVU4497
 13256 0226 08A8     		add	r0, sp, #32
 13257 0228 FFF7FEFF 		bl	putc_flush
 13258              	.LVL1640:
6137:Middlewares/Third_Party/FatFs/src/ff.c **** }
 13259              		.loc 1 6137 1 view .LVU4498
 13260 022c 1DB0     		add	sp, sp, #116
 13261              		.cfi_def_cfa_offset 44
 13262              		@ sp needed
 13263 022e BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 13264              		.cfi_restore 14
 13265              		.cfi_restore 10
 13266              		.cfi_restore 9
 13267              		.cfi_restore 8
 13268              		.cfi_restore 7
 13269              		.cfi_restore 6
 13270              		.cfi_restore 5
 13271              		.cfi_restore 4
 13272              		.cfi_def_cfa_offset 12
 13273 0232 03B0     		add	sp, sp, #12
 13274              		.cfi_restore 3
 13275              		.cfi_restore 2
 13276              		.cfi_restore 1
 13277              		.cfi_def_cfa_offset 0
 13278 0234 7047     		bx	lr
 13279              		.cfi_endproc
 13280              	.LFE200:
ARM GAS  /tmp/ccSjSmmD.s 			page 409


 13282              		.section	.rodata.cst.0,"a"
 13283              		.align	2
 13286              	cst.0:
 13287 0000 0100     		.short	1
 13288 0002 0400     		.short	4
 13289 0004 1000     		.short	16
 13290 0006 4000     		.short	64
 13291 0008 0001     		.short	256
 13292 000a 0002     		.short	512
 13293 000c 0000     		.short	0
 13294              		.section	.rodata.cst32.1,"a"
 13295              		.align	2
 13298              	cst32.1:
 13299 0000 0100     		.short	1
 13300 0002 0200     		.short	2
 13301 0004 0400     		.short	4
 13302 0006 0800     		.short	8
 13303 0008 1000     		.short	16
 13304 000a 2000     		.short	32
 13305 000c 0000     		.short	0
 13306              		.section	.rodata.LfnOfs,"a"
 13307              		.align	2
 13310              	LfnOfs:
 13311 0000 01030507 		.ascii	"\001\003\005\007\011\016\020\022\024\026\030\034\036"
 13311      090E1012 
 13311      1416181C 
 13311      1E
 13312              		.section	.rodata.ExCvt,"a"
 13313              		.align	2
 13316              	ExCvt:
 13317 0000 43554541 		.ascii	"CUEAAAACEEEIIIAAE\222\222OOOUUYOUO\234O\236\237AIOU"
 13317      41414143 
 13317      45454549 
 13317      49494141 
 13317      4592924F 
 13318 0024 A5A5A6A7 		.ascii	"\245\245\246\247\250\251\252\253\254\255\256\257\260"
 13318      A8A9AAAB 
 13318      ACADAEAF 
 13318      B0
 13319 0031 B1B2B3B4 		.ascii	"\261\262\263\264AAA\270\271\272\273\274\275\276\277"
 13319      414141B8 
 13319      B9BABBBC 
 13319      BDBEBF
 13320 0040 C0C1C2C3 		.ascii	"\300\301\302\303\304\305AA\310\311\312\313\314\315\316"
 13320      C4C54141 
 13320      C8C9CACB 
 13320      CCCDCE
 13321 004f CFD1D145 		.ascii	"\317\321\321EEEIIII\331\332\333\334\335I\337O\341OO"
 13321      45454949 
 13321      4949D9DA 
 13321      DBDCDD49 
 13321      DF4FE14F 
 13322 0064 4F4FE6E8 		.ascii	"OO\346\350\350UUUYY\356\357\360\361\362\363\364\365"
 13322      E8555555 
 13322      5959EEEF 
 13322      F0F1F2F3 
 13322      F4F5
ARM GAS  /tmp/ccSjSmmD.s 			page 410


 13323 0076 F6F7F8F9 		.ascii	"\366\367\370\371\372\373\374\375\376\377"
 13323      FAFBFCFD 
 13323      FEFF
 13324              		.section	.bss.LfnBuf,"aw",%nobits
 13325              		.align	2
 13328              	LfnBuf:
 13329 0000 00000000 		.space	512
 13329      00000000 
 13329      00000000 
 13329      00000000 
 13329      00000000 
 13330              		.section	.bss.Files,"aw",%nobits
 13331              		.align	2
 13334              	Files:
 13335 0000 00000000 		.space	32
 13335      00000000 
 13335      00000000 
 13335      00000000 
 13335      00000000 
 13336              		.section	.bss.Fsid,"aw",%nobits
 13337              		.align	1
 13340              	Fsid:
 13341 0000 0000     		.space	2
 13342              		.section	.bss.FatFs,"aw",%nobits
 13343              		.align	2
 13346              	FatFs:
 13347 0000 00000000 		.space	4
 13348              		.text
 13349              	.Letext0:
 13350              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 13351              		.file 3 "Middlewares/Third_Party/FatFs/src/ff.h"
 13352              		.file 4 "Middlewares/Third_Party/FatFs/src/diskio.h"
 13353              		.file 5 "/usr/lib/gcc/arm-none-eabi/14.2.0/include/stdarg.h"
 13354              		.file 6 "<built-in>"
ARM GAS  /tmp/ccSjSmmD.s 			page 411


DEFINED SYMBOLS
                            *ABS*:00000000 ff.c
     /tmp/ccSjSmmD.s:21     .text.ld_word:00000000 $t
     /tmp/ccSjSmmD.s:26     .text.ld_word:00000000 ld_word
     /tmp/ccSjSmmD.s:53     .text.ld_dword:00000000 $t
     /tmp/ccSjSmmD.s:58     .text.ld_dword:00000000 ld_dword
     /tmp/ccSjSmmD.s:97     .text.st_word:00000000 $t
     /tmp/ccSjSmmD.s:102    .text.st_word:00000000 st_word
     /tmp/ccSjSmmD.s:126    .text.st_dword:00000000 $t
     /tmp/ccSjSmmD.s:131    .text.st_dword:00000000 st_dword
     /tmp/ccSjSmmD.s:170    .text.mem_cpy:00000000 $t
     /tmp/ccSjSmmD.s:175    .text.mem_cpy:00000000 mem_cpy
     /tmp/ccSjSmmD.s:215    .text.mem_set:00000000 $t
     /tmp/ccSjSmmD.s:220    .text.mem_set:00000000 mem_set
     /tmp/ccSjSmmD.s:247    .text.mem_cmp:00000000 $t
     /tmp/ccSjSmmD.s:252    .text.mem_cmp:00000000 mem_cmp
     /tmp/ccSjSmmD.s:295    .text.chk_chr:00000000 $t
     /tmp/ccSjSmmD.s:300    .text.chk_chr:00000000 chk_chr
     /tmp/ccSjSmmD.s:336    .text.chk_lock:00000000 $t
     /tmp/ccSjSmmD.s:341    .text.chk_lock:00000000 chk_lock
     /tmp/ccSjSmmD.s:483    .text.chk_lock:00000070 $d
     /tmp/ccSjSmmD.s:13334  .bss.Files:00000000 Files
     /tmp/ccSjSmmD.s:488    .text.enq_lock:00000000 $t
     /tmp/ccSjSmmD.s:493    .text.enq_lock:00000000 enq_lock
     /tmp/ccSjSmmD.s:537    .text.enq_lock:0000001c $d
     /tmp/ccSjSmmD.s:542    .text.inc_lock:00000000 $t
     /tmp/ccSjSmmD.s:547    .text.inc_lock:00000000 inc_lock
     /tmp/ccSjSmmD.s:714    .text.inc_lock:0000009c $d
     /tmp/ccSjSmmD.s:719    .text.dec_lock:00000000 $t
     /tmp/ccSjSmmD.s:724    .text.dec_lock:00000000 dec_lock
     /tmp/ccSjSmmD.s:805    .text.dec_lock:0000003c $d
     /tmp/ccSjSmmD.s:810    .text.clear_lock:00000000 $t
     /tmp/ccSjSmmD.s:815    .text.clear_lock:00000000 clear_lock
     /tmp/ccSjSmmD.s:888    .text.clear_lock:00000038 $d
     /tmp/ccSjSmmD.s:893    .text.clust2sect:00000000 $t
     /tmp/ccSjSmmD.s:898    .text.clust2sect:00000000 clust2sect
     /tmp/ccSjSmmD.s:938    .text.clmt_clust:00000000 $t
     /tmp/ccSjSmmD.s:943    .text.clmt_clust:00000000 clmt_clust
     /tmp/ccSjSmmD.s:1009   .text.ld_clust:00000000 $t
     /tmp/ccSjSmmD.s:1014   .text.ld_clust:00000000 ld_clust
     /tmp/ccSjSmmD.s:1069   .text.st_clust:00000000 $t
     /tmp/ccSjSmmD.s:1074   .text.st_clust:00000000 st_clust
     /tmp/ccSjSmmD.s:1122   .text.pick_lfn:00000000 $t
     /tmp/ccSjSmmD.s:1127   .text.pick_lfn:00000000 pick_lfn
     /tmp/ccSjSmmD.s:1270   .text.pick_lfn:00000080 $d
     /tmp/ccSjSmmD.s:13310  .rodata.LfnOfs:00000000 LfnOfs
     /tmp/ccSjSmmD.s:1275   .text.put_lfn:00000000 $t
     /tmp/ccSjSmmD.s:1280   .text.put_lfn:00000000 put_lfn
     /tmp/ccSjSmmD.s:1407   .text.put_lfn:00000074 $d
     /tmp/ccSjSmmD.s:1412   .text.gen_numname:00000000 $t
     /tmp/ccSjSmmD.s:1417   .text.gen_numname:00000000 gen_numname
     /tmp/ccSjSmmD.s:1620   .text.sum_sfn:00000000 $t
     /tmp/ccSjSmmD.s:1625   .text.sum_sfn:00000000 sum_sfn
     /tmp/ccSjSmmD.s:1670   .text.get_ldnumber:00000000 $t
     /tmp/ccSjSmmD.s:1675   .text.get_ldnumber:00000000 get_ldnumber
     /tmp/ccSjSmmD.s:1787   .text.putc_init:00000000 $t
     /tmp/ccSjSmmD.s:1792   .text.putc_init:00000000 putc_init
ARM GAS  /tmp/ccSjSmmD.s 			page 412


     /tmp/ccSjSmmD.s:1815   .text.validate:00000000 $t
     /tmp/ccSjSmmD.s:1820   .text.validate:00000000 validate
     /tmp/ccSjSmmD.s:1928   .text.sync_window:00000000 $t
     /tmp/ccSjSmmD.s:1933   .text.sync_window:00000000 sync_window
     /tmp/ccSjSmmD.s:2039   .text.move_window:00000000 $t
     /tmp/ccSjSmmD.s:2044   .text.move_window:00000000 move_window
     /tmp/ccSjSmmD.s:2115   .text.check_fs:00000000 $t
     /tmp/ccSjSmmD.s:2120   .text.check_fs:00000000 check_fs
     /tmp/ccSjSmmD.s:2215   .text.check_fs:0000006c $d
     /tmp/ccSjSmmD.s:2222   .text.find_volume:00000000 $t
     /tmp/ccSjSmmD.s:2227   .text.find_volume:00000000 find_volume
     /tmp/ccSjSmmD.s:2893   .text.find_volume:000002f4 $d
     /tmp/ccSjSmmD.s:13346  .bss.FatFs:00000000 FatFs
     /tmp/ccSjSmmD.s:13340  .bss.Fsid:00000000 Fsid
     /tmp/ccSjSmmD.s:13328  .bss.LfnBuf:00000000 LfnBuf
     /tmp/ccSjSmmD.s:2902   .text.put_fat:00000000 $t
     /tmp/ccSjSmmD.s:2907   .text.put_fat:00000000 put_fat
     /tmp/ccSjSmmD.s:3152   .text.get_fat:00000000 $t
     /tmp/ccSjSmmD.s:3157   .text.get_fat:00000000 get_fat
     /tmp/ccSjSmmD.s:3373   .text.dir_sdi:00000000 $t
     /tmp/ccSjSmmD.s:3378   .text.dir_sdi:00000000 dir_sdi
     /tmp/ccSjSmmD.s:3574   .text.create_chain:00000000 $t
     /tmp/ccSjSmmD.s:3579   .text.create_chain:00000000 create_chain
     /tmp/ccSjSmmD.s:3808   .text.remove_chain:00000000 $t
     /tmp/ccSjSmmD.s:3813   .text.remove_chain:00000000 remove_chain
     /tmp/ccSjSmmD.s:3973   .text.dir_next:00000000 $t
     /tmp/ccSjSmmD.s:3978   .text.dir_next:00000000 dir_next
     /tmp/ccSjSmmD.s:4275   .text.dir_alloc:00000000 $t
     /tmp/ccSjSmmD.s:4280   .text.dir_alloc:00000000 dir_alloc
     /tmp/ccSjSmmD.s:4394   .text.dir_read:00000000 $t
     /tmp/ccSjSmmD.s:4399   .text.dir_read:00000000 dir_read
     /tmp/ccSjSmmD.s:4629   .text.dir_remove:00000000 $t
     /tmp/ccSjSmmD.s:4634   .text.dir_remove:00000000 dir_remove
     /tmp/ccSjSmmD.s:4744   .rodata.create_name.str1.4:00000000 $d
     /tmp/ccSjSmmD.s:4751   .text.create_name:00000000 $t
     /tmp/ccSjSmmD.s:4756   .text.create_name:00000000 create_name
     /tmp/ccSjSmmD.s:5314   .text.create_name:00000220 $d
     /tmp/ccSjSmmD.s:13316  .rodata.ExCvt:00000000 ExCvt
     /tmp/ccSjSmmD.s:5321   .text.get_fileinfo:00000000 $t
     /tmp/ccSjSmmD.s:5326   .text.get_fileinfo:00000000 get_fileinfo
     /tmp/ccSjSmmD.s:5624   .text.cmp_lfn:00000000 $t
     /tmp/ccSjSmmD.s:5629   .text.cmp_lfn:00000000 cmp_lfn
     /tmp/ccSjSmmD.s:5787   .text.cmp_lfn:0000009c $d
     /tmp/ccSjSmmD.s:5792   .text.dir_find:00000000 $t
     /tmp/ccSjSmmD.s:5797   .text.dir_find:00000000 dir_find
     /tmp/ccSjSmmD.s:6047   .text.follow_path:00000000 $t
     /tmp/ccSjSmmD.s:6052   .text.follow_path:00000000 follow_path
     /tmp/ccSjSmmD.s:6213   .text.dir_register:00000000 $t
     /tmp/ccSjSmmD.s:6218   .text.dir_register:00000000 dir_register
     /tmp/ccSjSmmD.s:6516   .text.dir_register:0000013c $d
     /tmp/ccSjSmmD.s:6521   .text.sync_fs:00000000 $t
     /tmp/ccSjSmmD.s:6526   .text.sync_fs:00000000 sync_fs
     /tmp/ccSjSmmD.s:6639   .text.sync_fs:00000084 $d
     /tmp/ccSjSmmD.s:6645   .text.f_mount:00000000 $t
     /tmp/ccSjSmmD.s:6651   .text.f_mount:00000000 f_mount
     /tmp/ccSjSmmD.s:6764   .text.f_mount:00000058 $d
     /tmp/ccSjSmmD.s:6769   .text.f_open:00000000 $t
ARM GAS  /tmp/ccSjSmmD.s 			page 413


     /tmp/ccSjSmmD.s:6775   .text.f_open:00000000 f_open
     /tmp/ccSjSmmD.s:7323   .text.f_read:00000000 $t
     /tmp/ccSjSmmD.s:7329   .text.f_read:00000000 f_read
     /tmp/ccSjSmmD.s:7745   .text.f_write:00000000 $t
     /tmp/ccSjSmmD.s:7751   .text.f_write:00000000 f_write
     /tmp/ccSjSmmD.s:8213   .text.putc_bfd:00000000 $t
     /tmp/ccSjSmmD.s:8218   .text.putc_bfd:00000000 putc_bfd
     /tmp/ccSjSmmD.s:8326   .text.putc_flush:00000000 $t
     /tmp/ccSjSmmD.s:8331   .text.putc_flush:00000000 putc_flush
     /tmp/ccSjSmmD.s:8405   .text.f_sync:00000000 $t
     /tmp/ccSjSmmD.s:8411   .text.f_sync:00000000 f_sync
     /tmp/ccSjSmmD.s:8558   .text.f_close:00000000 $t
     /tmp/ccSjSmmD.s:8564   .text.f_close:00000000 f_close
     /tmp/ccSjSmmD.s:8629   .text.f_lseek:00000000 $t
     /tmp/ccSjSmmD.s:8635   .text.f_lseek:00000000 f_lseek
     /tmp/ccSjSmmD.s:9324   .text.f_opendir:00000000 $t
     /tmp/ccSjSmmD.s:9330   .text.f_opendir:00000000 f_opendir
     /tmp/ccSjSmmD.s:9506   .text.f_closedir:00000000 $t
     /tmp/ccSjSmmD.s:9512   .text.f_closedir:00000000 f_closedir
     /tmp/ccSjSmmD.s:9573   .text.f_readdir:00000000 $t
     /tmp/ccSjSmmD.s:9579   .text.f_readdir:00000000 f_readdir
     /tmp/ccSjSmmD.s:9680   .text.f_stat:00000000 $t
     /tmp/ccSjSmmD.s:9686   .text.f_stat:00000000 f_stat
     /tmp/ccSjSmmD.s:9775   .text.f_getfree:00000000 $t
     /tmp/ccSjSmmD.s:9781   .text.f_getfree:00000000 f_getfree
     /tmp/ccSjSmmD.s:10064  .text.f_truncate:00000000 $t
     /tmp/ccSjSmmD.s:10070  .text.f_truncate:00000000 f_truncate
     /tmp/ccSjSmmD.s:10250  .text.f_unlink:00000000 $t
     /tmp/ccSjSmmD.s:10256  .text.f_unlink:00000000 f_unlink
     /tmp/ccSjSmmD.s:10470  .text.f_mkdir:00000000 $t
     /tmp/ccSjSmmD.s:10476  .text.f_mkdir:00000000 f_mkdir
     /tmp/ccSjSmmD.s:10836  .text.f_rename:00000000 $t
     /tmp/ccSjSmmD.s:10842  .text.f_rename:00000000 f_rename
     /tmp/ccSjSmmD.s:11126  .rodata.f_mkfs.str1.4:00000000 $d
     /tmp/ccSjSmmD.s:11136  .text.f_mkfs:00000000 $t
     /tmp/ccSjSmmD.s:11142  .text.f_mkfs:00000000 f_mkfs
     /tmp/ccSjSmmD.s:11710  .text.f_mkfs:00000268 $d
     /tmp/ccSjSmmD.s:13298  .rodata.cst32.1:00000000 cst32.1
     /tmp/ccSjSmmD.s:13286  .rodata.cst.0:00000000 cst.0
     /tmp/ccSjSmmD.s:11716  .text.f_mkfs:00000278 $t
     /tmp/ccSjSmmD.s:12196  .text.f_mkfs:00000574 $d
     /tmp/ccSjSmmD.s:12205  .text.f_mkfs:0000058c $t
     /tmp/ccSjSmmD.s:12439  .text.f_gets:00000000 $t
     /tmp/ccSjSmmD.s:12445  .text.f_gets:00000000 f_gets
     /tmp/ccSjSmmD.s:12561  .text.f_putc:00000000 $t
     /tmp/ccSjSmmD.s:12567  .text.f_putc:00000000 f_putc
     /tmp/ccSjSmmD.s:12611  .text.f_puts:00000000 $t
     /tmp/ccSjSmmD.s:12617  .text.f_puts:00000000 f_puts
     /tmp/ccSjSmmD.s:12671  .text.f_printf:00000000 $t
     /tmp/ccSjSmmD.s:12677  .text.f_printf:00000000 f_printf
     /tmp/ccSjSmmD.s:12839  .text.f_printf:0000008c $d
     /tmp/ccSjSmmD.s:13283  .rodata.cst.0:00000000 $d
     /tmp/ccSjSmmD.s:13295  .rodata.cst32.1:00000000 $d
     /tmp/ccSjSmmD.s:13307  .rodata.LfnOfs:00000000 $d
     /tmp/ccSjSmmD.s:13313  .rodata.ExCvt:00000000 $d
     /tmp/ccSjSmmD.s:13325  .bss.LfnBuf:00000000 $d
     /tmp/ccSjSmmD.s:13331  .bss.Files:00000000 $d
ARM GAS  /tmp/ccSjSmmD.s 			page 414


     /tmp/ccSjSmmD.s:13337  .bss.Fsid:00000000 $d
     /tmp/ccSjSmmD.s:13343  .bss.FatFs:00000000 $d
     /tmp/ccSjSmmD.s:12863  .text.f_printf:000000a3 $d
     /tmp/ccSjSmmD.s:12863  .text.f_printf:000000a4 $t

UNDEFINED SYMBOLS
disk_status
disk_write
disk_read
disk_initialize
ff_convert
ff_wtoupper
disk_ioctl
get_fattime
